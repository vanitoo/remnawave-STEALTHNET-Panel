/*! For license information please see main.e892a64f.js.LICENSE.txt */
(()=>{var e={356(e,t,r){e.exports=r(9645).last},418(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toString=function e(t){if(null==t)return"";if("string"===typeof t)return t;if(Array.isArray(t))return t.map(e).join(",");const r=String(t);return"0"===r&&Object.is(Number(t),-0)?"-0":r}},579(e,t,r){"use strict";e.exports=r(2799)},870(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObject=function(e){return null!==e&&("object"===typeof e||"function"===typeof e)}},1203(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8420);t.isArrayLike=function(e){return null!=e&&"function"!==typeof e&&n.isLength(e.length)}},1293(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4830);t.debounce=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"object"!==typeof r&&(r={});const{leading:i=!1,trailing:a=!0,maxWait:s}=r,o=Array(2);let l;i&&(o[0]="leading"),a&&(o[1]="trailing");let c=null;const u=n.debounce(function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];l=e.apply(this,r),c=null},t,{edges:o}),d=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null!=s&&(null===c&&(c=Date.now()),Date.now()-c>=s)?(l=e.apply(this,r),c=Date.now(),u.cancel(),u.schedule(),l):(u.apply(this,r),l)};return d.cancel=u.cancel,d.flush=()=>(u.flush(),l),d}},1444(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(418),i=r(3272);t.toPath=function(e){if(Array.isArray(e))return e.map(i.toKey);if("symbol"===typeof e)return[e];const t=[],r=(e=n.toString(e)).length;if(0===r)return t;let a=0,s="",o="",l=!1;for(46===e.charCodeAt(0)&&(t.push(""),a++);a<r;){const n=e[a];o?"\\"===n&&a+1<r?(a++,s+=e[a]):n===o?o="":s+=n:l?'"'===n||"'"===n?o=n:"]"===n?(l=!1,t.push(s),s=""):s+=n:"["===n?(l=!0,s&&(t.push(s),s="")):"."===n?s&&(t.push(s),s=""):s+=n,a++}return s&&t.push(s),t}},1844(e){e.exports={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}},2086(e,t,r){"use strict";e.exports=r(5082)},2104(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1203),i=r(9921);t.isArrayLikeObject=function(e){return i.isObjectLike(e)&&n.isArrayLike(e)}},2132(e,t,r){"use strict";var n=r(2897).default;Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const i=r(870),a=r(4803),s=r(5093);function o(e,t,r,u){if(t===e)return!0;switch(typeof t){case"object":return function(e,t,r,n){if(null==t)return!0;if(Array.isArray(t))return l(e,t,r,n);if(t instanceof Map)return function(e,t,r,n){if(0===t.size)return!0;if(!(e instanceof Map))return!1;for(const[i,a]of t.entries()){if(!1===r(e.get(i),a,i,e,t,n))return!1}return!0}(e,t,r,n);if(t instanceof Set)return c(e,t,r,n);const i=Object.keys(t);if(null==e||a.isPrimitive(e))return 0===i.length;if(0===i.length)return!0;if(null!==n&&void 0!==n&&n.has(t))return n.get(t)===e;null===n||void 0===n||n.set(t,e);try{for(let s=0;s<i.length;s++){const o=i[s];if(!a.isPrimitive(e)&&!(o in e))return!1;if(void 0===t[o]&&void 0!==e[o])return!1;if(null===t[o]&&null!==e[o])return!1;if(!r(e[o],t[o],o,e,t,n))return!1}return!0}finally{null===n||void 0===n||n.delete(t)}}(e,t,r,u);case"function":return Object.keys(t).length>0?o(e,n({},t),r,u):s.isEqualsSameValueZero(e,t);default:return i.isObject(e)?"string"!==typeof t||""===t:s.isEqualsSameValueZero(e,t)}}function l(e,t,r,n){if(0===t.length)return!0;if(!Array.isArray(e))return!1;const i=new Set;for(let a=0;a<t.length;a++){const s=t[a];let o=!1;for(let l=0;l<e.length;l++){if(i.has(l))continue;let c=!1;if(r(e[l],s,a,e,t,n)&&(c=!0),c){i.add(l),o=!0;break}}if(!o)return!1}return!0}function c(e,t,r,n){return 0===t.size||e instanceof Set&&l([...e],[...t],r,n)}t.isMatchWith=function e(t,r,n){return"function"!==typeof n?e(t,r,()=>{}):o(t,r,function e(t,r,i,a,s,l){const c=n(t,r,i,a,s,l);return void 0!==c?Boolean(c):o(t,r,e,l)},new Map)},t.isSetMatch=c},2204(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5316),i=r(7312),a=r(3799);t.sortBy=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];const o=r.length;return o>1&&a.isIterateeCall(e,r[0],r[1])?r=[]:o>2&&a.isIterateeCall(r[0],r[1],r[2])&&(r=[r[0]]),n.orderBy(e,i.flatten(r),["asc"])}},2330(e,t,r){"use strict";var n=r(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=n.useState,s=n.useEffect,o=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(n){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=a({inst:{value:r,getSnapshot:t}}),i=n[0].inst,u=n[1];return o(function(){i.value=r,i.getSnapshot=t,c(i)&&u({inst:i})},[e,r,t]),s(function(){return c(i)&&u({inst:i}),e(function(){c(i)&&u({inst:i})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},2489(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isDeepKey=function(e){switch(typeof e){case"number":case"symbol":return!1;case"string":return e.includes(".")||e.includes("[")||e.includes("]")}}},2682(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPlainObject=function(e){if("object"!==typeof e)return!1;if(null==e)return!1;if(null===Object.getPrototypeOf(e))return!0;if("[object Object]"!==Object.prototype.toString.call(e)){var t;const r=e[Symbol.toStringTag];if(null==r)return!1;return!!(null!==(t=Object.getOwnPropertyDescriptor(e,Symbol.toStringTag))&&void 0!==t&&t.writable)&&e.toString()==="[object ".concat(r,"]")}let r=e;for(;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}},2715(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9599),i=r(7330),a=r(3808),s=r(8845);t.iteratee=function(e){if(null==e)return n.identity;switch(typeof e){case"function":return e;case"object":return Array.isArray(e)&&2===e.length?s.matchesProperty(e[0],e[1]):a.matches(e);case"string":case"symbol":case"number":return i.property(e)}}},2777(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isSymbol=function(e){return"symbol"===typeof e||e instanceof Symbol}},2799(e,t){"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(e,t,n){var i=null;if(void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in n={},t)"key"!==a&&(n[a]=t[a]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:i,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=i,t.jsxs=i},2897(e,t,r){var n=r(3693);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},3272(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toKey=function(e){var t;return"string"===typeof e||"symbol"===typeof e?e:Object.is(null===e||void 0===e||null===(t=e.valueOf)||void 0===t?void 0:t.call(e),-0)?"-0":String(e)}},3693(e,t,r){var n=r(7736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},3738(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},3757(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isTypedArray=function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}},3799(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4704),i=r(1203),a=r(870),s=r(5093);t.isIterateeCall=function(e,t,r){return!!a.isObject(r)&&(!!("number"===typeof t&&i.isArrayLike(r)&&n.isIndex(t)&&t<r.length||"string"===typeof t&&t in r)&&s.isEqualsSameValueZero(r[t],e))}},3808(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),i=r(5261);t.matches=function(e){return e=i.cloneDeep(e),t=>n.isMatch(t,e)}},3821(e,t,r){e.exports=r(2204).sortBy},4132(e){var t;self,t=()=>(()=>{"use strict";var e={};return(()=>{var t=e;Object.defineProperty(t,"__esModule",{value:!0}),t.FitAddon=void 0,t.FitAddon=class{activate(e){this._terminal=e}dispose(){}fit(){const e=this.proposeDimensions();if(!e||!this._terminal||isNaN(e.cols)||isNaN(e.rows))return;const t=this._terminal._core;this._terminal.rows===e.rows&&this._terminal.cols===e.cols||(t._renderService.clear(),this._terminal.resize(e.cols,e.rows))}proposeDimensions(){if(!this._terminal)return;if(!this._terminal.element||!this._terminal.element.parentElement)return;const e=this._terminal._core,t=e._renderService.dimensions;if(0===t.css.cell.width||0===t.css.cell.height)return;const r=0===this._terminal.options.scrollback?0:e.viewport.scrollBarWidth,n=window.getComputedStyle(this._terminal.element.parentElement),i=parseInt(n.getPropertyValue("height")),a=Math.max(0,parseInt(n.getPropertyValue("width"))),s=window.getComputedStyle(this._terminal.element),o=i-(parseInt(s.getPropertyValue("padding-top"))+parseInt(s.getPropertyValue("padding-bottom"))),l=a-(parseInt(s.getPropertyValue("padding-right"))+parseInt(s.getPropertyValue("padding-left")))-r;return{cols:Math.max(2,Math.floor(l/t.css.cell.width)),rows:Math.max(1,Math.floor(o/t.css.cell.height))}}}})(),e})(),e.exports=t()},4208(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.uniqBy=function(e,t){const r=new Map;for(let n=0;n<e.length;n++){const i=e[n],a=t(i,n,e);r.has(a)||r.set(a,i)}return Array.from(r.values())}},4288(e,t){"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||m}function b(){}function x(e,t,r){this.props=e,this.context=t,this.refs=v,this.updater=r||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var _=x.prototype=new b;_.constructor=x,g(_,y.prototype),_.isPureReactComponent=!0;var w=Array.isArray;function S(){}var j={H:null,A:null,T:null,S:null},k=Object.prototype.hasOwnProperty;function C(e,t,n){var i=n.ref;return{$$typeof:r,type:e,key:t,ref:void 0!==i?i:null,props:n}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var O=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0;break;case h:return N((u=e._init)(e._payload),t,i,a,s)}}if(u)return s=s(e),u=""===a?"."+P(e,0):a,w(s)?(i="",null!=u&&(i=u.replace(O,"$&/")+"/"),N(s,t,i,"",function(e){return e})):null!=s&&(E(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(O,"$&/")+"/")+u,s=C(l.type,c,l.props)),t.push(s)),1;u=0;var d,f=""===a?".":a+":";if(w(e))for(var m=0;m<e.length;m++)u+=N(a=e[m],t,i,o=f+P(a,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=N(a=a.value,t,i,o=f+P(a,m++),s);else if("object"===o){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(S,S):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,r){if(null==e)return e;var n=[],i=0;return N(e,n,"","",function(e){return t.call(r,e,i++)}),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:A,forEach:function(e,t,r){A(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=D,t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=x,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=j,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return j.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!k.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(n[a]=t[a]);var a=arguments.length-2;if(1===a)n.children=r;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];n.children=s}return C(e.type,i,n)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,r){var n,i={},a=null;if(null!=t)for(n in void 0!==t.key&&(a=""+t.key),t)k.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===i[n]&&(i[n]=s[n]);return C(e,a,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=j.T,r={};j.T=r;try{var n=e(),i=j.S;null!==i&&i(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(S,R)}catch(a){R(a)}finally{null!==t&&null!==r.types&&(t.types=r.types),j.T=t}},t.unstable_useCacheRefresh=function(){return j.H.useCacheRefresh()},t.use=function(e){return j.H.use(e)},t.useActionState=function(e,t,r){return j.H.useActionState(e,t,r)},t.useCallback=function(e,t){return j.H.useCallback(e,t)},t.useContext=function(e){return j.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return j.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return j.H.useEffect(e,t)},t.useEffectEvent=function(e){return j.H.useEffectEvent(e)},t.useId=function(){return j.H.useId()},t.useImperativeHandle=function(e,t,r){return j.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return j.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return j.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return j.H.useMemo(e,t)},t.useOptimistic=function(e,t){return j.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return j.H.useReducer(e,t,r)},t.useRef=function(e){return j.H.useRef(e)},t.useState=function(e){return j.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return j.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return j.H.useTransition()},t.version="19.2.3"},4332(e,t,r){e.exports=r(5053).uniqBy},4391(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(7004)},4704(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const r=/^(?:0|[1-9]\d*)$/;t.isIndex=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;switch(typeof e){case"number":return Number.isInteger(e)&&e>=0&&e<t;case"symbol":return!1;case"string":return r.test(e)}}},4803(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isPrimitive=function(e){return null==e||"object"!==typeof e&&"function"!==typeof e}},4830(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.debounce=function(e,t){let r,{signal:n,edges:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null;const s=null!=i&&i.includes("leading"),o=null==i||i.includes("trailing"),l=()=>{null!==a&&(e.apply(r,a),r=void 0,a=null)};let c=null;const u=()=>{null!=c&&clearTimeout(c),c=setTimeout(()=>{c=null,o&&l(),d()},t)},d=()=>{null!==c&&(clearTimeout(c),c=null),r=void 0,a=null},h=function(){if(null!==n&&void 0!==n&&n.aborted)return;r=this;for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];a=t;const o=null==c;u(),s&&o&&l()};return h.schedule=u,h.cancel=d,h.flush=()=>{l()},null===n||void 0===n||n.addEventListener("abort",d,{once:!0}),h}},4879(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6770);t.toFinite=function(e){if(!e)return 0===e?e:0;if((e=n.toNumber(e))===1/0||e===-1/0){return(e<0?-1:1)*Number.MAX_VALUE}return e===e?e:0}},5043(e,t,r){"use strict";e.exports=r(4288)},5053(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(4208),i=r(9903),a=r(9599),s=r(2104),o=r(2715);t.uniqBy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.identity;return s.isArrayLikeObject(e)?n.uniqBy(Array.from(e),i.ary(o.iteratee(t),1)):[]}},5082(e,t){"use strict";var r=60103,n=60106,i=60107,a=60108,s=60114,o=60109,l=60110,c=60112,u=60113,d=60120,h=60115,f=60116,p=60121,m=60122,g=60117,v=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;r=b("react.element"),n=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),s=b("react.profiler"),o=b("react.provider"),l=b("react.context"),c=b("react.forward_ref"),u=b("react.suspense"),d=b("react.suspense_list"),h=b("react.memo"),f=b("react.lazy"),p=b("react.block"),m=b("react.server.block"),g=b("react.fundamental"),v=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case i:case s:case a:case u:case d:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case h:case o:return e;default:return t}}case n:return t}}}t.isFragment=function(e){return x(e)===i}},5093(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isEqualsSameValueZero=function(e,t){return e===t||Number.isNaN(e)&&Number.isNaN(t)}},5104(e){var t;self,t=()=>(()=>{"use strict";var e={4567:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.AccessibilityManager=void 0;const a=r(9042),s=r(6114),o=r(9924),l=r(844),c=r(5596),u=r(4725),d=r(3656);let h=t.AccessibilityManager=class extends l.Disposable{constructor(e,t){super(),this._terminal=e,this._renderService=t,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let r=0;r<this._terminal.rows;r++)this._rowElements[r]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[r]);if(this._topBoundaryFocusListener=e=>this._handleBoundaryFocus(e,0),this._bottomBoundaryFocusListener=e=>this._handleBoundaryFocus(e,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new o.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(e=>this._handleResize(e.rows))),this.register(this._terminal.onRender(e=>this._refreshRows(e.start,e.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(e=>this._handleChar(e))),this.register(this._terminal.onLineFeed(()=>this._handleChar("\n"))),this.register(this._terminal.onA11yTab(e=>this._handleTab(e))),this.register(this._terminal.onKey(e=>this._handleKey(e.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new c.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,d.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,l.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(e){for(let t=0;t<e;t++)this._handleChar(" ")}_handleChar(e){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==e&&(this._charsToAnnounce+=e):this._charsToAnnounce+=e,"\n"===e&&(this._liveRegionLineCount++,21===this._liveRegionLineCount&&(this._liveRegion.textContent+=a.tooMuchOutput)),s.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,s.isMac&&this._liveRegion.remove()}_handleKey(e){this._clearLiveRegion(),/[\0-\x1F\x7F-\x9F]/.test(e)||this._charsToConsume.push(e)}_refreshRows(e,t){this._liveRegionDebouncer.refresh(e,t,this._terminal.rows)}_renderRows(e,t){const r=this._terminal.buffer,n=r.lines.length.toString();for(let i=e;i<=t;i++){const e=r.translateBufferLineToString(r.ydisp+i,!0),t=(r.ydisp+i+1).toString(),a=this._rowElements[i];a&&(0===e.length?a.innerText="\xa0":a.textContent=e,a.setAttribute("aria-posinset",t),a.setAttribute("aria-setsize",n))}this._announceCharacters()}_announceCharacters(){0!==this._charsToAnnounce.length&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(e,t){const r=e.target,n=this._rowElements[0===t?1:this._rowElements.length-2];if(r.getAttribute("aria-posinset")===(0===t?"1":"".concat(this._terminal.buffer.lines.length)))return;if(e.relatedTarget!==n)return;let i,a;if(0===t?(i=r,a=this._rowElements.pop(),this._rowContainer.removeChild(a)):(i=this._rowElements.shift(),a=r,this._rowContainer.removeChild(i)),i.removeEventListener("focus",this._topBoundaryFocusListener),a.removeEventListener("focus",this._bottomBoundaryFocusListener),0===t){const e=this._createAccessibilityTreeNode();this._rowElements.unshift(e),this._rowContainer.insertAdjacentElement("afterbegin",e)}else{const e=this._createAccessibilityTreeNode();this._rowElements.push(e),this._rowContainer.appendChild(e)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(0===t?-1:1),this._rowElements[0===t?1:this._rowElements.length-2].focus(),e.preventDefault(),e.stopImmediatePropagation()}_handleResize(e){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let t=this._rowContainer.children.length;t<this._terminal.rows;t++)this._rowElements[t]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[t]);for(;this._rowElements.length>e;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const e=document.createElement("div");return e.setAttribute("role","listitem"),e.tabIndex=-1,this._refreshRowDimensions(e),e}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width="".concat(this._renderService.dimensions.css.canvas.width,"px"),this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let e=0;e<this._terminal.rows;e++)this._refreshRowDimensions(this._rowElements[e])}}_refreshRowDimensions(e){e.style.height="".concat(this._renderService.dimensions.css.cell.height,"px")}};t.AccessibilityManager=h=n([i(1,u.IRenderService)],h)},3614:(e,t)=>{function r(e){return e.replace(/\r?\n/g,"\r")}function n(e,t){return t?"\x1b[200~"+e+"\x1b[201~":e}function i(e,t,i,a){e=n(e=r(e),i.decPrivateModes.bracketedPasteMode&&!0!==a.rawOptions.ignoreBracketedPasteMode),i.triggerDataEvent(e,!0),t.value=""}function a(e,t,r){const n=r.getBoundingClientRect(),i=e.clientX-n.left-10,a=e.clientY-n.top-10;t.style.width="20px",t.style.height="20px",t.style.left="".concat(i,"px"),t.style.top="".concat(a,"px"),t.style.zIndex="1000",t.focus()}Object.defineProperty(t,"__esModule",{value:!0}),t.rightClickHandler=t.moveTextAreaUnderMouseCursor=t.paste=t.handlePasteEvent=t.copyHandler=t.bracketTextForPaste=t.prepareTextForTerminal=void 0,t.prepareTextForTerminal=r,t.bracketTextForPaste=n,t.copyHandler=function(e,t){e.clipboardData&&e.clipboardData.setData("text/plain",t.selectionText),e.preventDefault()},t.handlePasteEvent=function(e,t,r,n){e.stopPropagation(),e.clipboardData&&i(e.clipboardData.getData("text/plain"),t,r,n)},t.paste=i,t.moveTextAreaUnderMouseCursor=a,t.rightClickHandler=function(e,t,r,n,i){a(e,t,r),i&&n.rightClickSelect(e),t.value=n.selectionText,t.select()}},7239:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorContrastCache=void 0;const n=r(1505);t.ColorContrastCache=class{constructor(){this._color=new n.TwoKeyMap,this._css=new n.TwoKeyMap}setCss(e,t,r){this._css.set(e,t,r)}getCss(e,t){return this._css.get(e,t)}setColor(e,t,r){this._color.set(e,t,r)}getColor(e,t){return this._color.get(e,t)}clear(){this._color.clear(),this._css.clear()}}},3656:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addDisposableDomListener=void 0,t.addDisposableDomListener=function(e,t,r,n){e.addEventListener(t,r,n);let i=!1;return{dispose:()=>{i||(i=!0,e.removeEventListener(t,r,n))}}}},6465:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Linkifier2=void 0;const a=r(3656),s=r(8460),o=r(844),l=r(2585);let c=t.Linkifier2=class extends o.Disposable{get currentLink(){return this._currentLink}constructor(e){super(),this._bufferService=e,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new s.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new s.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,o.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,o.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(e){return this._linkProviders.push(e),{dispose:()=>{const t=this._linkProviders.indexOf(e);-1!==t&&this._linkProviders.splice(t,1)}}}attachToDom(e,t,r){this._element=e,this._mouseService=t,this._renderService=r,this.register((0,a.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,a.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,a.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,a.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(e){if(this._lastMouseEvent=e,!this._element||!this._mouseService)return;const t=this._positionFromMouseEvent(e,this._element,this._mouseService);if(!t)return;this._isMouseOut=!1;const r=e.composedPath();for(let n=0;n<r.length;n++){const e=r[n];if(e.classList.contains("xterm"))break;if(e.classList.contains("xterm-hover"))return}this._lastBufferCell&&t.x===this._lastBufferCell.x&&t.y===this._lastBufferCell.y||(this._handleHover(t),this._lastBufferCell=t)}_handleHover(e){if(this._activeLine!==e.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(e,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,e)||(this._clearCurrentLink(),this._askForLink(e,!0))}_askForLink(e,t){var r,n;this._activeProviderReplies&&t||(null===(r=this._activeProviderReplies)||void 0===r||r.forEach(e=>{null==e||e.forEach(e=>{e.link.dispose&&e.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=e.y);let i=!1;for(const[a,s]of this._linkProviders.entries())t?(null===(n=this._activeProviderReplies)||void 0===n?void 0:n.get(a))&&(i=this._checkLinkProviderResult(a,e,i)):s.provideLinks(e.y,t=>{var r,n;if(this._isMouseOut)return;const s=null==t?void 0:t.map(e=>({link:e}));null===(r=this._activeProviderReplies)||void 0===r||r.set(a,s),i=this._checkLinkProviderResult(a,e,i),(null===(n=this._activeProviderReplies)||void 0===n?void 0:n.size)===this._linkProviders.length&&this._removeIntersectingLinks(e.y,this._activeProviderReplies)})}_removeIntersectingLinks(e,t){const r=new Set;for(let n=0;n<t.size;n++){const i=t.get(n);if(i)for(let t=0;t<i.length;t++){const n=i[t],a=n.link.range.start.y<e?0:n.link.range.start.x,s=n.link.range.end.y>e?this._bufferService.cols:n.link.range.end.x;for(let e=a;e<=s;e++){if(r.has(e)){i.splice(t--,1);break}r.add(e)}}}}_checkLinkProviderResult(e,t,r){var n;if(!this._activeProviderReplies)return r;const i=this._activeProviderReplies.get(e);let a=!1;for(let s=0;s<e;s++)this._activeProviderReplies.has(s)&&!this._activeProviderReplies.get(s)||(a=!0);if(!a&&i){const e=i.find(e=>this._linkAtPosition(e.link,t));e&&(r=!0,this._handleNewLink(e))}if(this._activeProviderReplies.size===this._linkProviders.length&&!r)for(let s=0;s<this._activeProviderReplies.size;s++){const e=null===(n=this._activeProviderReplies.get(s))||void 0===n?void 0:n.find(e=>this._linkAtPosition(e.link,t));if(e){r=!0,this._handleNewLink(e);break}}return r}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(e){if(!this._element||!this._mouseService||!this._currentLink)return;const t=this._positionFromMouseEvent(e,this._element,this._mouseService);t&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,t)&&this._currentLink.link.activate(e,this._currentLink.link.text)}_clearCurrentLink(e,t){this._element&&this._currentLink&&this._lastMouseEvent&&(!e||!t||this._currentLink.link.range.start.y>=e&&this._currentLink.link.range.end.y<=t)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,o.disposeArray)(this._linkCacheDisposables))}_handleNewLink(e){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const t=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);t&&this._linkAtPosition(e.link,t)&&(this._currentLink=e,this._currentLink.state={decorations:{underline:void 0===e.link.decorations||e.link.decorations.underline,pointerCursor:void 0===e.link.decorations||e.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,e.link,this._lastMouseEvent),e.link.decorations={},Object.defineProperties(e.link.decorations,{pointerCursor:{get:()=>{var e,t;return null===(t=null===(e=this._currentLink)||void 0===e?void 0:e.state)||void 0===t?void 0:t.decorations.pointerCursor},set:e=>{var t,r;(null===(t=this._currentLink)||void 0===t?void 0:t.state)&&this._currentLink.state.decorations.pointerCursor!==e&&(this._currentLink.state.decorations.pointerCursor=e,this._currentLink.state.isHovered&&(null===(r=this._element)||void 0===r||r.classList.toggle("xterm-cursor-pointer",e)))}},underline:{get:()=>{var e,t;return null===(t=null===(e=this._currentLink)||void 0===e?void 0:e.state)||void 0===t?void 0:t.decorations.underline},set:t=>{var r,n,i;(null===(r=this._currentLink)||void 0===r?void 0:r.state)&&(null===(i=null===(n=this._currentLink)||void 0===n?void 0:n.state)||void 0===i?void 0:i.decorations.underline)!==t&&(this._currentLink.state.decorations.underline=t,this._currentLink.state.isHovered&&this._fireUnderlineEvent(e.link,t))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(e=>{if(!this._currentLink)return;const t=0===e.start?0:e.start+1+this._bufferService.buffer.ydisp,r=this._bufferService.buffer.ydisp+1+e.end;if(this._currentLink.link.range.start.y>=t&&this._currentLink.link.range.end.y<=r&&(this._clearCurrentLink(t,r),this._lastMouseEvent&&this._element)){const e=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);e&&this._askForLink(e,!1)}})))}_linkHover(e,t,r){var n;(null===(n=this._currentLink)||void 0===n?void 0:n.state)&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!0),this._currentLink.state.decorations.pointerCursor&&e.classList.add("xterm-cursor-pointer")),t.hover&&t.hover(r,t.text)}_fireUnderlineEvent(e,t){const r=e.range,n=this._bufferService.buffer.ydisp,i=this._createLinkUnderlineEvent(r.start.x-1,r.start.y-n-1,r.end.x,r.end.y-n-1,void 0);(t?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(i)}_linkLeave(e,t,r){var n;(null===(n=this._currentLink)||void 0===n?void 0:n.state)&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(t,!1),this._currentLink.state.decorations.pointerCursor&&e.classList.remove("xterm-cursor-pointer")),t.leave&&t.leave(r,t.text)}_linkAtPosition(e,t){const r=e.range.start.y*this._bufferService.cols+e.range.start.x,n=e.range.end.y*this._bufferService.cols+e.range.end.x,i=t.y*this._bufferService.cols+t.x;return r<=i&&i<=n}_positionFromMouseEvent(e,t,r){const n=r.getCoords(e,t,this._bufferService.cols,this._bufferService.rows);if(n)return{x:n[0],y:n[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(e,t,r,n,i){return{x1:e,y1:t,x2:r,y2:n,cols:this._bufferService.cols,fg:i}}};t.Linkifier2=c=n([i(0,l.IBufferService)],c)},9042:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.tooMuchOutput=t.promptLabel=void 0,t.promptLabel="Terminal input",t.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkProvider=void 0;const a=r(511),s=r(2585);let o=t.OscLinkProvider=class{constructor(e,t,r){this._bufferService=e,this._optionsService=t,this._oscLinkService=r}provideLinks(e,t){var r;const n=this._bufferService.buffer.lines.get(e-1);if(!n)return void t(void 0);const i=[],s=this._optionsService.rawOptions.linkHandler,o=new a.CellData,c=n.getTrimmedLength();let u=-1,d=-1,h=!1;for(let a=0;a<c;a++)if(-1!==d||n.hasContent(a)){if(n.loadCell(a,o),o.hasExtendedAttrs()&&o.extended.urlId){if(-1===d){d=a,u=o.extended.urlId;continue}h=o.extended.urlId!==u}else-1!==d&&(h=!0);if(h||-1!==d&&a===c-1){const t=null===(r=this._oscLinkService.getLinkData(u))||void 0===r?void 0:r.uri;if(t){const r={start:{x:d+1,y:e},end:{x:a+(h||a!==c-1?0:1),y:e}};let n=!1;if(!(null==s?void 0:s.allowNonHttpProtocols))try{const e=new URL(t);["http:","https:"].includes(e.protocol)||(n=!0)}catch(e){n=!0}n||i.push({text:t,range:r,activate:(e,t)=>s?s.activate(e,t,r):l(0,t),hover:(e,t)=>{var n;return null===(n=null==s?void 0:s.hover)||void 0===n?void 0:n.call(s,e,t,r)},leave:(e,t)=>{var n;return null===(n=null==s?void 0:s.leave)||void 0===n?void 0:n.call(s,e,t,r)}})}h=!1,o.hasExtendedAttrs()&&o.extended.urlId?(d=a,u=o.extended.urlId):(d=-1,u=-1)}}t(i)}};function l(e,t){if(confirm("Do you want to navigate to ".concat(t,"?\n\nWARNING: This link could potentially be dangerous"))){const r=window.open();if(r){try{r.opener=null}catch(e){}r.location.href=t}else console.warn("Opening link blocked as opener could not be cleared")}}t.OscLinkProvider=o=n([i(0,s.IBufferService),i(1,s.IOptionsService),i(2,s.IOscLinkService)],o)},6193:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.RenderDebouncer=void 0,t.RenderDebouncer=class{constructor(e,t){this._parentWindow=e,this._renderCallback=t,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(e){return this._refreshCallbacks.push(e),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(e,t,r){this._rowCount=r,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return void this._runRefreshCallbacks();const e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const e of this._refreshCallbacks)e(0);this._refreshCallbacks=[]}}},5596:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ScreenDprMonitor=void 0;const n=r(844);class i extends n.Disposable{constructor(e){super(),this._parentWindow=e,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,n.toDisposable)(()=>{this.clearListener()}))}setListener(e){this._listener&&this.clearListener(),this._listener=e,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var e;this._outerListener&&(null===(e=this._resolutionMediaMatchList)||void 0===e||e.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia("screen and (resolution: ".concat(this._parentWindow.devicePixelRatio,"dppx)")),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}t.ScreenDprMonitor=i},3236:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Terminal=void 0;const n=r(3614),i=r(3656),a=r(6465),s=r(9042),o=r(3730),l=r(1680),c=r(3107),u=r(5744),d=r(2950),h=r(1296),f=r(428),p=r(4269),m=r(5114),g=r(8934),v=r(3230),y=r(9312),b=r(4725),x=r(6731),_=r(8055),w=r(8969),S=r(8460),j=r(844),k=r(6114),C=r(8437),E=r(2584),O=r(7399),P=r(5941),N=r(9074),A=r(2585),T=r(5435),R=r(4567),D="undefined"!=typeof window?window.document:null;class L extends w.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),this.browser=k,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new j.MutableDisposable),this._onCursorMove=this.register(new S.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new S.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new S.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new S.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new S.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new S.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new S.EventEmitter),this._onBlur=this.register(new S.EventEmitter),this._onA11yCharEmitter=this.register(new S.EventEmitter),this._onA11yTabEmitter=this.register(new S.EventEmitter),this._onWillOpen=this.register(new S.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(a.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(o.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(N.DecorationService),this._instantiationService.setService(A.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((e,t)=>this.refresh(e,t))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(e=>this._reportWindowsOptions(e))),this.register(this._inputHandler.onColor(e=>this._handleColorEvent(e))),this.register((0,S.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,S.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,S.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,S.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(e=>this._afterResize(e.cols,e.rows))),this.register((0,j.toDisposable)(()=>{var e,t;this._customKeyEventHandler=void 0,null===(t=null===(e=this.element)||void 0===e?void 0:e.parentNode)||void 0===t||t.removeChild(this.element)}))}_handleColorEvent(e){if(this._themeService)for(const t of e){let e,r="";switch(t.index){case 256:e="foreground",r="10";break;case 257:e="background",r="11";break;case 258:e="cursor",r="12";break;default:e="ansi",r="4;"+t.index}switch(t.type){case 0:const n=_.color.toColorRGB("ansi"===e?this._themeService.colors.ansi[t.index]:this._themeService.colors[e]);this.coreService.triggerDataEvent("".concat(E.C0.ESC,"]").concat(r,";").concat((0,P.toRgbString)(n)).concat(E.C1_ESCAPED.ST));break;case 1:if("ansi"===e)this._themeService.modifyColors(e=>e.ansi[t.index]=_.rgba.toColor(...t.color));else{const r=e;this._themeService.modifyColors(e=>e[r]=_.rgba.toColor(...t.color))}break;case 2:this._themeService.restoreColor(t.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(e){e?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(R.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(e){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(E.C0.ESC+"[I"),this.updateCursorStyle(e),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var e;return null===(e=this.textarea)||void 0===e?void 0:e.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(E.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const e=this.buffer.ybase+this.buffer.y,t=this.buffer.lines.get(e);if(!t)return;const r=Math.min(this.buffer.x,this.cols-1),n=this._renderService.dimensions.css.cell.height,i=t.getWidth(r),a=this._renderService.dimensions.css.cell.width*i,s=this.buffer.y*this._renderService.dimensions.css.cell.height,o=r*this._renderService.dimensions.css.cell.width;this.textarea.style.left=o+"px",this.textarea.style.top=s+"px",this.textarea.style.width=a+"px",this.textarea.style.height=n+"px",this.textarea.style.lineHeight=n+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,i.addDisposableDomListener)(this.element,"copy",e=>{this.hasSelection()&&(0,n.copyHandler)(e,this._selectionService)}));const e=e=>(0,n.handlePasteEvent)(e,this.textarea,this.coreService,this.optionsService);this.register((0,i.addDisposableDomListener)(this.textarea,"paste",e)),this.register((0,i.addDisposableDomListener)(this.element,"paste",e)),k.isFirefox?this.register((0,i.addDisposableDomListener)(this.element,"mousedown",e=>{2===e.button&&(0,n.rightClickHandler)(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,i.addDisposableDomListener)(this.element,"contextmenu",e=>{(0,n.rightClickHandler)(e,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),k.isLinux&&this.register((0,i.addDisposableDomListener)(this.element,"auxclick",e=>{1===e.button&&(0,n.moveTextAreaUnderMouseCursor)(e,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,i.addDisposableDomListener)(this.textarea,"keyup",e=>this._keyUp(e),!0)),this.register((0,i.addDisposableDomListener)(this.textarea,"keydown",e=>this._keyDown(e),!0)),this.register((0,i.addDisposableDomListener)(this.textarea,"keypress",e=>this._keyPress(e),!0)),this.register((0,i.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,i.addDisposableDomListener)(this.textarea,"compositionupdate",e=>this._compositionHelper.compositionupdate(e))),this.register((0,i.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,i.addDisposableDomListener)(this.textarea,"input",e=>this._inputEvent(e),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(e){var t;if(!e)throw new Error("Terminal requires a parent element.");e.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=e.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),e.appendChild(this.element);const r=D.createDocumentFragment();this._viewportElement=D.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),r.appendChild(this._viewportElement),this._viewportScrollArea=D.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=D.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=D.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),r.appendChild(this.screenElement),this.textarea=D.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",s.promptLabel),k.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(m.CoreBrowserService,this.textarea,null!==(t=this._document.defaultView)&&void 0!==t?t:window),this._instantiationService.setService(b.ICoreBrowserService,this._coreBrowserService),this.register((0,i.addDisposableDomListener)(this.textarea,"focus",e=>this._handleTextAreaFocus(e))),this.register((0,i.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(f.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(b.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(x.ThemeService),this._instantiationService.setService(b.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(p.CharacterJoinerService),this._instantiationService.setService(b.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(v.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(b.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(e=>this._onRender.fire(e))),this.onResize(e=>this._renderService.resize(e.cols,e.rows)),this._compositionView=D.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(d.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(r);try{this._onWillOpen.fire(this.element)}catch(e){}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(g.MouseService),this._instantiationService.setService(b.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(l.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(e=>this.scrollLines(e.amount,e.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(y.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(b.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(e=>this.scrollLines(e.amount,e.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(e=>this._renderService.handleSelectionChanged(e.start,e.end,e.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(e=>{this.textarea.value=e,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(e=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,i.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(c.BufferDecorationRenderer,this.screenElement)),this.register((0,i.addDisposableDomListener)(this.element,"mousedown",e=>this._selectionService.handleMouseDown(e))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(R.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",e=>this._handleScreenReaderModeOptionChange(e))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",e=>{!this._overviewRulerRenderer&&e&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(u.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(h.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const e=this,t=this.element;function r(t){const r=e._mouseService.getMouseReportCoords(t,e.screenElement);if(!r)return!1;let n,i;switch(t.overrideType||t.type){case"mousemove":i=32,void 0===t.buttons?(n=3,void 0!==t.button&&(n=t.button<3?t.button:3)):n=1&t.buttons?0:4&t.buttons?1:2&t.buttons?2:3;break;case"mouseup":i=0,n=t.button<3?t.button:3;break;case"mousedown":i=1,n=t.button<3?t.button:3;break;case"wheel":if(0===e.viewport.getLinesScrolled(t))return!1;i=t.deltaY<0?0:1,n=4;break;default:return!1}return!(void 0===i||void 0===n||n>4)&&e.coreMouseService.triggerMouseEvent({col:r.col,row:r.row,x:r.x,y:r.y,button:n,action:i,ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey})}const n={mouseup:null,wheel:null,mousedrag:null,mousemove:null},a={mouseup:e=>(r(e),e.buttons||(this._document.removeEventListener("mouseup",n.mouseup),n.mousedrag&&this._document.removeEventListener("mousemove",n.mousedrag)),this.cancel(e)),wheel:e=>(r(e),this.cancel(e,!0)),mousedrag:e=>{e.buttons&&r(e)},mousemove:e=>{e.buttons||r(e)}};this.register(this.coreMouseService.onProtocolChange(e=>{e?("debug"===this.optionsService.rawOptions.logLevel&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(e)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&e?n.mousemove||(t.addEventListener("mousemove",a.mousemove),n.mousemove=a.mousemove):(t.removeEventListener("mousemove",n.mousemove),n.mousemove=null),16&e?n.wheel||(t.addEventListener("wheel",a.wheel,{passive:!1}),n.wheel=a.wheel):(t.removeEventListener("wheel",n.wheel),n.wheel=null),2&e?n.mouseup||(t.addEventListener("mouseup",a.mouseup),n.mouseup=a.mouseup):(this._document.removeEventListener("mouseup",n.mouseup),t.removeEventListener("mouseup",n.mouseup),n.mouseup=null),4&e?n.mousedrag||(n.mousedrag=a.mousedrag):(this._document.removeEventListener("mousemove",n.mousedrag),n.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,i.addDisposableDomListener)(t,"mousedown",e=>{if(e.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(e))return r(e),n.mouseup&&this._document.addEventListener("mouseup",n.mouseup),n.mousedrag&&this._document.addEventListener("mousemove",n.mousedrag),this.cancel(e)})),this.register((0,i.addDisposableDomListener)(t,"wheel",e=>{if(!n.wheel){if(!this.buffer.hasScrollback){const t=this.viewport.getLinesScrolled(e);if(0===t)return;const r=E.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(e.deltaY<0?"A":"B");let n="";for(let e=0;e<Math.abs(t);e++)n+=r;return this.coreService.triggerDataEvent(n,!0),this.cancel(e,!0)}return this.viewport.handleWheel(e)?this.cancel(e):void 0}},{passive:!1})),this.register((0,i.addDisposableDomListener)(t,"touchstart",e=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(e),this.cancel(e)},{passive:!0})),this.register((0,i.addDisposableDomListener)(t,"touchmove",e=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(e)?void 0:this.cancel(e)},{passive:!1}))}refresh(e,t){var r;null===(r=this._renderService)||void 0===r||r.refreshRows(e,t)}updateCursorStyle(e){var t;(null===(t=this._selectionService)||void 0===t?void 0:t.shouldColumnSelect(e))?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;var n;1===r?(super.scrollLines(e,t,r),this.refresh(0,this.rows-1)):null===(n=this.viewport)||void 0===n||n.scrollLines(e)}paste(e){(0,n.paste)(e,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(e){this._customKeyEventHandler=e}registerLinkProvider(e){return this.linkifier2.registerLinkProvider(e)}registerCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const t=this._characterJoinerService.register(e);return this.refresh(0,this.rows-1),t}deregisterCharacterJoiner(e){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(e)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(e){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+e)}registerDecoration(e){return this._decorationService.registerDecoration(e)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(e,t,r){this._selectionService.setSelection(e,t,r)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var e;null===(e=this._selectionService)||void 0===e||e.clearSelection()}selectAll(){var e;null===(e=this._selectionService)||void 0===e||e.selectAll()}selectLines(e,t){var r;null===(r=this._selectionService)||void 0===r||r.selectLines(e,t)}_keyDown(e){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;const t=this.browser.isMac&&this.options.macOptionIsMeta&&e.altKey;if(!t&&!this._compositionHelper.keydown(e))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;t||"Dead"!==e.key&&"AltGraph"!==e.key||(this._unprocessedDeadKey=!0);const r=(0,O.evaluateKeyboardEvent)(e,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(e),3===r.type||2===r.type){const t=this.rows-1;return this.scrollLines(2===r.type?-t:t),this.cancel(e,!0)}return 1===r.type&&this.selectAll(),!!this._isThirdLevelShift(this.browser,e)||(r.cancel&&this.cancel(e,!0),!r.key||!!(e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&1===e.key.length&&e.key.charCodeAt(0)>=65&&e.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(r.key!==E.C0.ETX&&r.key!==E.C0.CR||(this.textarea.value=""),this._onKey.fire({key:r.key,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(r.key,!0),!this.optionsService.rawOptions.screenReaderMode||e.altKey||e.ctrlKey?this.cancel(e,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(e,t){const r=e.isMac&&!this.options.macOptionIsMeta&&t.altKey&&!t.ctrlKey&&!t.metaKey||e.isWindows&&t.altKey&&t.ctrlKey&&!t.metaKey||e.isWindows&&t.getModifierState("AltGraph");return"keypress"===t.type?r:r&&(!t.keyCode||t.keyCode>47)}_keyUp(e){this._keyDownSeen=!1,this._customKeyEventHandler&&!1===this._customKeyEventHandler(e)||(function(e){return 16===e.keyCode||17===e.keyCode||18===e.keyCode}(e)||this.focus(),this.updateCursorStyle(e),this._keyPressHandled=!1)}_keyPress(e){let t;if(this._keyPressHandled=!1,this._keyDownHandled)return!1;if(this._customKeyEventHandler&&!1===this._customKeyEventHandler(e))return!1;if(this.cancel(e),e.charCode)t=e.charCode;else if(null===e.which||void 0===e.which)t=e.keyCode;else{if(0===e.which||0===e.charCode)return!1;t=e.which}return!(!t||(e.altKey||e.ctrlKey||e.metaKey)&&!this._isThirdLevelShift(this.browser,e)||(t=String.fromCharCode(t),this._onKey.fire({key:t,domEvent:e}),this._showCursor(),this.coreService.triggerDataEvent(t,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(e){if(e.data&&"insertText"===e.inputType&&(!e.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const t=e.data;return this.coreService.triggerDataEvent(t,!0),this.cancel(e),!0}return!1}resize(e,t){e!==this.cols||t!==this.rows?super.resize(e,t):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(e,t){var r,n;null===(r=this._charSizeService)||void 0===r||r.measure(),null===(n=this.viewport)||void 0===n||n.syncScrollArea(!0)}clear(){var e;if(0!==this.buffer.ybase||0!==this.buffer.y){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let e=1;e<this.rows;e++)this.buffer.lines.push(this.buffer.getBlankLine(C.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),null===(e=this.viewport)||void 0===e||e.reset(),this.refresh(0,this.rows-1)}}reset(){var e,t;this.options.rows=this.rows,this.options.cols=this.cols;const r=this._customKeyEventHandler;this._setup(),super.reset(),null===(e=this._selectionService)||void 0===e||e.reset(),this._decorationService.reset(),null===(t=this.viewport)||void 0===t||t.reset(),this._customKeyEventHandler=r,this.refresh(0,this.rows-1)}clearTextureAtlas(){var e;null===(e=this._renderService)||void 0===e||e.clearTextureAtlas()}_reportFocus(){var e;(null===(e=this.element)||void 0===e?void 0:e.classList.contains("focus"))?this.coreService.triggerDataEvent(E.C0.ESC+"[I"):this.coreService.triggerDataEvent(E.C0.ESC+"[O")}_reportWindowsOptions(e){if(this._renderService)switch(e){case T.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const e=this._renderService.dimensions.css.canvas.width.toFixed(0),t=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent("".concat(E.C0.ESC,"[4;").concat(t,";").concat(e,"t"));break;case T.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const r=this._renderService.dimensions.css.cell.width.toFixed(0),n=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent("".concat(E.C0.ESC,"[6;").concat(n,";").concat(r,"t"))}}cancel(e,t){if(this.options.cancelEvents||t)return e.preventDefault(),e.stopPropagation(),!1}}t.Terminal=L},9924:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TimeBasedDebouncer=void 0,t.TimeBasedDebouncer=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this._renderCallback=e,this._debounceThresholdMS=t,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(e,t,r){this._rowCount=r,e=void 0!==e?e:0,t=void 0!==t?t:this._rowCount-1,this._rowStart=void 0!==this._rowStart?Math.min(this._rowStart,e):e,this._rowEnd=void 0!==this._rowEnd?Math.max(this._rowEnd,t):t;const n=Date.now();if(n-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=n,this._innerRefresh();else if(!this._additionalRefreshRequested){const e=n-this._lastRefreshMs,t=this._debounceThresholdMS-e;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},t)}}_innerRefresh(){if(void 0===this._rowStart||void 0===this._rowEnd||void 0===this._rowCount)return;const e=Math.max(this._rowStart,0),t=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(e,t)}}},1680:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;const a=r(3656),s=r(4725),o=r(8460),l=r(844),c=r(2585);let u=t.Viewport=class extends l.Disposable{constructor(e,t,r,n,i,s,l,c){super(),this._viewportElement=e,this._scrollArea=t,this._bufferService=r,this._optionsService=n,this._charSizeService=i,this._renderService=s,this._coreBrowserService=l,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new o.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,a.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(e=>this._activeBuffer=e.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(e=>this._renderDimensions=e)),this._handleThemeChange(c.colors),this.register(c.onChangeColors(e=>this._handleThemeChange(e))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(e){this._viewportElement.style.backgroundColor=e.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(e){if(e)return this._innerRefresh(),void(null!==this._refreshAnimationFrame&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));null===this._refreshAnimationFrame&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const e=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==e&&(this._lastRecordedBufferHeight=e,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const e=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==e&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=e),this._refreshAnimationFrame=null}syncScrollArea(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(e);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(e)}_handleScroll(e){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const t=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:t,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||-1===this._smoothScrollState.origin||-1===this._smoothScrollState.target)return;const e=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(e*(this._smoothScrollState.target-this._smoothScrollState.origin)),e<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(e,t){const r=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(t<0&&0!==this._viewportElement.scrollTop||t>0&&r<this._lastRecordedBufferHeight)||(e.cancelable&&e.preventDefault(),!1)}handleWheel(e){const t=this._getPixelsScrolled(e);return 0!==t&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,-1===this._smoothScrollState.target?this._smoothScrollState.target=this._viewportElement.scrollTop+t:this._smoothScrollState.target+=t,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))}scrollLines(e){if(0!==e)if(this._optionsService.rawOptions.smoothScrollDuration){const t=e*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+t,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:e,suppressScrollEvent:!1})}_getPixelsScrolled(e){if(0===e.deltaY||e.shiftKey)return 0;let t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_LINE?t*=this._currentRowHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._currentRowHeight*this._bufferService.rows),t}getBufferElements(e,t){var r;let n,i="";const a=[],s=null!=t?t:this._bufferService.buffer.lines.length,o=this._bufferService.buffer.lines;for(let l=e;l<s;l++){const e=o.get(l);if(!e)continue;const t=null===(r=o.get(l+1))||void 0===r?void 0:r.isWrapped;if(i+=e.translateToString(!t),!t||l===o.length-1){const e=document.createElement("div");e.textContent=i,a.push(e),i.length>0&&(n=e),i=""}}return{bufferElements:a,cursorElement:n}}getLinesScrolled(e){if(0===e.deltaY||e.shiftKey)return 0;let t=this._applyScrollModifier(e.deltaY,e);return e.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(t/=this._currentRowHeight+0,this._wheelPartialScroll+=t,t=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(t*=this._bufferService.rows),t}_applyScrollModifier(e,t){const r=this._optionsService.rawOptions.fastScrollModifier;return"alt"===r&&t.altKey||"ctrl"===r&&t.ctrlKey||"shift"===r&&t.shiftKey?e*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:e*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(e){this._lastTouchY=e.touches[0].pageY}handleTouchMove(e){const t=this._lastTouchY-e.touches[0].pageY;return this._lastTouchY=e.touches[0].pageY,0!==t&&(this._viewportElement.scrollTop+=t,this._bubbleScroll(e,t))}};t.Viewport=u=n([i(2,c.IBufferService),i(3,c.IOptionsService),i(4,s.ICharSizeService),i(5,s.IRenderService),i(6,s.ICoreBrowserService),i(7,s.IThemeService)],u)},3107:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferDecorationRenderer=void 0;const a=r(3656),s=r(4725),o=r(844),l=r(2585);let c=t.BufferDecorationRenderer=class extends o.Disposable{constructor(e,t,r,n){super(),this._screenElement=e,this._bufferService=t,this._decorationService=r,this._renderService=n,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,a.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(e=>this._removeDecoration(e))),this.register((0,o.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){void 0===this._animationFrame&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const e of this._decorationService.decorations)this._renderDecoration(e);this._dimensionsChanged=!1}_renderDecoration(e){this._refreshStyle(e),this._dimensionsChanged&&this._refreshXPosition(e)}_createElement(e){var t,r;const n=document.createElement("div");n.classList.add("xterm-decoration"),n.classList.toggle("xterm-decoration-top-layer","top"===(null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.layer)),n.style.width="".concat(Math.round((e.options.width||1)*this._renderService.dimensions.css.cell.width),"px"),n.style.height=(e.options.height||1)*this._renderService.dimensions.css.cell.height+"px",n.style.top=(e.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",n.style.lineHeight="".concat(this._renderService.dimensions.css.cell.height,"px");const i=null!==(r=e.options.x)&&void 0!==r?r:0;return i&&i>this._bufferService.cols&&(n.style.display="none"),this._refreshXPosition(e,n),n}_refreshStyle(e){const t=e.marker.line-this._bufferService.buffers.active.ydisp;if(t<0||t>=this._bufferService.rows)e.element&&(e.element.style.display="none",e.onRenderEmitter.fire(e.element));else{let r=this._decorationElements.get(e);r||(r=this._createElement(e),e.element=r,this._decorationElements.set(e,r),this._container.appendChild(r),e.onDispose(()=>{this._decorationElements.delete(e),r.remove()})),r.style.top=t*this._renderService.dimensions.css.cell.height+"px",r.style.display=this._altBufferIsActive?"none":"block",e.onRenderEmitter.fire(r)}}_refreshXPosition(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.element;var r;if(!t)return;const n=null!==(r=e.options.x)&&void 0!==r?r:0;"right"===(e.options.anchor||"left")?t.style.right=n?n*this._renderService.dimensions.css.cell.width+"px":"":t.style.left=n?n*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(e){var t;null===(t=this._decorationElements.get(e))||void 0===t||t.remove(),this._decorationElements.delete(e),e.dispose()}};t.BufferDecorationRenderer=c=n([i(1,l.IBufferService),i(2,l.IDecorationService),i(3,s.IRenderService)],c)},5871:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ColorZoneStore=void 0,t.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(e){if(e.options.overviewRulerOptions){for(const t of this._zones)if(t.color===e.options.overviewRulerOptions.color&&t.position===e.options.overviewRulerOptions.position){if(this._lineIntersectsZone(t,e.marker.line))return;if(this._lineAdjacentToZone(t,e.marker.line,e.options.overviewRulerOptions.position))return void this._addLineToZone(t,e.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=e.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=e.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=e.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=e.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:e.options.overviewRulerOptions.color,position:e.options.overviewRulerOptions.position,startBufferLine:e.marker.line,endBufferLine:e.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(e){this._linePadding=e}_lineIntersectsZone(e,t){return t>=e.startBufferLine&&t<=e.endBufferLine}_lineAdjacentToZone(e,t,r){return t>=e.startBufferLine-this._linePadding[r||"full"]&&t<=e.endBufferLine+this._linePadding[r||"full"]}_addLineToZone(e,t){e.startBufferLine=Math.min(e.startBufferLine,t),e.endBufferLine=Math.max(e.endBufferLine,t)}}},5744:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewRulerRenderer=void 0;const a=r(5871),s=r(3656),o=r(4725),l=r(844),c=r(2585),u={full:0,left:0,center:0,right:0},d={full:0,left:0,center:0,right:0},h={full:0,left:0,center:0,right:0};let f=t.OverviewRulerRenderer=class extends l.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(e,t,r,n,i,s,o){var c;super(),this._viewportElement=e,this._screenElement=t,this._bufferService=r,this._decorationService=n,this._renderService=i,this._optionsService=s,this._coreBrowseService=o,this._colorZoneStore=new a.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),null===(c=this._viewportElement.parentElement)||void 0===c||c.insertBefore(this._canvas,this._viewportElement);const u=this._canvas.getContext("2d");if(!u)throw new Error("Ctx cannot be null");this._ctx=u,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,l.toDisposable)(()=>{var e;null===(e=this._canvas)||void 0===e||e.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,s.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const e=Math.floor(this._canvas.width/3),t=Math.ceil(this._canvas.width/3);d.full=this._canvas.width,d.left=e,d.center=t,d.right=e,this._refreshDrawHeightConstants(),h.full=0,h.left=0,h.center=d.left,h.right=d.left+d.center}_refreshDrawHeightConstants(){u.full=Math.round(2*this._coreBrowseService.dpr);const e=this._canvas.height/this._bufferService.buffer.lines.length,t=Math.round(Math.max(Math.min(e,12),6)*this._coreBrowseService.dpr);u.left=t,u.center=t,u.right=t}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*u.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width="".concat(this._width,"px"),this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height="".concat(this._screenElement.clientHeight,"px"),this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const t of this._decorationService.decorations)this._colorZoneStore.addDecoration(t);this._ctx.lineWidth=1;const e=this._colorZoneStore.zones;for(const t of e)"full"!==t.position&&this._renderColorZone(t);for(const t of e)"full"===t.position&&this._renderColorZone(t);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(e){this._ctx.fillStyle=e.color,this._ctx.fillRect(h[e.position||"full"],Math.round((this._canvas.height-1)*(e.startBufferLine/this._bufferService.buffers.active.lines.length)-u[e.position||"full"]/2),d[e.position||"full"],Math.round((this._canvas.height-1)*((e.endBufferLine-e.startBufferLine)/this._bufferService.buffers.active.lines.length)+u[e.position||"full"]))}_queueRefresh(e,t){this._shouldUpdateDimensions=e||this._shouldUpdateDimensions,this._shouldUpdateAnchor=t||this._shouldUpdateAnchor,void 0===this._animationFrame&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};t.OverviewRulerRenderer=f=n([i(2,c.IBufferService),i(3,c.IDecorationService),i(4,o.IRenderService),i(5,c.IOptionsService),i(6,o.ICoreBrowserService)],f)},2950:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompositionHelper=void 0;const a=r(4725),s=r(2585),o=r(2584);let l=t.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(e,t,r,n,i,a){this._textarea=e,this._compositionView=t,this._bufferService=r,this._optionsService=n,this._coreService=i,this._renderService=a,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(e){this._compositionView.textContent=e.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(e){if(this._isComposing||this._isSendingComposition){if(229===e.keyCode)return!1;if(16===e.keyCode||17===e.keyCode||18===e.keyCode)return!1;this._finalizeComposition(!1)}return 229!==e.keyCode||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(e){if(this._compositionView.classList.remove("active"),this._isComposing=!1,e){const e={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let t;this._isSendingComposition=!1,e.start+=this._dataAlreadySent.length,t=this._isComposing?this._textarea.value.substring(e.start,e.end):this._textarea.value.substring(e.start),t.length>0&&this._coreService.triggerDataEvent(t,!0)}},0)}else{this._isSendingComposition=!1;const e=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(e,!0)}}_handleAnyTextareaChanges(){const e=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const t=this._textarea.value,r=t.replace(e,"");this._dataAlreadySent=r,t.length>e.length?this._coreService.triggerDataEvent(r,!0):t.length<e.length?this._coreService.triggerDataEvent("".concat(o.C0.DEL),!0):t.length===e.length&&t!==e&&this._coreService.triggerDataEvent(t,!0)}},0)}updateCompositionElements(e){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const e=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),t=this._renderService.dimensions.css.cell.height,r=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,n=e*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=n+"px",this._compositionView.style.top=r+"px",this._compositionView.style.height=t+"px",this._compositionView.style.lineHeight=t+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const i=this._compositionView.getBoundingClientRect();this._textarea.style.left=n+"px",this._textarea.style.top=r+"px",this._textarea.style.width=Math.max(i.width,1)+"px",this._textarea.style.height=Math.max(i.height,1)+"px",this._textarea.style.lineHeight=i.height+"px"}e||setTimeout(()=>this.updateCompositionElements(!0),0)}}};t.CompositionHelper=l=n([i(2,s.IBufferService),i(3,s.IOptionsService),i(4,s.ICoreService),i(5,a.IRenderService)],l)},9806:(e,t)=>{function r(e,t,r){const n=r.getBoundingClientRect(),i=e.getComputedStyle(r),a=parseInt(i.getPropertyValue("padding-left")),s=parseInt(i.getPropertyValue("padding-top"));return[t.clientX-n.left-a,t.clientY-n.top-s]}Object.defineProperty(t,"__esModule",{value:!0}),t.getCoords=t.getCoordsRelativeToElement=void 0,t.getCoordsRelativeToElement=r,t.getCoords=function(e,t,n,i,a,s,o,l,c){if(!s)return;const u=r(e,t,n);return u?(u[0]=Math.ceil((u[0]+(c?o/2:0))/o),u[1]=Math.ceil(u[1]/l),u[0]=Math.min(Math.max(u[0],1),i+(c?1:0)),u[1]=Math.min(Math.max(u[1],1),a),u):void 0}},9504:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.moveToCellSequence=void 0;const n=r(2584);function i(e,t,r,n){const i=e-a(e,r),o=t-a(t,r),u=Math.abs(i-o)-function(e,t,r){let n=0;const i=e-a(e,r),o=t-a(t,r);for(let a=0;a<Math.abs(i-o);a++){const o="A"===s(e,t)?-1:1,l=r.buffer.lines.get(i+o*a);(null==l?void 0:l.isWrapped)&&n++}return n}(e,t,r);return c(u,l(s(e,t),n))}function a(e,t){let r=0,n=t.buffer.lines.get(e),i=null==n?void 0:n.isWrapped;for(;i&&e>=0&&e<t.rows;)r++,n=t.buffer.lines.get(--e),i=null==n?void 0:n.isWrapped;return r}function s(e,t){return e>t?"A":"B"}function o(e,t,r,n,i,a){let s=e,o=t,l="";for(;s!==r||o!==n;)s+=i?1:-1,i&&s>a.cols-1?(l+=a.buffer.translateBufferLineToString(o,!1,e,s),s=0,e=0,o++):!i&&s<0&&(l+=a.buffer.translateBufferLineToString(o,!1,0,e+1),s=a.cols-1,e=s,o--);return l+a.buffer.translateBufferLineToString(o,!1,e,s)}function l(e,t){const r=t?"O":"[";return n.C0.ESC+r+e}function c(e,t){e=Math.floor(e);let r="";for(let n=0;n<e;n++)r+=t;return r}t.moveToCellSequence=function(e,t,r,n){const s=r.buffer.x,u=r.buffer.y;if(!r.buffer.hasScrollback)return function(e,t,r,n,s,u){return 0===i(t,n,s,u).length?"":c(o(e,t,e,t-a(t,s),!1,s).length,l("D",u))}(s,u,0,t,r,n)+i(u,t,r,n)+function(e,t,r,n,s,u){let d;d=i(t,n,s,u).length>0?n-a(n,s):t;const h=n,f=function(e,t,r,n,s,o){let l;return l=i(r,n,s,o).length>0?n-a(n,s):t,e<r&&l<=n||e>=r&&l<n?"C":"D"}(e,t,r,n,s,u);return c(o(e,d,r,h,"C"===f,s).length,l(f,u))}(s,u,e,t,r,n);let d;if(u===t)return d=s>e?"D":"C",c(Math.abs(s-e),l(d,n));d=u>t?"D":"C";const h=Math.abs(u-t);return c(function(e,t){return t.cols-e}(u>t?e:s,r)+(h-1)*r.cols+1+((u>t?s:e)-1),l(d,n))}},1296:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRenderer=void 0;const a=r(3787),s=r(2550),o=r(2223),l=r(6171),c=r(4725),u=r(8055),d=r(8460),h=r(844),f=r(2585),p="xterm-dom-renderer-owner-",m="xterm-rows",g="xterm-fg-",v="xterm-bg-",y="xterm-focus",b="xterm-selection";let x=1,_=t.DomRenderer=class extends h.Disposable{constructor(e,t,r,n,i,o,c,u,f,g){super(),this._element=e,this._screenElement=t,this._viewportElement=r,this._linkifier2=n,this._charSizeService=o,this._optionsService=c,this._bufferService=u,this._coreBrowserService=f,this._themeService=g,this._terminalClass=x++,this._rowElements=[],this.onRequestRedraw=this.register(new d.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(m),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(b),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,l.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(e=>this._injectCss(e))),this._injectCss(this._themeService.colors),this._rowFactory=i.createInstance(a.DomRendererRowFactory,document),this._element.classList.add(p+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(e=>this._handleLinkHover(e))),this.register(this._linkifier2.onHideLinkUnderline(e=>this._handleLinkLeave(e))),this.register((0,h.toDisposable)(()=>{this._element.classList.remove(p+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new s.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const e=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*e,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*e),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/e),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/e),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const r of this._rowElements)r.style.width="".concat(this.dimensions.css.canvas.width,"px"),r.style.height="".concat(this.dimensions.css.cell.height,"px"),r.style.lineHeight="".concat(this.dimensions.css.cell.height,"px"),r.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const t="".concat(this._terminalSelector," .").concat(m," span { display: inline-block; height: 100%; vertical-align: top;}");this._dimensionsStyleElement.textContent=t,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width="".concat(this.dimensions.css.canvas.width,"px"),this._screenElement.style.height="".concat(this.dimensions.css.canvas.height,"px")}_injectCss(e){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let t="".concat(this._terminalSelector," .").concat(m," { color: ").concat(e.foreground.css,"; font-family: ").concat(this._optionsService.rawOptions.fontFamily,"; font-size: ").concat(this._optionsService.rawOptions.fontSize,"px; font-kerning: none; white-space: pre}");t+="".concat(this._terminalSelector," .").concat(m," .xterm-dim { color: ").concat(u.color.multiplyOpacity(e.foreground,.5).css,";}"),t+="".concat(this._terminalSelector," span:not(.xterm-bold) { font-weight: ").concat(this._optionsService.rawOptions.fontWeight,";}").concat(this._terminalSelector," span.xterm-bold { font-weight: ").concat(this._optionsService.rawOptions.fontWeightBold,";}").concat(this._terminalSelector," span.xterm-italic { font-style: italic;}"),t+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",t+="@keyframes blink_block_"+this._terminalClass+" { 0% {"+"  background-color: ".concat(e.cursor.css,";")+"  color: ".concat(e.cursorAccent.css,"; } 50% {  background-color: inherit;")+"  color: ".concat(e.cursor.css,"; }}"),t+="".concat(this._terminalSelector," .").concat(m,".").concat(y," .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_")+this._terminalClass+" 1s step-end infinite;}"+"".concat(this._terminalSelector," .").concat(m,".").concat(y," .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_")+this._terminalClass+" 1s step-end infinite;}"+"".concat(this._terminalSelector," .").concat(m," .xterm-cursor.xterm-cursor-block {")+" background-color: ".concat(e.cursor.css,";")+" color: ".concat(e.cursorAccent.css,";}")+"".concat(this._terminalSelector," .").concat(m," .xterm-cursor.xterm-cursor-outline {")+" outline: 1px solid ".concat(e.cursor.css,"; outline-offset: -1px;}")+"".concat(this._terminalSelector," .").concat(m," .xterm-cursor.xterm-cursor-bar {")+" box-shadow: ".concat(this._optionsService.rawOptions.cursorWidth,"px 0 0 ").concat(e.cursor.css," inset;}")+"".concat(this._terminalSelector," .").concat(m," .xterm-cursor.xterm-cursor-underline {")+" border-bottom: 1px ".concat(e.cursor.css,"; border-bottom-style: solid; height: calc(100% - 1px);}"),t+="".concat(this._terminalSelector," .").concat(b," { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}").concat(this._terminalSelector,".focus .").concat(b," div { position: absolute; background-color: ").concat(e.selectionBackgroundOpaque.css,";}").concat(this._terminalSelector," .").concat(b," div { position: absolute; background-color: ").concat(e.selectionInactiveBackgroundOpaque.css,";}");for(const[r,n]of e.ansi.entries())t+="".concat(this._terminalSelector," .").concat(g).concat(r," { color: ").concat(n.css,"; }").concat(this._terminalSelector," .").concat(g).concat(r,".xterm-dim { color: ").concat(u.color.multiplyOpacity(n,.5).css,"; }").concat(this._terminalSelector," .").concat(v).concat(r," { background-color: ").concat(n.css,"; }");t+="".concat(this._terminalSelector," .").concat(g).concat(o.INVERTED_DEFAULT_COLOR," { color: ").concat(u.color.opaque(e.background).css,"; }").concat(this._terminalSelector," .").concat(g).concat(o.INVERTED_DEFAULT_COLOR,".xterm-dim { color: ").concat(u.color.multiplyOpacity(u.color.opaque(e.background),.5).css,"; }").concat(this._terminalSelector," .").concat(v).concat(o.INVERTED_DEFAULT_COLOR," { background-color: ").concat(e.foreground.css,"; }"),this._themeStyleElement.textContent=t}_setDefaultSpacing(){const e=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing="".concat(e,"px"),this._rowFactory.defaultSpacing=e}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(e,t){for(let r=this._rowElements.length;r<=t;r++){const e=document.createElement("div");this._rowContainer.appendChild(e),this._rowElements.push(e)}for(;this._rowElements.length>t;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(e,t){this._refreshRowElements(e,t),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(y)}handleFocus(){this._rowContainer.classList.add(y),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(e,t,r){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(e,t,r),this.renderRows(0,this._bufferService.rows-1),!e||!t)return;const n=e[1]-this._bufferService.buffer.ydisp,i=t[1]-this._bufferService.buffer.ydisp,a=Math.max(n,0),s=Math.min(i,this._bufferService.rows-1);if(a>=this._bufferService.rows||s<0)return;const o=document.createDocumentFragment();if(r){const r=e[0]>t[0];o.appendChild(this._createSelectionElement(a,r?t[0]:e[0],r?e[0]:t[0],s-a+1))}else{const r=n===a?e[0]:0,l=a===i?t[0]:this._bufferService.cols;o.appendChild(this._createSelectionElement(a,r,l));const c=s-a-1;if(o.appendChild(this._createSelectionElement(a+1,0,this._bufferService.cols,c)),a!==s){const e=i===s?t[0]:this._bufferService.cols;o.appendChild(this._createSelectionElement(s,0,e))}}this._selectionContainer.appendChild(o)}_createSelectionElement(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=document.createElement("div");return i.style.height=n*this.dimensions.css.cell.height+"px",i.style.top=e*this.dimensions.css.cell.height+"px",i.style.left=t*this.dimensions.css.cell.width+"px",i.style.width=this.dimensions.css.cell.width*(r-t)+"px",i}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const e of this._rowElements)e.replaceChildren()}renderRows(e,t){const r=this._bufferService.buffer,n=r.ybase+r.y,i=Math.min(r.x,this._bufferService.cols-1),a=this._optionsService.rawOptions.cursorBlink,s=this._optionsService.rawOptions.cursorStyle,o=this._optionsService.rawOptions.cursorInactiveStyle;for(let l=e;l<=t;l++){const e=l+r.ydisp,t=this._rowElements[l],c=r.lines.get(e);if(!t||!c)break;t.replaceChildren(...this._rowFactory.createRow(c,e,e===n,s,o,i,a,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return".".concat(p).concat(this._terminalClass)}_handleLinkHover(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!0)}_handleLinkLeave(e){this._setCellUnderline(e.x1,e.x2,e.y1,e.y2,e.cols,!1)}_setCellUnderline(e,t,r,n,i,a){r<0&&(e=0),n<0&&(t=0);const s=this._bufferService.rows-1;r=Math.max(Math.min(r,s),0),n=Math.max(Math.min(n,s),0),i=Math.min(i,this._bufferService.cols);const o=this._bufferService.buffer,l=o.ybase+o.y,c=Math.min(o.x,i-1),u=this._optionsService.rawOptions.cursorBlink,d=this._optionsService.rawOptions.cursorStyle,h=this._optionsService.rawOptions.cursorInactiveStyle;for(let f=r;f<=n;++f){const s=f+o.ydisp,p=this._rowElements[f],m=o.lines.get(s);if(!p||!m)break;p.replaceChildren(...this._rowFactory.createRow(m,s,s===l,d,h,c,u,this.dimensions.css.cell.width,this._widthCache,a?f===r?e:0:-1,a?(f===n?t:i)-1:-1))}}};t.DomRenderer=_=n([i(4,f.IInstantiationService),i(5,c.ICharSizeService),i(6,f.IOptionsService),i(7,f.IBufferService),i(8,c.ICoreBrowserService),i(9,c.IThemeService)],_)},3787:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.DomRendererRowFactory=void 0;const a=r(2223),s=r(643),o=r(511),l=r(2585),c=r(8055),u=r(4725),d=r(4269),h=r(6171),f=r(3734);let p=t.DomRendererRowFactory=class{constructor(e,t,r,n,i,a,s){this._document=e,this._characterJoinerService=t,this._optionsService=r,this._coreBrowserService=n,this._coreService=i,this._decorationService=a,this._themeService=s,this._workCell=new o.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(e,t,r){this._selectionStart=e,this._selectionEnd=t,this._columnSelectMode=r}createRow(e,t,r,n,i,o,l,u,h,p,g){const v=[],y=this._characterJoinerService.getJoinedCharacters(t),b=this._themeService.colors;let x,_=e.getNoBgTrimmedLength();r&&_<o+1&&(_=o+1);let w=0,S="",j=0,k=0,C=0,E=!1,O=0,P=!1,N=0;const A=[],T=-1!==p&&-1!==g;for(let R=0;R<_;R++){e.loadCell(R,this._workCell);let _=this._workCell.getWidth();if(0===_)continue;let D=!1,L=R,M=this._workCell;if(y.length>0&&R===y[0][0]){D=!0;const t=y.shift();M=new d.JoinedCellData(this._workCell,e.translateToString(!0,t[0],t[1]),t[1]-t[0]),L=t[1]-1,_=M.getWidth()}const I=this._isCellInSelection(R,t),B=r&&R===o,z=T&&R>=p&&R<=g;let F=!1;this._decorationService.forEachDecorationAtCell(R,t,void 0,e=>{F=!0});let H=M.getChars()||s.WHITESPACE_CELL_CHAR;if(" "===H&&(M.isUnderline()||M.isOverline())&&(H="\xa0"),N=_*u-h.get(H,M.isBold(),M.isItalic()),x){if(w&&(I&&P||!I&&!P&&M.bg===j)&&(I&&P&&b.selectionForeground||M.fg===k)&&M.extended.ext===C&&z===E&&N===O&&!B&&!D&&!F){S+=H,w++;continue}w&&(x.textContent=S),x=this._document.createElement("span"),w=0,S=""}else x=this._document.createElement("span");if(j=M.bg,k=M.fg,C=M.extended.ext,E=z,O=N,P=I,D&&o>=R&&o<=L&&(o=R),!this._coreService.isCursorHidden&&B)if(A.push("xterm-cursor"),this._coreBrowserService.isFocused)l&&A.push("xterm-cursor-blink"),A.push("bar"===n?"xterm-cursor-bar":"underline"===n?"xterm-cursor-underline":"xterm-cursor-block");else if(i)switch(i){case"outline":A.push("xterm-cursor-outline");break;case"block":A.push("xterm-cursor-block");break;case"bar":A.push("xterm-cursor-bar");break;case"underline":A.push("xterm-cursor-underline")}if(M.isBold()&&A.push("xterm-bold"),M.isItalic()&&A.push("xterm-italic"),M.isDim()&&A.push("xterm-dim"),S=M.isInvisible()?s.WHITESPACE_CELL_CHAR:M.getChars()||s.WHITESPACE_CELL_CHAR,M.isUnderline()&&(A.push("xterm-underline-".concat(M.extended.underlineStyle))," "===S&&(S="\xa0"),!M.isUnderlineColorDefault()))if(M.isUnderlineColorRGB())x.style.textDecorationColor="rgb(".concat(f.AttributeData.toColorRGB(M.getUnderlineColor()).join(","),")");else{let e=M.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&M.isBold()&&e<8&&(e+=8),x.style.textDecorationColor=b.ansi[e].css}M.isOverline()&&(A.push("xterm-overline")," "===S&&(S="\xa0")),M.isStrikethrough()&&A.push("xterm-strikethrough"),z&&(x.style.textDecoration="underline");let U=M.getFgColor(),W=M.getFgColorMode(),q=M.getBgColor(),K=M.getBgColorMode();const V=!!M.isInverse();if(V){const e=U;U=q,q=e;const t=W;W=K,K=t}let Y,G,X,$=!1;switch(this._decorationService.forEachDecorationAtCell(R,t,void 0,e=>{"top"!==e.options.layer&&$||(e.backgroundColorRGB&&(K=50331648,q=e.backgroundColorRGB.rgba>>8&16777215,Y=e.backgroundColorRGB),e.foregroundColorRGB&&(W=50331648,U=e.foregroundColorRGB.rgba>>8&16777215,G=e.foregroundColorRGB),$="top"===e.options.layer)}),!$&&I&&(Y=this._coreBrowserService.isFocused?b.selectionBackgroundOpaque:b.selectionInactiveBackgroundOpaque,q=Y.rgba>>8&16777215,K=50331648,$=!0,b.selectionForeground&&(W=50331648,U=b.selectionForeground.rgba>>8&16777215,G=b.selectionForeground)),$&&A.push("xterm-decoration-top"),K){case 16777216:case 33554432:X=b.ansi[q],A.push("xterm-bg-".concat(q));break;case 50331648:X=c.rgba.toColor(q>>16,q>>8&255,255&q),this._addStyle(x,"background-color:#".concat(m((q>>>0).toString(16),"0",6)));break;default:V?(X=b.foreground,A.push("xterm-bg-".concat(a.INVERTED_DEFAULT_COLOR))):X=b.background}switch(Y||M.isDim()&&(Y=c.color.multiplyOpacity(X,.5)),W){case 16777216:case 33554432:M.isBold()&&U<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(U+=8),this._applyMinimumContrast(x,X,b.ansi[U],M,Y,void 0)||A.push("xterm-fg-".concat(U));break;case 50331648:const e=c.rgba.toColor(U>>16&255,U>>8&255,255&U);this._applyMinimumContrast(x,X,e,M,Y,G)||this._addStyle(x,"color:#".concat(m(U.toString(16),"0",6)));break;default:this._applyMinimumContrast(x,X,b.foreground,M,Y,void 0)||V&&A.push("xterm-fg-".concat(a.INVERTED_DEFAULT_COLOR))}A.length&&(x.className=A.join(" "),A.length=0),B||D||F?x.textContent=S:w++,N!==this.defaultSpacing&&(x.style.letterSpacing="".concat(N,"px")),v.push(x),R=L}return x&&w&&(x.textContent=S),v}_applyMinimumContrast(e,t,r,n,i,a){if(1===this._optionsService.rawOptions.minimumContrastRatio||(0,h.excludeFromContrastRatioDemands)(n.getCode()))return!1;const s=this._getContrastCache(n);let o;if(i||a||(o=s.getColor(t.rgba,r.rgba)),void 0===o){const e=this._optionsService.rawOptions.minimumContrastRatio/(n.isDim()?2:1);o=c.color.ensureContrastRatio(i||t,a||r,e),s.setColor((i||t).rgba,(a||r).rgba,null!=o?o:null)}return!!o&&(this._addStyle(e,"color:".concat(o.css)),!0)}_getContrastCache(e){return e.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(e,t){e.setAttribute("style","".concat(e.getAttribute("style")||"").concat(t,";"))}_isCellInSelection(e,t){const r=this._selectionStart,n=this._selectionEnd;return!(!r||!n)&&(this._columnSelectMode?r[0]<=n[0]?e>=r[0]&&t>=r[1]&&e<n[0]&&t<=n[1]:e<r[0]&&t>=r[1]&&e>=n[0]&&t<=n[1]:t>r[1]&&t<n[1]||r[1]===n[1]&&t===r[1]&&e>=r[0]&&e<n[0]||r[1]<n[1]&&t===n[1]&&e<n[0]||r[1]<n[1]&&t===r[1]&&e>=r[0])}};function m(e,t,r){for(;e.length<r;)e=t+e;return e}t.DomRendererRowFactory=p=n([i(1,u.ICharacterJoinerService),i(2,l.IOptionsService),i(3,u.ICoreBrowserService),i(4,l.ICoreService),i(5,l.IDecorationService),i(6,u.IThemeService)],p)},2550:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WidthCache=void 0,t.WidthCache=class{constructor(e){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=e.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const t=e.createElement("span"),r=e.createElement("span");r.style.fontWeight="bold";const n=e.createElement("span");n.style.fontStyle="italic";const i=e.createElement("span");i.style.fontWeight="bold",i.style.fontStyle="italic",this._measureElements=[t,r,n,i],this._container.appendChild(t),this._container.appendChild(r),this._container.appendChild(n),this._container.appendChild(i),e.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(e,t,r,n){e===this._font&&t===this._fontSize&&r===this._weight&&n===this._weightBold||(this._font=e,this._fontSize=t,this._weight=r,this._weightBold=n,this._container.style.fontFamily=this._font,this._container.style.fontSize="".concat(this._fontSize,"px"),this._measureElements[0].style.fontWeight="".concat(r),this._measureElements[1].style.fontWeight="".concat(n),this._measureElements[2].style.fontWeight="".concat(r),this._measureElements[3].style.fontWeight="".concat(n),this.clear())}get(e,t,r){let n=0;if(!t&&!r&&1===e.length&&(n=e.charCodeAt(0))<256)return-9999!==this._flat[n]?this._flat[n]:this._flat[n]=this._measure(e,0);let i=e;t&&(i+="B"),r&&(i+="I");let a=this._holey.get(i);if(void 0===a){let n=0;t&&(n|=1),r&&(n|=2),a=this._measure(e,n),this._holey.set(i,a)}return a}_measure(e,t){const r=this._measureElements[t];return r.textContent=e.repeat(32),r.offsetWidth/32}}},2223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TEXT_BASELINE=t.DIM_OPACITY=t.INVERTED_DEFAULT_COLOR=void 0;const n=r(6114);t.INVERTED_DEFAULT_COLOR=257,t.DIM_OPACITY=.5,t.TEXT_BASELINE=n.isFirefox||n.isLegacyEdge?"bottom":"ideographic"},6171:(e,t)=>{function r(e){return 57508<=e&&e<=57558}Object.defineProperty(t,"__esModule",{value:!0}),t.createRenderDimensions=t.excludeFromContrastRatioDemands=t.isRestrictedPowerlineGlyph=t.isPowerlineGlyph=t.throwIfFalsy=void 0,t.throwIfFalsy=function(e){if(!e)throw new Error("value must not be falsy");return e},t.isPowerlineGlyph=r,t.isRestrictedPowerlineGlyph=function(e){return 57520<=e&&e<=57527},t.excludeFromContrastRatioDemands=function(e){return r(e)||function(e){return 9472<=e&&e<=9631}(e)},t.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionModel=void 0,t.SelectionModel=class{constructor(e){this._bufferService=e,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?e%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)-1]:[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[e,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const e=this.selectionStart[0]+this.selectionStartLength;return e>this._bufferService.cols?[e%this._bufferService.cols,this.selectionStart[1]+Math.floor(e/this._bufferService.cols)]:[Math.max(e,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const e=this.selectionStart,t=this.selectionEnd;return!(!e||!t)&&(e[1]>t[1]||e[1]===t[1]&&e[0]>t[0])}handleTrim(e){return this.selectionStart&&(this.selectionStart[1]-=e),this.selectionEnd&&(this.selectionEnd[1]-=e),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharSizeService=void 0;const a=r(2585),s=r(8460),o=r(844);let l=t.CharSizeService=class extends o.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(e,t,r){super(),this._optionsService=r,this.width=0,this.height=0,this._onCharSizeChange=this.register(new s.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new c(e,t,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const e=this._measureStrategy.measure();e.width===this.width&&e.height===this.height||(this.width=e.width,this.height=e.height,this._onCharSizeChange.fire())}};t.CharSizeService=l=n([i(2,a.IOptionsService)],l);class c{constructor(e,t,r){this._document=e,this._parentElement=t,this._optionsService=r,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize="".concat(this._optionsService.rawOptions.fontSize,"px");const e={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return 0!==e.width&&0!==e.height&&(this._result.width=e.width/32,this._result.height=Math.ceil(e.height)),this._result}}},4269:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CharacterJoinerService=t.JoinedCellData=void 0;const a=r(3734),s=r(643),o=r(511),l=r(2585);class c extends a.AttributeData{constructor(e,t,r){super(),this.content=0,this.combinedData="",this.fg=e.fg,this.bg=e.bg,this.combinedData=t,this._width=r}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(e){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.JoinedCellData=c;let u=t.CharacterJoinerService=class e{constructor(e){this._bufferService=e,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new o.CellData}register(e){const t={id:this._nextCharacterJoinerId++,handler:e};return this._characterJoiners.push(t),t.id}deregister(e){for(let t=0;t<this._characterJoiners.length;t++)if(this._characterJoiners[t].id===e)return this._characterJoiners.splice(t,1),!0;return!1}getJoinedCharacters(e){if(0===this._characterJoiners.length)return[];const t=this._bufferService.buffer.lines.get(e);if(!t||0===t.length)return[];const r=[],n=t.translateToString(!0);let i=0,a=0,o=0,l=t.getFg(0),c=t.getBg(0);for(let u=0;u<t.getTrimmedLength();u++)if(t.loadCell(u,this._workCell),0!==this._workCell.getWidth()){if(this._workCell.fg!==l||this._workCell.bg!==c){if(u-i>1){const e=this._getJoinedRanges(n,o,a,t,i);for(let t=0;t<e.length;t++)r.push(e[t])}i=u,o=a,l=this._workCell.fg,c=this._workCell.bg}a+=this._workCell.getChars().length||s.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-i>1){const e=this._getJoinedRanges(n,o,a,t,i);for(let t=0;t<e.length;t++)r.push(e[t])}return r}_getJoinedRanges(t,r,n,i,a){const s=t.substring(r,n);let o=[];try{o=this._characterJoiners[0].handler(s)}catch(e){console.error(e)}for(let l=1;l<this._characterJoiners.length;l++)try{const t=this._characterJoiners[l].handler(s);for(let r=0;r<t.length;r++)e._mergeRanges(o,t[r])}catch(e){console.error(e)}return this._stringRangesToCellRanges(o,i,a),o}_stringRangesToCellRanges(e,t,r){let n=0,i=!1,a=0,o=e[n];if(o){for(let l=r;l<this._bufferService.cols;l++){const r=t.getWidth(l),c=t.getString(l).length||s.WHITESPACE_CELL_CHAR.length;if(0!==r){if(!i&&o[0]<=a&&(o[0]=l,i=!0),o[1]<=a){if(o[1]=l,o=e[++n],!o)break;o[0]<=a?(o[0]=l,i=!0):i=!1}a+=c}}o&&(o[1]=this._bufferService.cols)}}static _mergeRanges(e,t){let r=!1;for(let n=0;n<e.length;n++){const i=e[n];if(r){if(t[1]<=i[0])return e[n-1][1]=t[1],e;if(t[1]<=i[1])return e[n-1][1]=Math.max(t[1],i[1]),e.splice(n,1),e;e.splice(n,1),n--}else{if(t[1]<=i[0])return e.splice(n,0,t),e;if(t[1]<=i[1])return i[0]=Math.min(t[0],i[0]),e;t[0]<i[1]&&(i[0]=Math.min(t[0],i[0]),r=!0)}}return r?e[e.length-1][1]=t[1]:e.push(t),e}};t.CharacterJoinerService=u=n([i(0,l.IBufferService)],u)},5114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreBrowserService=void 0,t.CoreBrowserService=class{constructor(e,t){this._textarea=e,this.window=t,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return void 0===this._cachedIsFocused&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.MouseService=void 0;const a=r(4725),s=r(9806);let o=t.MouseService=class{constructor(e,t){this._renderService=e,this._charSizeService=t}getCoords(e,t,r,n,i){return(0,s.getCoords)(window,e,t,r,n,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,i)}getMouseReportCoords(e,t){const r=(0,s.getCoordsRelativeToElement)(window,e,t);if(this._charSizeService.hasValidSize)return r[0]=Math.min(Math.max(r[0],0),this._renderService.dimensions.css.canvas.width-1),r[1]=Math.min(Math.max(r[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(r[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(r[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(r[0]),y:Math.floor(r[1])}}};t.MouseService=o=n([i(0,a.IRenderService),i(1,a.ICharSizeService)],o)},3230:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.RenderService=void 0;const a=r(3656),s=r(6193),o=r(5596),l=r(4725),c=r(8460),u=r(844),d=r(7226),h=r(2585);let f=t.RenderService=class extends u.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(e,t,r,n,i,l,h,f){if(super(),this._rowCount=e,this._charSizeService=n,this._renderer=this.register(new u.MutableDisposable),this._pausedResizeTask=new d.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new c.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new c.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new c.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new c.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new s.RenderDebouncer(h.window,(e,t)=>this._renderRows(e,t)),this.register(this._renderDebouncer),this._screenDprMonitor=new o.ScreenDprMonitor(h.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(l.onResize(()=>this._fullRefresh())),this.register(l.buffers.onBufferActivate(()=>{var e;return null===(e=this._renderer.value)||void 0===e?void 0:e.clear()})),this.register(r.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(i.onDecorationRegistered(()=>this._fullRefresh())),this.register(i.onDecorationRemoved(()=>this._fullRefresh())),this.register(r.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(l.cols,l.rows),this._fullRefresh()})),this.register(r.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(l.buffer.y,l.buffer.y,!0))),this.register((0,a.addDisposableDomListener)(h.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(f.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in h.window){const e=new h.window.IntersectionObserver(e=>this._handleIntersectionChange(e[e.length-1]),{threshold:0});e.observe(t),this.register({dispose:()=>e.disconnect()})}}_handleIntersectionChange(e){this._isPaused=void 0===e.isIntersecting?0===e.intersectionRatio:!e.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isPaused?this._needsFullRefresh=!0:(r||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(e,t,this._rowCount))}_renderRows(e,t){this._renderer.value&&(e=Math.min(e,this._rowCount-1),t=Math.min(t,this._rowCount-1),this._renderer.value.renderRows(e,t),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:e,end:t}),this._onRender.fire({start:e,end:t}),this._isNextRenderRedrawOnly=!0)}resize(e,t){this._rowCount=t,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(e){this._renderer.value=e,this._renderer.value.onRequestRedraw(e=>this.refreshRows(e.start,e.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(e){return this._renderDebouncer.addRefreshCallback(e)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var e,t;this._renderer.value&&(null===(t=(e=this._renderer.value).clearTextureAtlas)||void 0===t||t.call(e),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(e,t){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(e,t)):this._renderer.value.handleResize(e,t),this._fullRefresh())}handleCharSizeChanged(){var e;null===(e=this._renderer.value)||void 0===e||e.handleCharSizeChanged()}handleBlur(){var e;null===(e=this._renderer.value)||void 0===e||e.handleBlur()}handleFocus(){var e;null===(e=this._renderer.value)||void 0===e||e.handleFocus()}handleSelectionChanged(e,t,r){var n;this._selectionState.start=e,this._selectionState.end=t,this._selectionState.columnSelectMode=r,null===(n=this._renderer.value)||void 0===n||n.handleSelectionChanged(e,t,r)}handleCursorMove(){var e;null===(e=this._renderer.value)||void 0===e||e.handleCursorMove()}clear(){var e;null===(e=this._renderer.value)||void 0===e||e.clear()}};t.RenderService=f=n([i(2,h.IOptionsService),i(3,l.ICharSizeService),i(4,h.IDecorationService),i(5,h.IBufferService),i(6,l.ICoreBrowserService),i(7,l.IThemeService)],f)},9312:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionService=void 0;const a=r(9806),s=r(9504),o=r(456),l=r(4725),c=r(8460),u=r(844),d=r(6114),h=r(4841),f=r(511),p=r(2585),m=String.fromCharCode(160),g=new RegExp(m,"g");let v=t.SelectionService=class extends u.Disposable{constructor(e,t,r,n,i,a,s,l,d){super(),this._element=e,this._screenElement=t,this._linkifier=r,this._bufferService=n,this._coreService=i,this._mouseService=a,this._optionsService=s,this._renderService=l,this._coreBrowserService=d,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new f.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new c.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new c.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new c.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new c.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=e=>this._handleMouseMove(e),this._mouseUpListener=e=>this._handleMouseUp(e),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(e=>this._handleTrim(e)),this.register(this._bufferService.buffers.onBufferActivate(e=>this._handleBufferActivate(e))),this.enable(),this._model=new o.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,u.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;return!(!e||!t||e[0]===t[0]&&e[1]===t[1])}get selectionText(){const e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd;if(!e||!t)return"";const r=this._bufferService.buffer,n=[];if(3===this._activeSelectionMode){if(e[0]===t[0])return"";const i=e[0]<t[0]?e[0]:t[0],a=e[0]<t[0]?t[0]:e[0];for(let s=e[1];s<=t[1];s++){const e=r.translateBufferLineToString(s,!0,i,a);n.push(e)}}else{const i=e[1]===t[1]?t[0]:void 0;n.push(r.translateBufferLineToString(e[1],!0,e[0],i));for(let a=e[1]+1;a<=t[1]-1;a++){const e=r.lines.get(a),t=r.translateBufferLineToString(a,!0);(null==e?void 0:e.isWrapped)?n[n.length-1]+=t:n.push(t)}if(e[1]!==t[1]){const e=r.lines.get(t[1]),i=r.translateBufferLineToString(t[1],!0,0,t[0]);e&&e.isWrapped?n[n.length-1]+=i:n.push(i)}}return n.map(e=>e.replace(g," ")).join(d.isWindows?"\r\n":"\n")}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(e){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),d.isLinux&&e&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:3===this._activeSelectionMode})}_isClickInSelection(e){const t=this._getMouseBufferCoords(e),r=this._model.finalSelectionStart,n=this._model.finalSelectionEnd;return!!(r&&n&&t)&&this._areCoordsInSelection(t,r,n)}isCellInSelection(e,t){const r=this._model.finalSelectionStart,n=this._model.finalSelectionEnd;return!(!r||!n)&&this._areCoordsInSelection([e,t],r,n)}_areCoordsInSelection(e,t,r){return e[1]>t[1]&&e[1]<r[1]||t[1]===r[1]&&e[1]===t[1]&&e[0]>=t[0]&&e[0]<r[0]||t[1]<r[1]&&e[1]===r[1]&&e[0]<r[0]||t[1]<r[1]&&e[1]===t[1]&&e[0]>=t[0]}_selectWordAtCursor(e,t){var r,n;const i=null===(n=null===(r=this._linkifier.currentLink)||void 0===r?void 0:r.link)||void 0===n?void 0:n.range;if(i)return this._model.selectionStart=[i.start.x-1,i.start.y-1],this._model.selectionStartLength=(0,h.getRangeLength)(i,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const a=this._getMouseBufferCoords(e);return!!a&&(this._selectWordAt(a,t),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(e,t){this._model.clearSelection(),e=Math.max(e,0),t=Math.min(t,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,e],this._model.selectionEnd=[this._bufferService.cols,t],this.refresh(),this._onSelectionChange.fire()}_handleTrim(e){this._model.handleTrim(e)&&this.refresh()}_getMouseBufferCoords(e){const t=this._mouseService.getCoords(e,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(t)return t[0]--,t[1]--,t[1]+=this._bufferService.buffer.ydisp,t}_getMouseEventScrollAmount(e){let t=(0,a.getCoordsRelativeToElement)(this._coreBrowserService.window,e,this._screenElement)[1];const r=this._renderService.dimensions.css.canvas.height;return t>=0&&t<=r?0:(t>r&&(t-=r),t=Math.min(Math.max(t,-50),50),t/=50,t/Math.abs(t)+Math.round(14*t))}shouldForceSelection(e){return d.isMac?e.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:e.shiftKey}handleMouseDown(e){if(this._mouseDownTimeStamp=e.timeStamp,(2!==e.button||!this.hasSelection)&&0===e.button){if(!this._enabled){if(!this.shouldForceSelection(e))return;e.stopPropagation()}e.preventDefault(),this._dragScrollAmount=0,this._enabled&&e.shiftKey?this._handleIncrementalClick(e):1===e.detail?this._handleSingleClick(e):2===e.detail?this._handleDoubleClick(e):3===e.detail&&this._handleTripleClick(e),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(e){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(e))}_handleSingleClick(e){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(e)?3:0,this._model.selectionStart=this._getMouseBufferCoords(e),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const t=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);t&&t.length!==this._model.selectionStart[0]&&0===t.hasWidth(this._model.selectionStart[0])&&this._model.selectionStart[0]++}_handleDoubleClick(e){this._selectWordAtCursor(e,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(e){const t=this._getMouseBufferCoords(e);t&&(this._activeSelectionMode=2,this._selectLineAt(t[1]))}shouldColumnSelect(e){return e.altKey&&!(d.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(e){if(e.stopImmediatePropagation(),!this._model.selectionStart)return;const t=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(e),!this._model.selectionEnd)return void this.refresh(!0);2===this._activeSelectionMode?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:1===this._activeSelectionMode&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(e),3!==this._activeSelectionMode&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const r=this._bufferService.buffer;if(this._model.selectionEnd[1]<r.lines.length){const e=r.lines.get(this._model.selectionEnd[1]);e&&0===e.hasWidth(this._model.selectionEnd[0])&&this._model.selectionEnd[0]++}t&&t[0]===this._model.selectionEnd[0]&&t[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const e=this._bufferService.buffer;this._dragScrollAmount>0?(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(e.ydisp+this._bufferService.rows,e.lines.length-1)):(3!==this._activeSelectionMode&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=e.ydisp),this.refresh()}}_handleMouseUp(e){const t=e.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&t<500&&e.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const t=this._mouseService.getCoords(e,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(t&&void 0!==t[0]&&void 0!==t[1]){const e=(0,s.moveToCellSequence)(t[0]-1,t[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(e,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const e=this._model.finalSelectionStart,t=this._model.finalSelectionEnd,r=!(!e||!t||e[0]===t[0]&&e[1]===t[1]);r?e&&t&&(this._oldSelectionStart&&this._oldSelectionEnd&&e[0]===this._oldSelectionStart[0]&&e[1]===this._oldSelectionStart[1]&&t[0]===this._oldSelectionEnd[0]&&t[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(e,t,r)):this._oldHasSelection&&this._fireOnSelectionChange(e,t,r)}_fireOnSelectionChange(e,t,r){this._oldSelectionStart=e,this._oldSelectionEnd=t,this._oldHasSelection=r,this._onSelectionChange.fire()}_handleBufferActivate(e){this.clearSelection(),this._trimListener.dispose(),this._trimListener=e.activeBuffer.lines.onTrim(e=>this._handleTrim(e))}_convertViewportColToCharacterIndex(e,t){let r=t;for(let n=0;t>=n;n++){const i=e.loadCell(n,this._workCell).getChars().length;0===this._workCell.getWidth()?r--:i>1&&t!==n&&(r+=i-1)}return r}setSelection(e,t,r){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[e,t],this._model.selectionStartLength=r,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(e){this._isClickInSelection(e)||(this._selectWordAtCursor(e,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e[0]>=this._bufferService.cols)return;const i=this._bufferService.buffer,a=i.lines.get(e[1]);if(!a)return;const s=i.translateBufferLineToString(e[1],!1);let o=this._convertViewportColToCharacterIndex(a,e[0]),l=o;const c=e[0]-o;let u=0,d=0,h=0,f=0;if(" "===s.charAt(o)){for(;o>0&&" "===s.charAt(o-1);)o--;for(;l<s.length&&" "===s.charAt(l+1);)l++}else{let t=e[0],r=e[0];0===a.getWidth(t)&&(u++,t--),2===a.getWidth(r)&&(d++,r++);const n=a.getString(r).length;for(n>1&&(f+=n-1,l+=n-1);t>0&&o>0&&!this._isCharWordSeparator(a.loadCell(t-1,this._workCell));){a.loadCell(t-1,this._workCell);const e=this._workCell.getChars().length;0===this._workCell.getWidth()?(u++,t--):e>1&&(h+=e-1,o-=e-1),o--,t--}for(;r<a.length&&l+1<s.length&&!this._isCharWordSeparator(a.loadCell(r+1,this._workCell));){a.loadCell(r+1,this._workCell);const e=this._workCell.getChars().length;2===this._workCell.getWidth()?(d++,r++):e>1&&(f+=e-1,l+=e-1),l++,r++}}l++;let p=o+c-u+h,m=Math.min(this._bufferService.cols,l-o+u+d-h-f);if(t||""!==s.slice(o,l).trim()){if(r&&0===p&&32!==a.getCodePoint(0)){const t=i.lines.get(e[1]-1);if(t&&a.isWrapped&&32!==t.getCodePoint(this._bufferService.cols-1)){const t=this._getWordAt([this._bufferService.cols-1,e[1]-1],!1,!0,!1);if(t){const e=this._bufferService.cols-t.start;p-=e,m+=e}}}if(n&&p+m===this._bufferService.cols&&32!==a.getCodePoint(this._bufferService.cols-1)){const t=i.lines.get(e[1]+1);if((null==t?void 0:t.isWrapped)&&32!==t.getCodePoint(0)){const t=this._getWordAt([0,e[1]+1],!1,!1,!0);t&&(m+=t.length)}}return{start:p,length:m}}}_selectWordAt(e,t){const r=this._getWordAt(e,t);if(r){for(;r.start<0;)r.start+=this._bufferService.cols,e[1]--;this._model.selectionStart=[r.start,e[1]],this._model.selectionStartLength=r.length}}_selectToWordAt(e){const t=this._getWordAt(e,!0);if(t){let r=e[1];for(;t.start<0;)t.start+=this._bufferService.cols,r--;if(!this._model.areSelectionValuesReversed())for(;t.start+t.length>this._bufferService.cols;)t.length-=this._bufferService.cols,r++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?t.start:t.start+t.length,r]}}_isCharWordSeparator(e){return 0!==e.getWidth()&&this._optionsService.rawOptions.wordSeparator.indexOf(e.getChars())>=0}_selectLineAt(e){const t=this._bufferService.buffer.getWrappedRangeForLine(e),r={start:{x:0,y:t.first},end:{x:this._bufferService.cols-1,y:t.last}};this._model.selectionStart=[0,t.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,h.getRangeLength)(r,this._bufferService.cols)}};t.SelectionService=v=n([i(3,p.IBufferService),i(4,p.ICoreService),i(5,l.IMouseService),i(6,p.IOptionsService),i(7,l.IRenderService),i(8,l.ICoreBrowserService)],v)},4725:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IThemeService=t.ICharacterJoinerService=t.ISelectionService=t.IRenderService=t.IMouseService=t.ICoreBrowserService=t.ICharSizeService=void 0;const n=r(8343);t.ICharSizeService=(0,n.createDecorator)("CharSizeService"),t.ICoreBrowserService=(0,n.createDecorator)("CoreBrowserService"),t.IMouseService=(0,n.createDecorator)("MouseService"),t.IRenderService=(0,n.createDecorator)("RenderService"),t.ISelectionService=(0,n.createDecorator)("SelectionService"),t.ICharacterJoinerService=(0,n.createDecorator)("CharacterJoinerService"),t.IThemeService=(0,n.createDecorator)("ThemeService")},6731:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeService=t.DEFAULT_ANSI_COLORS=void 0;const a=r(7239),s=r(8055),o=r(8460),l=r(844),c=r(2585),u=s.css.toColor("#ffffff"),d=s.css.toColor("#000000"),h=s.css.toColor("#ffffff"),f=s.css.toColor("#000000"),p={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};t.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const e=[s.css.toColor("#2e3436"),s.css.toColor("#cc0000"),s.css.toColor("#4e9a06"),s.css.toColor("#c4a000"),s.css.toColor("#3465a4"),s.css.toColor("#75507b"),s.css.toColor("#06989a"),s.css.toColor("#d3d7cf"),s.css.toColor("#555753"),s.css.toColor("#ef2929"),s.css.toColor("#8ae234"),s.css.toColor("#fce94f"),s.css.toColor("#729fcf"),s.css.toColor("#ad7fa8"),s.css.toColor("#34e2e2"),s.css.toColor("#eeeeec")],t=[0,95,135,175,215,255];for(let r=0;r<216;r++){const n=t[r/36%6|0],i=t[r/6%6|0],a=t[r%6];e.push({css:s.channels.toCss(n,i,a),rgba:s.channels.toRgba(n,i,a)})}for(let r=0;r<24;r++){const t=8+10*r;e.push({css:s.channels.toCss(t,t,t),rgba:s.channels.toRgba(t,t,t)})}return e})());let m=t.ThemeService=class extends l.Disposable{get colors(){return this._colors}constructor(e){super(),this._optionsService=e,this._contrastCache=new a.ColorContrastCache,this._halfContrastCache=new a.ColorContrastCache,this._onChangeColors=this.register(new o.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:u,background:d,cursor:h,cursorAccent:f,selectionForeground:void 0,selectionBackgroundTransparent:p,selectionBackgroundOpaque:s.color.blend(d,p),selectionInactiveBackgroundTransparent:p,selectionInactiveBackgroundOpaque:s.color.blend(d,p),ansi:t.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=this._colors;if(r.foreground=g(e.foreground,u),r.background=g(e.background,d),r.cursor=g(e.cursor,h),r.cursorAccent=g(e.cursorAccent,f),r.selectionBackgroundTransparent=g(e.selectionBackground,p),r.selectionBackgroundOpaque=s.color.blend(r.background,r.selectionBackgroundTransparent),r.selectionInactiveBackgroundTransparent=g(e.selectionInactiveBackground,r.selectionBackgroundTransparent),r.selectionInactiveBackgroundOpaque=s.color.blend(r.background,r.selectionInactiveBackgroundTransparent),r.selectionForeground=e.selectionForeground?g(e.selectionForeground,s.NULL_COLOR):void 0,r.selectionForeground===s.NULL_COLOR&&(r.selectionForeground=void 0),s.color.isOpaque(r.selectionBackgroundTransparent)){const e=.3;r.selectionBackgroundTransparent=s.color.opacity(r.selectionBackgroundTransparent,e)}if(s.color.isOpaque(r.selectionInactiveBackgroundTransparent)){const e=.3;r.selectionInactiveBackgroundTransparent=s.color.opacity(r.selectionInactiveBackgroundTransparent,e)}if(r.ansi=t.DEFAULT_ANSI_COLORS.slice(),r.ansi[0]=g(e.black,t.DEFAULT_ANSI_COLORS[0]),r.ansi[1]=g(e.red,t.DEFAULT_ANSI_COLORS[1]),r.ansi[2]=g(e.green,t.DEFAULT_ANSI_COLORS[2]),r.ansi[3]=g(e.yellow,t.DEFAULT_ANSI_COLORS[3]),r.ansi[4]=g(e.blue,t.DEFAULT_ANSI_COLORS[4]),r.ansi[5]=g(e.magenta,t.DEFAULT_ANSI_COLORS[5]),r.ansi[6]=g(e.cyan,t.DEFAULT_ANSI_COLORS[6]),r.ansi[7]=g(e.white,t.DEFAULT_ANSI_COLORS[7]),r.ansi[8]=g(e.brightBlack,t.DEFAULT_ANSI_COLORS[8]),r.ansi[9]=g(e.brightRed,t.DEFAULT_ANSI_COLORS[9]),r.ansi[10]=g(e.brightGreen,t.DEFAULT_ANSI_COLORS[10]),r.ansi[11]=g(e.brightYellow,t.DEFAULT_ANSI_COLORS[11]),r.ansi[12]=g(e.brightBlue,t.DEFAULT_ANSI_COLORS[12]),r.ansi[13]=g(e.brightMagenta,t.DEFAULT_ANSI_COLORS[13]),r.ansi[14]=g(e.brightCyan,t.DEFAULT_ANSI_COLORS[14]),r.ansi[15]=g(e.brightWhite,t.DEFAULT_ANSI_COLORS[15]),e.extendedAnsi){const n=Math.min(r.ansi.length-16,e.extendedAnsi.length);for(let i=0;i<n;i++)r.ansi[i+16]=g(e.extendedAnsi[i],t.DEFAULT_ANSI_COLORS[i+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(e){this._restoreColor(e),this._onChangeColors.fire(this.colors)}_restoreColor(e){if(void 0!==e)switch(e){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[e]=this._restoreColors.ansi[e]}else for(let t=0;t<this._restoreColors.ansi.length;++t)this._colors.ansi[t]=this._restoreColors.ansi[t]}modifyColors(e){e(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function g(e,t){if(void 0!==e)try{return s.css.toColor(e)}catch(e){}return t}t.ThemeService=m=n([i(0,c.IOptionsService)],m)},6349:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CircularList=void 0;const n=r(8460),i=r(844);class a extends i.Disposable{constructor(e){super(),this._maxLength=e,this.onDeleteEmitter=this.register(new n.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new n.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new n.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(e){if(this._maxLength===e)return;const t=new Array(e);for(let r=0;r<Math.min(e,this.length);r++)t[r]=this._array[this._getCyclicIndex(r)];this._array=t,this._maxLength=e,this._startIndex=0}get length(){return this._length}set length(e){if(e>this._length)for(let t=this._length;t<e;t++)this._array[t]=void 0;this._length=e}get(e){return this._array[this._getCyclicIndex(e)]}set(e,t){this._array[this._getCyclicIndex(e)]=t}push(e){this._array[this._getCyclicIndex(this._length)]=e,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(e,t){if(t){for(let r=e;r<this._length-t;r++)this._array[this._getCyclicIndex(r)]=this._array[this._getCyclicIndex(r+t)];this._length-=t,this.onDeleteEmitter.fire({index:e,amount:t})}for(let r=this._length-1;r>=e;r--)this._array[this._getCyclicIndex(r+(arguments.length<=2?0:arguments.length-2))]=this._array[this._getCyclicIndex(r)];for(let r=0;r<(arguments.length<=2?0:arguments.length-2);r++)this._array[this._getCyclicIndex(e+r)]=r+2<2||arguments.length<=r+2?void 0:arguments[r+2];if((arguments.length<=2?0:arguments.length-2)&&this.onInsertEmitter.fire({index:e,amount:arguments.length<=2?0:arguments.length-2}),this._length+(arguments.length<=2?0:arguments.length-2)>this._maxLength){const e=this._length+(arguments.length<=2?0:arguments.length-2)-this._maxLength;this._startIndex+=e,this._length=this._maxLength,this.onTrimEmitter.fire(e)}else this._length+=arguments.length<=2?0:arguments.length-2}trimStart(e){e>this._length&&(e=this._length),this._startIndex+=e,this._length-=e,this.onTrimEmitter.fire(e)}shiftElements(e,t,r){if(!(t<=0)){if(e<0||e>=this._length)throw new Error("start argument out of range");if(e+r<0)throw new Error("Cannot shift elements in list beyond index 0");if(r>0){for(let i=t-1;i>=0;i--)this.set(e+i+r,this.get(e+i));const n=e+t+r-this._length;if(n>0)for(this._length+=n;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let n=0;n<t;n++)this.set(e+n+r,this.get(e+n))}}_getCyclicIndex(e){return(this._startIndex+e)%this._maxLength}}t.CircularList=a},1439:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0,t.clone=function e(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if("object"!=typeof t)return t;const n=Array.isArray(t)?[]:{};for(const i in t)n[i]=r<=1?t[i]:t[i]&&e(t[i],r-1);return n}},8055:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.contrastRatio=t.toPaddedHex=t.rgba=t.rgb=t.css=t.color=t.channels=t.NULL_COLOR=void 0;const n=r(6114);let i=0,a=0,s=0,o=0;var l,c,u,d,h;function f(e){const t=e.toString(16);return t.length<2?"0"+t:t}function p(e,t){return e<t?(t+.05)/(e+.05):(e+.05)/(t+.05)}t.NULL_COLOR={css:"#00000000",rgba:0},function(e){e.toCss=function(e,t,r,n){return void 0!==n?"#".concat(f(e)).concat(f(t)).concat(f(r)).concat(f(n)):"#".concat(f(e)).concat(f(t)).concat(f(r))},e.toRgba=function(e,t,r){return(e<<24|t<<16|r<<8|(arguments.length>3&&void 0!==arguments[3]?arguments[3]:255))>>>0}}(l||(t.channels=l={})),function(e){function t(e,t){return o=Math.round(255*t),[i,a,s]=h.toChannels(e.rgba),{css:l.toCss(i,a,s,o),rgba:l.toRgba(i,a,s,o)}}e.blend=function(e,t){if(o=(255&t.rgba)/255,1===o)return{css:t.css,rgba:t.rgba};const r=t.rgba>>24&255,n=t.rgba>>16&255,c=t.rgba>>8&255,u=e.rgba>>24&255,d=e.rgba>>16&255,h=e.rgba>>8&255;return i=u+Math.round((r-u)*o),a=d+Math.round((n-d)*o),s=h+Math.round((c-h)*o),{css:l.toCss(i,a,s),rgba:l.toRgba(i,a,s)}},e.isOpaque=function(e){return 255==(255&e.rgba)},e.ensureContrastRatio=function(e,t,r){const n=h.ensureContrastRatio(e.rgba,t.rgba,r);if(n)return h.toColor(n>>24&255,n>>16&255,n>>8&255)},e.opaque=function(e){const t=(255|e.rgba)>>>0;return[i,a,s]=h.toChannels(t),{css:l.toCss(i,a,s),rgba:t}},e.opacity=t,e.multiplyOpacity=function(e,r){return o=255&e.rgba,t(e,o*r/255)},e.toColorRGB=function(e){return[e.rgba>>24&255,e.rgba>>16&255,e.rgba>>8&255]}}(c||(t.color=c={})),function(e){let t,r;if(!n.isNode){const e=document.createElement("canvas");e.width=1,e.height=1;const n=e.getContext("2d",{willReadFrequently:!0});n&&(t=n,t.globalCompositeOperation="copy",r=t.createLinearGradient(0,0,1,1))}e.toColor=function(e){if(e.match(/#[\da-f]{3,8}/i))switch(e.length){case 4:return i=parseInt(e.slice(1,2).repeat(2),16),a=parseInt(e.slice(2,3).repeat(2),16),s=parseInt(e.slice(3,4).repeat(2),16),h.toColor(i,a,s);case 5:return i=parseInt(e.slice(1,2).repeat(2),16),a=parseInt(e.slice(2,3).repeat(2),16),s=parseInt(e.slice(3,4).repeat(2),16),o=parseInt(e.slice(4,5).repeat(2),16),h.toColor(i,a,s,o);case 7:return{css:e,rgba:(parseInt(e.slice(1),16)<<8|255)>>>0};case 9:return{css:e,rgba:parseInt(e.slice(1),16)>>>0}}const n=e.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(n)return i=parseInt(n[1]),a=parseInt(n[2]),s=parseInt(n[3]),o=Math.round(255*(void 0===n[5]?1:parseFloat(n[5]))),h.toColor(i,a,s,o);if(!t||!r)throw new Error("css.toColor: Unsupported css format");if(t.fillStyle=r,t.fillStyle=e,"string"!=typeof t.fillStyle)throw new Error("css.toColor: Unsupported css format");if(t.fillRect(0,0,1,1),[i,a,s,o]=t.getImageData(0,0,1,1).data,255!==o)throw new Error("css.toColor: Unsupported css format");return{rgba:l.toRgba(i,a,s,o),css:e}}}(u||(t.css=u={})),function(e){function t(e,t,r){const n=e/255,i=t/255,a=r/255;return.2126*(n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4))+.7152*(i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))+.0722*(a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4))}e.relativeLuminance=function(e){return t(e>>16&255,e>>8&255,255&e)},e.relativeLuminance2=t}(d||(t.rgb=d={})),function(e){function t(e,t,r){const n=e>>24&255,i=e>>16&255,a=e>>8&255;let s=t>>24&255,o=t>>16&255,l=t>>8&255,c=p(d.relativeLuminance2(s,o,l),d.relativeLuminance2(n,i,a));for(;c<r&&(s>0||o>0||l>0);)s-=Math.max(0,Math.ceil(.1*s)),o-=Math.max(0,Math.ceil(.1*o)),l-=Math.max(0,Math.ceil(.1*l)),c=p(d.relativeLuminance2(s,o,l),d.relativeLuminance2(n,i,a));return(s<<24|o<<16|l<<8|255)>>>0}function r(e,t,r){const n=e>>24&255,i=e>>16&255,a=e>>8&255;let s=t>>24&255,o=t>>16&255,l=t>>8&255,c=p(d.relativeLuminance2(s,o,l),d.relativeLuminance2(n,i,a));for(;c<r&&(s<255||o<255||l<255);)s=Math.min(255,s+Math.ceil(.1*(255-s))),o=Math.min(255,o+Math.ceil(.1*(255-o))),l=Math.min(255,l+Math.ceil(.1*(255-l))),c=p(d.relativeLuminance2(s,o,l),d.relativeLuminance2(n,i,a));return(s<<24|o<<16|l<<8|255)>>>0}e.ensureContrastRatio=function(e,n,i){const a=d.relativeLuminance(e>>8),s=d.relativeLuminance(n>>8);if(p(a,s)<i){if(s<a){const s=t(e,n,i),o=p(a,d.relativeLuminance(s>>8));if(o<i){const t=r(e,n,i);return o>p(a,d.relativeLuminance(t>>8))?s:t}return s}const o=r(e,n,i),l=p(a,d.relativeLuminance(o>>8));if(l<i){const r=t(e,n,i);return l>p(a,d.relativeLuminance(r>>8))?o:r}return o}},e.reduceLuminance=t,e.increaseLuminance=r,e.toChannels=function(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]},e.toColor=function(e,t,r,n){return{css:l.toCss(e,t,r,n),rgba:l.toRgba(e,t,r,n)}}}(h||(t.rgba=h={})),t.toPaddedHex=f,t.contrastRatio=p},8969:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CoreTerminal=void 0;const n=r(844),i=r(2585),a=r(4348),s=r(7866),o=r(744),l=r(7302),c=r(6975),u=r(8460),d=r(1753),h=r(1480),f=r(7994),p=r(9282),m=r(5435),g=r(5981),v=r(2660);let y=!1;class b extends n.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new u.EventEmitter),this._onScroll.event(e=>{var t;null===(t=this._onScrollApi)||void 0===t||t.fire(e.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(e){for(const t in e)this.optionsService.options[t]=e[t]}constructor(e){super(),this._windowsWrappingHeuristics=this.register(new n.MutableDisposable),this._onBinary=this.register(new u.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new u.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new u.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new u.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new u.EventEmitter),this._instantiationService=new a.InstantiationService,this.optionsService=this.register(new l.OptionsService(e)),this._instantiationService.setService(i.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(o.BufferService)),this._instantiationService.setService(i.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(s.LogService)),this._instantiationService.setService(i.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(c.CoreService)),this._instantiationService.setService(i.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(d.CoreMouseService)),this._instantiationService.setService(i.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(h.UnicodeService)),this._instantiationService.setService(i.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(f.CharsetService),this._instantiationService.setService(i.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(v.OscLinkService),this._instantiationService.setService(i.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new m.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,u.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,u.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,u.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,u.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(e=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(e=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new g.WriteBuffer((e,t)=>this._inputHandler.parse(e,t))),this.register((0,u.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(e,t){this._writeBuffer.write(e,t)}writeSync(e,t){this._logService.logLevel<=i.LogLevelEnum.WARN&&!y&&(this._logService.warn("writeSync is unreliable and will be removed soon."),y=!0),this._writeBuffer.writeSync(e,t)}resize(e,t){isNaN(e)||isNaN(t)||(e=Math.max(e,o.MINIMUM_COLS),t=Math.max(t,o.MINIMUM_ROWS),this._bufferService.resize(e,t))}scroll(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._bufferService.scroll(e,t)}scrollLines(e,t,r){this._bufferService.scrollLines(e,t,r)}scrollPages(e){this.scrollLines(e*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(e){const t=e-this._bufferService.buffer.ydisp;0!==t&&this.scrollLines(t)}registerEscHandler(e,t){return this._inputHandler.registerEscHandler(e,t)}registerDcsHandler(e,t){return this._inputHandler.registerDcsHandler(e,t)}registerCsiHandler(e,t){return this._inputHandler.registerCsiHandler(e,t)}registerOscHandler(e,t){return this._inputHandler.registerOscHandler(e,t)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let e=!1;const t=this.optionsService.rawOptions.windowsPty;t&&void 0!==t.buildNumber&&void 0!==t.buildNumber?e=!!("conpty"===t.backend&&t.buildNumber<21376):this.optionsService.rawOptions.windowsMode&&(e=!0),e?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const e=[];e.push(this.onLineFeed(p.updateWindowsModeWrappedState.bind(null,this._bufferService))),e.push(this.registerCsiHandler({final:"H"},()=>((0,p.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,n.toDisposable)(()=>{for(const t of e)t.dispose()})}}}t.CoreTerminal=b},8460:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.forwardEvent=t.EventEmitter=void 0,t.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=e=>(this._listeners.push(e),{dispose:()=>{if(!this._disposed)for(let t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return void this._listeners.splice(t,1)}})),this._event}fire(e,t){const r=[];for(let n=0;n<this._listeners.length;n++)r.push(this._listeners[n]);for(let n=0;n<r.length;n++)r[n].call(void 0,e,t)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},t.forwardEvent=function(e,t){return e(e=>t.fire(e))}},5435:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.InputHandler=t.WindowsOptionsReportType=void 0;const a=r(2584),s=r(7116),o=r(2015),l=r(844),c=r(482),u=r(8437),d=r(8460),h=r(643),f=r(511),p=r(3734),m=r(2585),g=r(6242),v=r(6351),y=r(5941),b={"(":0,")":1,"*":2,"+":3,"-":1,".":2},x=131072;function _(e,t){if(e>24)return t.setWinLines||!1;switch(e){case 1:return!!t.restoreWin;case 2:return!!t.minimizeWin;case 3:return!!t.setWinPosition;case 4:return!!t.setWinSizePixels;case 5:return!!t.raiseWin;case 6:return!!t.lowerWin;case 7:return!!t.refreshWin;case 8:return!!t.setWinSizeChars;case 9:return!!t.maximizeWin;case 10:return!!t.fullscreenWin;case 11:return!!t.getWinState;case 13:return!!t.getWinPosition;case 14:return!!t.getWinSizePixels;case 15:return!!t.getScreenSizePixels;case 16:return!!t.getCellSizePixels;case 18:return!!t.getWinSizeChars;case 19:return!!t.getScreenSizeChars;case 20:return!!t.getIconTitle;case 21:return!!t.getWinTitle;case 22:return!!t.pushTitle;case 23:return!!t.popTitle;case 24:return!!t.setWinLines}return!1}var w;!function(e){e[e.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",e[e.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"}(w||(t.WindowsOptionsReportType=w={}));let S=0;class j extends l.Disposable{getAttrData(){return this._curAttrData}constructor(e,t,r,n,i,l,h,p){let m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:new o.EscapeSequenceParser;super(),this._bufferService=e,this._charsetService=t,this._coreService=r,this._logService=n,this._optionsService=i,this._oscLinkService=l,this._coreMouseService=h,this._unicodeService=p,this._parser=m,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new c.StringToUtf32,this._utf8Decoder=new c.Utf8ToUtf32,this._workCell=new f.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new d.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new d.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new d.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new d.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new d.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new d.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new d.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new d.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new d.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new d.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new d.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new d.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new k(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(e=>this._activeBuffer=e.activeBuffer)),this._parser.setCsiHandlerFallback((e,t)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(e),params:t.toArray()})}),this._parser.setEscHandlerFallback(e=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(e)})}),this._parser.setExecuteHandlerFallback(e=>{this._logService.debug("Unknown EXECUTE code: ",{code:e})}),this._parser.setOscHandlerFallback((e,t,r)=>{this._logService.debug("Unknown OSC code: ",{identifier:e,action:t,data:r})}),this._parser.setDcsHandlerFallback((e,t,r)=>{"HOOK"===t&&(r=r.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(e),action:t,payload:r})}),this._parser.setPrintHandler((e,t,r)=>this.print(e,t,r)),this._parser.registerCsiHandler({final:"@"},e=>this.insertChars(e)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},e=>this.scrollLeft(e)),this._parser.registerCsiHandler({final:"A"},e=>this.cursorUp(e)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},e=>this.scrollRight(e)),this._parser.registerCsiHandler({final:"B"},e=>this.cursorDown(e)),this._parser.registerCsiHandler({final:"C"},e=>this.cursorForward(e)),this._parser.registerCsiHandler({final:"D"},e=>this.cursorBackward(e)),this._parser.registerCsiHandler({final:"E"},e=>this.cursorNextLine(e)),this._parser.registerCsiHandler({final:"F"},e=>this.cursorPrecedingLine(e)),this._parser.registerCsiHandler({final:"G"},e=>this.cursorCharAbsolute(e)),this._parser.registerCsiHandler({final:"H"},e=>this.cursorPosition(e)),this._parser.registerCsiHandler({final:"I"},e=>this.cursorForwardTab(e)),this._parser.registerCsiHandler({final:"J"},e=>this.eraseInDisplay(e,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},e=>this.eraseInDisplay(e,!0)),this._parser.registerCsiHandler({final:"K"},e=>this.eraseInLine(e,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},e=>this.eraseInLine(e,!0)),this._parser.registerCsiHandler({final:"L"},e=>this.insertLines(e)),this._parser.registerCsiHandler({final:"M"},e=>this.deleteLines(e)),this._parser.registerCsiHandler({final:"P"},e=>this.deleteChars(e)),this._parser.registerCsiHandler({final:"S"},e=>this.scrollUp(e)),this._parser.registerCsiHandler({final:"T"},e=>this.scrollDown(e)),this._parser.registerCsiHandler({final:"X"},e=>this.eraseChars(e)),this._parser.registerCsiHandler({final:"Z"},e=>this.cursorBackwardTab(e)),this._parser.registerCsiHandler({final:"`"},e=>this.charPosAbsolute(e)),this._parser.registerCsiHandler({final:"a"},e=>this.hPositionRelative(e)),this._parser.registerCsiHandler({final:"b"},e=>this.repeatPrecedingCharacter(e)),this._parser.registerCsiHandler({final:"c"},e=>this.sendDeviceAttributesPrimary(e)),this._parser.registerCsiHandler({prefix:">",final:"c"},e=>this.sendDeviceAttributesSecondary(e)),this._parser.registerCsiHandler({final:"d"},e=>this.linePosAbsolute(e)),this._parser.registerCsiHandler({final:"e"},e=>this.vPositionRelative(e)),this._parser.registerCsiHandler({final:"f"},e=>this.hVPosition(e)),this._parser.registerCsiHandler({final:"g"},e=>this.tabClear(e)),this._parser.registerCsiHandler({final:"h"},e=>this.setMode(e)),this._parser.registerCsiHandler({prefix:"?",final:"h"},e=>this.setModePrivate(e)),this._parser.registerCsiHandler({final:"l"},e=>this.resetMode(e)),this._parser.registerCsiHandler({prefix:"?",final:"l"},e=>this.resetModePrivate(e)),this._parser.registerCsiHandler({final:"m"},e=>this.charAttributes(e)),this._parser.registerCsiHandler({final:"n"},e=>this.deviceStatus(e)),this._parser.registerCsiHandler({prefix:"?",final:"n"},e=>this.deviceStatusPrivate(e)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},e=>this.softReset(e)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},e=>this.setCursorStyle(e)),this._parser.registerCsiHandler({final:"r"},e=>this.setScrollRegion(e)),this._parser.registerCsiHandler({final:"s"},e=>this.saveCursor(e)),this._parser.registerCsiHandler({final:"t"},e=>this.windowOptions(e)),this._parser.registerCsiHandler({final:"u"},e=>this.restoreCursor(e)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},e=>this.insertColumns(e)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},e=>this.deleteColumns(e)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},e=>this.selectProtected(e)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},e=>this.requestMode(e,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},e=>this.requestMode(e,!1)),this._parser.setExecuteHandler(a.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(a.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(a.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(a.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(a.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(a.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(a.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(a.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(a.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(a.C1.IND,()=>this.index()),this._parser.setExecuteHandler(a.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(a.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new g.OscHandler(e=>(this.setTitle(e),this.setIconName(e),!0))),this._parser.registerOscHandler(1,new g.OscHandler(e=>this.setIconName(e))),this._parser.registerOscHandler(2,new g.OscHandler(e=>this.setTitle(e))),this._parser.registerOscHandler(4,new g.OscHandler(e=>this.setOrReportIndexedColor(e))),this._parser.registerOscHandler(8,new g.OscHandler(e=>this.setHyperlink(e))),this._parser.registerOscHandler(10,new g.OscHandler(e=>this.setOrReportFgColor(e))),this._parser.registerOscHandler(11,new g.OscHandler(e=>this.setOrReportBgColor(e))),this._parser.registerOscHandler(12,new g.OscHandler(e=>this.setOrReportCursorColor(e))),this._parser.registerOscHandler(104,new g.OscHandler(e=>this.restoreIndexedColor(e))),this._parser.registerOscHandler(110,new g.OscHandler(e=>this.restoreFgColor(e))),this._parser.registerOscHandler(111,new g.OscHandler(e=>this.restoreBgColor(e))),this._parser.registerOscHandler(112,new g.OscHandler(e=>this.restoreCursorColor(e))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const a in s.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:a},()=>this.selectCharset("("+a)),this._parser.registerEscHandler({intermediates:")",final:a},()=>this.selectCharset(")"+a)),this._parser.registerEscHandler({intermediates:"*",final:a},()=>this.selectCharset("*"+a)),this._parser.registerEscHandler({intermediates:"+",final:a},()=>this.selectCharset("+"+a)),this._parser.registerEscHandler({intermediates:"-",final:a},()=>this.selectCharset("-"+a)),this._parser.registerEscHandler({intermediates:".",final:a},()=>this.selectCharset("."+a)),this._parser.registerEscHandler({intermediates:"/",final:a},()=>this.selectCharset("/"+a));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(e=>(this._logService.error("Parsing error: ",e),e)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new v.DcsHandler((e,t)=>this.requestStatusString(e,t)))}_preserveStack(e,t,r,n){this._parseStack.paused=!0,this._parseStack.cursorStartX=e,this._parseStack.cursorStartY=t,this._parseStack.decodedLength=r,this._parseStack.position=n}_logSlowResolvingAsync(e){this._logService.logLevel<=m.LogLevelEnum.WARN&&Promise.race([e,new Promise((e,t)=>setTimeout(()=>t("#SLOW_TIMEOUT"),5e3))]).catch(e=>{if("#SLOW_TIMEOUT"!==e)throw e;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(e,t){let r,n=this._activeBuffer.x,i=this._activeBuffer.y,a=0;const s=this._parseStack.paused;if(s){if(r=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,t))return this._logSlowResolvingAsync(r),r;n=this._parseStack.cursorStartX,i=this._parseStack.cursorStartY,this._parseStack.paused=!1,e.length>x&&(a=this._parseStack.position+x)}if(this._logService.logLevel<=m.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+' "'.concat("string"==typeof e?e:Array.prototype.map.call(e,e=>String.fromCharCode(e)).join(""),'"'),"string"==typeof e?e.split("").map(e=>e.charCodeAt(0)):e),this._parseBuffer.length<e.length&&this._parseBuffer.length<x&&(this._parseBuffer=new Uint32Array(Math.min(e.length,x))),s||this._dirtyRowTracker.clearRange(),e.length>x)for(let o=a;o<e.length;o+=x){const t=o+x<e.length?o+x:e.length,a="string"==typeof e?this._stringDecoder.decode(e.substring(o,t),this._parseBuffer):this._utf8Decoder.decode(e.subarray(o,t),this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,a))return this._preserveStack(n,i,a,o),this._logSlowResolvingAsync(r),r}else if(!s){const t="string"==typeof e?this._stringDecoder.decode(e,this._parseBuffer):this._utf8Decoder.decode(e,this._parseBuffer);if(r=this._parser.parse(this._parseBuffer,t))return this._preserveStack(n,i,t,0),this._logSlowResolvingAsync(r),r}this._activeBuffer.x===n&&this._activeBuffer.y===i||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(e,t,r){let n,i;const a=this._charsetService.charset,s=this._optionsService.rawOptions.screenReaderMode,o=this._bufferService.cols,l=this._coreService.decPrivateModes.wraparound,u=this._coreService.modes.insertMode,d=this._curAttrData;let f=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&r-t>0&&2===f.getWidth(this._activeBuffer.x-1)&&f.setCellFromCodePoint(this._activeBuffer.x-1,0,1,d.fg,d.bg,d.extended);for(let p=t;p<r;++p){if(n=e[p],i=this._unicodeService.wcwidth(n),n<127&&a){const e=a[String.fromCharCode(n)];e&&(n=e.charCodeAt(0))}if(s&&this._onA11yChar.fire((0,c.stringFromCodePoint)(n)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),i||!this._activeBuffer.x){if(this._activeBuffer.x+i-1>=o)if(l){for(;this._activeBuffer.x<o;)f.setCellFromCodePoint(this._activeBuffer.x++,0,1,d.fg,d.bg,d.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),f=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=o-1,2===i)continue;if(u&&(f.insertCells(this._activeBuffer.x,i,this._activeBuffer.getNullCell(d),d),2===f.getWidth(o-1)&&f.setCellFromCodePoint(o-1,h.NULL_CELL_CODE,h.NULL_CELL_WIDTH,d.fg,d.bg,d.extended)),f.setCellFromCodePoint(this._activeBuffer.x++,n,i,d.fg,d.bg,d.extended),i>0)for(;--i;)f.setCellFromCodePoint(this._activeBuffer.x++,0,0,d.fg,d.bg,d.extended)}else f.getWidth(this._activeBuffer.x-1)?f.addCodepointToCell(this._activeBuffer.x-1,n):f.addCodepointToCell(this._activeBuffer.x-2,n)}r-t>0&&(f.loadCell(this._activeBuffer.x-1,this._workCell),2===this._workCell.getWidth()||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<o&&r-t>0&&0===f.getWidth(this._activeBuffer.x)&&!f.hasContent(this._activeBuffer.x)&&f.setCellFromCodePoint(this._activeBuffer.x,0,1,d.fg,d.bg,d.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(e,t){return"t"!==e.final||e.prefix||e.intermediates?this._parser.registerCsiHandler(e,t):this._parser.registerCsiHandler(e,e=>!_(e.params[0],this._optionsService.rawOptions.windowOptions)||t(e))}registerDcsHandler(e,t){return this._parser.registerDcsHandler(e,new v.DcsHandler(t))}registerEscHandler(e,t){return this._parser.registerEscHandler(e,t)}registerOscHandler(e,t){return this._parser.registerOscHandler(e,new g.OscHandler(t))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var e;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(0===this._activeBuffer.x&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(null===(e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))||void 0===e?void 0:e.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);e.hasWidth(this._activeBuffer.x)&&!e.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const e=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-e),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._bufferService.cols-1;this._activeBuffer.x=Math.min(e,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(e,t){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=e,this._activeBuffer.y=this._activeBuffer.scrollTop+t):(this._activeBuffer.x=e,this._activeBuffer.y=t),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(e,t){this._restrictCursor(),this._setCursor(this._activeBuffer.x+e,this._activeBuffer.y+t)}cursorUp(e){const t=this._activeBuffer.y-this._activeBuffer.scrollTop;return t>=0?this._moveCursor(0,-Math.min(t,e.params[0]||1)):this._moveCursor(0,-(e.params[0]||1)),!0}cursorDown(e){const t=this._activeBuffer.scrollBottom-this._activeBuffer.y;return t>=0?this._moveCursor(0,Math.min(t,e.params[0]||1)):this._moveCursor(0,e.params[0]||1),!0}cursorForward(e){return this._moveCursor(e.params[0]||1,0),!0}cursorBackward(e){return this._moveCursor(-(e.params[0]||1),0),!0}cursorNextLine(e){return this.cursorDown(e),this._activeBuffer.x=0,!0}cursorPrecedingLine(e){return this.cursorUp(e),this._activeBuffer.x=0,!0}cursorCharAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(e){return this._setCursor(e.length>=2?(e.params[1]||1)-1:0,(e.params[0]||1)-1),!0}charPosAbsolute(e){return this._setCursor((e.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(e){return this._moveCursor(e.params[0]||1,0),!0}linePosAbsolute(e){return this._setCursor(this._activeBuffer.x,(e.params[0]||1)-1),!0}vPositionRelative(e){return this._moveCursor(0,e.params[0]||1),!0}hVPosition(e){return this.cursorPosition(e),!0}tabClear(e){const t=e.params[0];return 0===t?delete this._activeBuffer.tabs[this._activeBuffer.x]:3===t&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(e){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let t=e.params[0]||1;for(;t--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(e){const t=e.params[0];return 1===t&&(this._curAttrData.bg|=536870912),2!==t&&0!==t||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);a.replaceCells(t,r,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),i),n&&(a.isWrapped=!1)}_resetBufferLine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this._activeBuffer.lines.get(this._activeBuffer.ybase+e);r&&(r.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),t),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+e),r.isWrapped=!1)}eraseInDisplay(e){let t,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:for(t=this._activeBuffer.y,this._dirtyRowTracker.markDirty(t),this._eraseInBufferLine(t++,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,r);t<this._bufferService.rows;t++)this._resetBufferLine(t,r);this._dirtyRowTracker.markDirty(t);break;case 1:for(t=this._activeBuffer.y,this._dirtyRowTracker.markDirty(t),this._eraseInBufferLine(t,0,this._activeBuffer.x+1,!0,r),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(t+1).isWrapped=!1);t--;)this._resetBufferLine(t,r);this._dirtyRowTracker.markDirty(0);break;case 2:for(t=this._bufferService.rows,this._dirtyRowTracker.markDirty(t-1);t--;)this._resetBufferLine(t,r);this._dirtyRowTracker.markDirty(0);break;case 3:const e=this._activeBuffer.lines.length-this._bufferService.rows;e>0&&(this._activeBuffer.lines.trimStart(e),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-e,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-e,0),this._onScroll.fire(0))}return!0}eraseInLine(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];switch(this._restrictCursor(this._bufferService.cols),e.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,0===this._activeBuffer.x,t);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,t);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,t)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const r=this._activeBuffer.ybase+this._activeBuffer.y,n=this._bufferService.rows-1-this._activeBuffer.scrollBottom,i=this._bufferService.rows-1+this._activeBuffer.ybase-n+1;for(;t--;)this._activeBuffer.lines.splice(i-1,1),this._activeBuffer.lines.splice(r,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(e){this._restrictCursor();let t=e.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const r=this._activeBuffer.ybase+this._activeBuffer.y;let n;for(n=this._bufferService.rows-1-this._activeBuffer.scrollBottom,n=this._bufferService.rows-1+this._activeBuffer.ybase-n;t--;)this._activeBuffer.lines.splice(r,1),this._activeBuffer.lines.splice(n,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(e){this._restrictCursor();const t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.insertCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(e){this._restrictCursor();const t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.deleteCells(this._activeBuffer.x,e.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(e){let t=e.params[0]||1;for(;t--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(u.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);e.deleteCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);e.insertCells(0,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);e.insertCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(e){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const t=e.params[0]||1;for(let r=this._activeBuffer.scrollTop;r<=this._activeBuffer.scrollBottom;++r){const e=this._activeBuffer.lines.get(this._activeBuffer.ybase+r);e.deleteCells(this._activeBuffer.x,t,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),e.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(e){this._restrictCursor();const t=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return t&&(t.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(e.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(e){if(!this._parser.precedingCodepoint)return!0;const t=e.params[0]||1,r=new Uint32Array(t);for(let n=0;n<t;++n)r[n]=this._parser.precedingCodepoint;return this.print(r,0,r.length),!0}sendDeviceAttributesPrimary(e){return e.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(a.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(a.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(e){return e.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(a.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(a.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(e.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(a.C0.ESC+"[>83;40003;0c")),!0}_is(e){return 0===(this._optionsService.rawOptions.termName+"").indexOf(e)}setMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,s.DEFAULT_CHARSET),this._charsetService.setgCharset(1,s.DEFAULT_CHARSET),this._charsetService.setgCharset(2,s.DEFAULT_CHARSET),this._charsetService.setgCharset(3,s.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(e){for(let t=0;t<e.length;t++)switch(e.params[t]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),1049===e.params[t]&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(e,t){const r=this._coreService.decPrivateModes,{activeProtocol:n,activeEncoding:i}=this._coreMouseService,s=this._coreService,{buffers:o,cols:l}=this._bufferService,{active:c,alt:u}=o,d=this._optionsService.rawOptions,h=e=>e?1:2,f=e.params[0];return p=f,m=t?2===f?4:4===f?h(s.modes.insertMode):12===f?3:20===f?h(d.convertEol):0:1===f?h(r.applicationCursorKeys):3===f?d.windowOptions.setWinLines?80===l?2:132===l?1:0:0:6===f?h(r.origin):7===f?h(r.wraparound):8===f?3:9===f?h("X10"===n):12===f?h(d.cursorBlink):25===f?h(!s.isCursorHidden):45===f?h(r.reverseWraparound):66===f?h(r.applicationKeypad):67===f?4:1e3===f?h("VT200"===n):1002===f?h("DRAG"===n):1003===f?h("ANY"===n):1004===f?h(r.sendFocus):1005===f?4:1006===f?h("SGR"===i):1015===f?4:1016===f?h("SGR_PIXELS"===i):1048===f?1:47===f||1047===f||1049===f?h(c===u):2004===f?h(r.bracketedPasteMode):0,s.triggerDataEvent("".concat(a.C0.ESC,"[").concat(t?"":"?").concat(p,";").concat(m,"$y")),!0;var p,m}_updateAttrColor(e,t,r,n,i){return 2===t?(e|=50331648,e&=-16777216,e|=p.AttributeData.fromColorRGB([r,n,i])):5===t&&(e&=-50331904,e|=33554432|255&r),e}_extractColor(e,t,r){const n=[0,0,-1,0,0,0];let i=0,a=0;do{if(n[a+i]=e.params[t+a],e.hasSubParams(t+a)){const r=e.getSubParams(t+a);let s=0;do{5===n[1]&&(i=1),n[a+s+1+i]=r[s]}while(++s<r.length&&s+a+1+i<n.length);break}if(5===n[1]&&a+i>=2||2===n[1]&&a+i>=5)break;n[1]&&(i=1)}while(++a+t<e.length&&a+i<n.length);for(let s=2;s<n.length;++s)-1===n[s]&&(n[s]=0);switch(n[0]){case 38:r.fg=this._updateAttrColor(r.fg,n[1],n[3],n[4],n[5]);break;case 48:r.bg=this._updateAttrColor(r.bg,n[1],n[3],n[4],n[5]);break;case 58:r.extended=r.extended.clone(),r.extended.underlineColor=this._updateAttrColor(r.extended.underlineColor,n[1],n[3],n[4],n[5])}return a}_processUnderline(e,t){t.extended=t.extended.clone(),(!~e||e>5)&&(e=1),t.extended.underlineStyle=e,t.fg|=268435456,0===e&&(t.fg&=-268435457),t.updateExtended()}_processSGR0(e){e.fg=u.DEFAULT_ATTR_DATA.fg,e.bg=u.DEFAULT_ATTR_DATA.bg,e.extended=e.extended.clone(),e.extended.underlineStyle=0,e.extended.underlineColor&=-67108864,e.updateExtended()}charAttributes(e){if(1===e.length&&0===e.params[0])return this._processSGR0(this._curAttrData),!0;const t=e.length;let r;const n=this._curAttrData;for(let i=0;i<t;i++)r=e.params[i],r>=30&&r<=37?(n.fg&=-50331904,n.fg|=16777216|r-30):r>=40&&r<=47?(n.bg&=-50331904,n.bg|=16777216|r-40):r>=90&&r<=97?(n.fg&=-50331904,n.fg|=16777224|r-90):r>=100&&r<=107?(n.bg&=-50331904,n.bg|=16777224|r-100):0===r?this._processSGR0(n):1===r?n.fg|=134217728:3===r?n.bg|=67108864:4===r?(n.fg|=268435456,this._processUnderline(e.hasSubParams(i)?e.getSubParams(i)[0]:1,n)):5===r?n.fg|=536870912:7===r?n.fg|=67108864:8===r?n.fg|=1073741824:9===r?n.fg|=2147483648:2===r?n.bg|=134217728:21===r?this._processUnderline(2,n):22===r?(n.fg&=-134217729,n.bg&=-134217729):23===r?n.bg&=-67108865:24===r?(n.fg&=-268435457,this._processUnderline(0,n)):25===r?n.fg&=-536870913:27===r?n.fg&=-67108865:28===r?n.fg&=-1073741825:29===r?n.fg&=2147483647:39===r?(n.fg&=-67108864,n.fg|=16777215&u.DEFAULT_ATTR_DATA.fg):49===r?(n.bg&=-67108864,n.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):38===r||48===r||58===r?i+=this._extractColor(e,i,n):53===r?n.bg|=1073741824:55===r?n.bg&=-1073741825:59===r?(n.extended=n.extended.clone(),n.extended.underlineColor=-1,n.updateExtended()):100===r?(n.fg&=-67108864,n.fg|=16777215&u.DEFAULT_ATTR_DATA.fg,n.bg&=-67108864,n.bg|=16777215&u.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",r);return!0}deviceStatus(e){switch(e.params[0]){case 5:this._coreService.triggerDataEvent("".concat(a.C0.ESC,"[0n"));break;case 6:const e=this._activeBuffer.y+1,t=this._activeBuffer.x+1;this._coreService.triggerDataEvent("".concat(a.C0.ESC,"[").concat(e,";").concat(t,"R"))}return!0}deviceStatusPrivate(e){if(6===e.params[0]){const e=this._activeBuffer.y+1,t=this._activeBuffer.x+1;this._coreService.triggerDataEvent("".concat(a.C0.ESC,"[?").concat(e,";").concat(t,"R"))}return!0}softReset(e){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(e){const t=e.params[0]||1;switch(t){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const r=t%2==1;return this._optionsService.options.cursorBlink=r,!0}setScrollRegion(e){const t=e.params[0]||1;let r;return(e.length<2||(r=e.params[1])>this._bufferService.rows||0===r)&&(r=this._bufferService.rows),r>t&&(this._activeBuffer.scrollTop=t-1,this._activeBuffer.scrollBottom=r-1,this._setCursor(0,0)),!0}windowOptions(e){if(!_(e.params[0],this._optionsService.rawOptions.windowOptions))return!0;const t=e.length>1?e.params[1]:0;switch(e.params[0]){case 14:2!==t&&this._onRequestWindowsOptionsReport.fire(w.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(w.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent("".concat(a.C0.ESC,"[8;").concat(this._bufferService.rows,";").concat(this._bufferService.cols,"t"));break;case 22:0!==t&&2!==t||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),0!==t&&1!==t||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:0!==t&&2!==t||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),0!==t&&1!==t||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(e){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(e){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(e){return this._windowTitle=e,this._onTitleChange.fire(e),!0}setIconName(e){return this._iconName=e,!0}setOrReportIndexedColor(e){const t=[],r=e.split(";");for(;r.length>1;){const e=r.shift(),n=r.shift();if(/^\d+$/.exec(e)){const r=parseInt(e);if(C(r))if("?"===n)t.push({type:0,index:r});else{const e=(0,y.parseColor)(n);e&&t.push({type:1,index:r,color:e})}}}return t.length&&this._onColor.fire(t),!0}setHyperlink(e){const t=e.split(";");return!(t.length<2)&&(t[1]?this._createHyperlink(t[0],t[1]):!t[0]&&this._finishHyperlink())}_createHyperlink(e,t){this._getCurrentLinkId()&&this._finishHyperlink();const r=e.split(":");let n;const i=r.findIndex(e=>e.startsWith("id="));return-1!==i&&(n=r[i].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:n,uri:t}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(e,t){const r=e.split(";");for(let n=0;n<r.length&&!(t>=this._specialColors.length);++n,++t)if("?"===r[n])this._onColor.fire([{type:0,index:this._specialColors[t]}]);else{const e=(0,y.parseColor)(r[n]);e&&this._onColor.fire([{type:1,index:this._specialColors[t],color:e}])}return!0}setOrReportFgColor(e){return this._setOrReportSpecialColor(e,0)}setOrReportBgColor(e){return this._setOrReportSpecialColor(e,1)}setOrReportCursorColor(e){return this._setOrReportSpecialColor(e,2)}restoreIndexedColor(e){if(!e)return this._onColor.fire([{type:2}]),!0;const t=[],r=e.split(";");for(let n=0;n<r.length;++n)if(/^\d+$/.exec(r[n])){const e=parseInt(r[n]);C(e)&&t.push({type:2,index:e})}return t.length&&this._onColor.fire(t),!0}restoreFgColor(e){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(e){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(e){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,s.DEFAULT_CHARSET),!0}selectCharset(e){return 2!==e.length?(this.selectDefaultCharset(),!0):("/"===e[0]||this._charsetService.setgCharset(b[e[0]],s.CHARSETS[e[1]]||s.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const e=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,e,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=u.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=u.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(e){return this._charsetService.setgLevel(e),!0}screenAlignmentPattern(){const e=new f.CellData;e.content=1<<22|"E".charCodeAt(0),e.fg=this._curAttrData.fg,e.bg=this._curAttrData.bg,this._setCursor(0,0);for(let t=0;t<this._bufferService.rows;++t){const r=this._activeBuffer.ybase+this._activeBuffer.y+t,n=this._activeBuffer.lines.get(r);n&&(n.fill(e),n.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(e,t){const r=this._bufferService.buffer,n=this._optionsService.rawOptions;return(e=>(this._coreService.triggerDataEvent("".concat(a.C0.ESC).concat(e).concat(a.C0.ESC,"\\")),!0))('"q'===e?"P1$r".concat(this._curAttrData.isProtected()?1:0,'"q'):'"p'===e?'P1$r61;1"p':"r"===e?"P1$r".concat(r.scrollTop+1,";").concat(r.scrollBottom+1,"r"):"m"===e?"P1$r0m":" q"===e?"P1$r".concat({block:2,underline:4,bar:6}[n.cursorStyle]-(n.cursorBlink?1:0)," q"):"P0$r")}markRangeDirty(e,t){this._dirtyRowTracker.markRangeDirty(e,t)}}t.InputHandler=j;let k=class{constructor(e){this._bufferService=e,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(e){e<this.start?this.start=e:e>this.end&&(this.end=e)}markRangeDirty(e,t){e>t&&(S=e,e=t,t=S),e<this.start&&(this.start=e),t>this.end&&(this.end=t)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function C(e){return 0<=e&&e<256}k=n([i(0,m.IBufferService)],k)},844:(e,t)=>{function r(e){for(const t of e)t.dispose();e.length=0}Object.defineProperty(t,"__esModule",{value:!0}),t.getDisposeArrayDisposable=t.disposeArray=t.toDisposable=t.MutableDisposable=t.Disposable=void 0,t.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const e of this._disposables)e.dispose();this._disposables.length=0}register(e){return this._disposables.push(e),e}unregister(e){const t=this._disposables.indexOf(e);-1!==t&&this._disposables.splice(t,1)}},t.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(e){var t;this._isDisposed||e===this._value||(null===(t=this._value)||void 0===t||t.dispose(),this._value=e)}clear(){this.value=void 0}dispose(){var e;this._isDisposed=!0,null===(e=this._value)||void 0===e||e.dispose(),this._value=void 0}},t.toDisposable=function(e){return{dispose:e}},t.disposeArray=r,t.getDisposeArrayDisposable=function(e){return{dispose:()=>r(e)}}},1505:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FourKeyMap=t.TwoKeyMap=void 0;class r{constructor(){this._data={}}set(e,t,r){this._data[e]||(this._data[e]={}),this._data[e][t]=r}get(e,t){return this._data[e]?this._data[e][t]:void 0}clear(){this._data={}}}t.TwoKeyMap=r,t.FourKeyMap=class{constructor(){this._data=new r}set(e,t,n,i,a){this._data.get(e,t)||this._data.set(e,t,new r),this._data.get(e,t).set(n,i,a)}get(e,t,r,n){var i;return null===(i=this._data.get(e,t))||void 0===i?void 0:i.get(r,n)}clear(){this._data.clear()}}},6114:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isChromeOS=t.isLinux=t.isWindows=t.isIphone=t.isIpad=t.isMac=t.getSafariVersion=t.isSafari=t.isLegacyEdge=t.isFirefox=t.isNode=void 0,t.isNode="undefined"==typeof navigator;const r=t.isNode?"node":navigator.userAgent,n=t.isNode?"node":navigator.platform;t.isFirefox=r.includes("Firefox"),t.isLegacyEdge=r.includes("Edge"),t.isSafari=/^((?!chrome|android).)*safari/i.test(r),t.getSafariVersion=function(){if(!t.isSafari)return 0;const e=r.match(/Version\/(\d+)/);return null===e||e.length<2?0:parseInt(e[1])},t.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(n),t.isIpad="iPad"===n,t.isIphone="iPhone"===n,t.isWindows=["Windows","Win16","Win32","WinCE"].includes(n),t.isLinux=n.indexOf("Linux")>=0,t.isChromeOS=/\bCrOS\b/.test(r)},6106:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SortedList=void 0;let r=0;t.SortedList=class{constructor(e){this._getKey=e,this._array=[]}clear(){this._array.length=0}insert(e){0!==this._array.length?(r=this._search(this._getKey(e)),this._array.splice(r,0,e)):this._array.push(e)}delete(e){if(0===this._array.length)return!1;const t=this._getKey(e);if(void 0===t)return!1;if(r=this._search(t),-1===r)return!1;if(this._getKey(this._array[r])!==t)return!1;do{if(this._array[r]===e)return this._array.splice(r,1),!0}while(++r<this._array.length&&this._getKey(this._array[r])===t);return!1}*getKeyIterator(e){if(0!==this._array.length&&(r=this._search(e),!(r<0||r>=this._array.length)&&this._getKey(this._array[r])===e))do{yield this._array[r]}while(++r<this._array.length&&this._getKey(this._array[r])===e)}forEachByKey(e,t){if(0!==this._array.length&&(r=this._search(e),!(r<0||r>=this._array.length)&&this._getKey(this._array[r])===e))do{t(this._array[r])}while(++r<this._array.length&&this._getKey(this._array[r])===e)}values(){return[...this._array].values()}_search(e){let t=0,r=this._array.length-1;for(;r>=t;){let n=t+r>>1;const i=this._getKey(this._array[n]);if(i>e)r=n-1;else{if(!(i<e)){for(;n>0&&this._getKey(this._array[n-1])===e;)n--;return n}t=n+1}}return t}}},7226:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DebouncedIdleTask=t.IdleTaskQueue=t.PriorityTaskQueue=void 0;const n=r(6114);class i{constructor(){this._tasks=[],this._i=0}enqueue(e){this._tasks.push(e),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(e){this._idleCallback=void 0;let t=0,r=0,n=e.timeRemaining(),i=0;for(;this._i<this._tasks.length;){if(t=Date.now(),this._tasks[this._i]()||this._i++,t=Math.max(1,Date.now()-t),r=Math.max(t,r),i=e.timeRemaining(),1.5*r>i)return n-t<-20&&console.warn("task queue exceeded allotted deadline by ".concat(Math.abs(Math.round(n-t)),"ms")),void this._start();n=i}this.clear()}}class a extends i{_requestCallback(e){return setTimeout(()=>e(this._createDeadline(16)))}_cancelCallback(e){clearTimeout(e)}_createDeadline(e){const t=Date.now()+e;return{timeRemaining:()=>Math.max(0,t-Date.now())}}}t.PriorityTaskQueue=a,t.IdleTaskQueue=!n.isNode&&"requestIdleCallback"in window?class extends i{_requestCallback(e){return requestIdleCallback(e)}_cancelCallback(e){cancelIdleCallback(e)}}:a,t.DebouncedIdleTask=class{constructor(){this._queue=new t.IdleTaskQueue}set(e){this._queue.clear(),this._queue.enqueue(e)}flush(){this._queue.flush()}}},9282:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.updateWindowsModeWrappedState=void 0;const n=r(643);t.updateWindowsModeWrappedState=function(e){const t=e.buffer.lines.get(e.buffer.ybase+e.buffer.y-1),r=null==t?void 0:t.get(e.cols-1),i=e.buffer.lines.get(e.buffer.ybase+e.buffer.y);i&&r&&(i.isWrapped=r[n.CHAR_DATA_CODE_INDEX]!==n.NULL_CELL_CODE&&r[n.CHAR_DATA_CODE_INDEX]!==n.WHITESPACE_CELL_CODE)}},3734:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExtendedAttrs=t.AttributeData=void 0;class r{constructor(){this.fg=0,this.bg=0,this.extended=new n}static toColorRGB(e){return[e>>>16&255,e>>>8&255,255&e]}static fromColorRGB(e){return(255&e[0])<<16|(255&e[1])<<8|255&e[2]}clone(){const e=new r;return e.fg=this.fg,e.bg=this.bg,e.extended=this.extended.clone(),e}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&0!==this.extended.underlineStyle?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return 50331648==(50331648&this.fg)}isBgRGB(){return 50331648==(50331648&this.bg)}isFgPalette(){return 16777216==(50331648&this.fg)||33554432==(50331648&this.fg)}isBgPalette(){return 16777216==(50331648&this.bg)||33554432==(50331648&this.bg)}isFgDefault(){return 0==(50331648&this.fg)}isBgDefault(){return 0==(50331648&this.bg)}isAttributeDefault(){return 0===this.fg&&0===this.bg}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?50331648==(50331648&this.extended.underlineColor):this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?16777216==(50331648&this.extended.underlineColor)||33554432==(50331648&this.extended.underlineColor):this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?0==(50331648&this.extended.underlineColor):this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}t.AttributeData=r;class n{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(e){this._ext=e}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(e){this._ext&=-469762049,this._ext|=e<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(e){this._ext&=-67108864,this._ext|=67108863&e}get urlId(){return this._urlId}set urlId(e){this._urlId=e}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ext=0,this._urlId=0,this._ext=e,this._urlId=t}clone(){return new n(this._ext,this._urlId)}isEmpty(){return 0===this.underlineStyle&&0===this._urlId}}t.ExtendedAttrs=n},9092:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Buffer=t.MAX_BUFFER_SIZE=void 0;const n=r(6349),i=r(7226),a=r(3734),s=r(8437),o=r(4634),l=r(511),c=r(643),u=r(4863),d=r(7116);t.MAX_BUFFER_SIZE=4294967295,t.Buffer=class{constructor(e,t,r){this._hasScrollback=e,this._optionsService=t,this._bufferService=r,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=s.DEFAULT_ATTR_DATA.clone(),this.savedCharset=d.DEFAULT_CHARSET,this.markers=[],this._nullCell=l.CellData.fromCharData([0,c.NULL_CELL_CHAR,c.NULL_CELL_WIDTH,c.NULL_CELL_CODE]),this._whitespaceCell=l.CellData.fromCharData([0,c.WHITESPACE_CELL_CHAR,c.WHITESPACE_CELL_WIDTH,c.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new i.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(e){return e?(this._nullCell.fg=e.fg,this._nullCell.bg=e.bg,this._nullCell.extended=e.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new a.ExtendedAttrs),this._nullCell}getWhitespaceCell(e){return e?(this._whitespaceCell.fg=e.fg,this._whitespaceCell.bg=e.bg,this._whitespaceCell.extended=e.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new a.ExtendedAttrs),this._whitespaceCell}getBlankLine(e,t){return new s.BufferLine(this._bufferService.cols,this.getNullCell(e),t)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const e=this.ybase+this.y-this.ydisp;return e>=0&&e<this._rows}_getCorrectBufferLength(e){if(!this._hasScrollback)return e;const r=e+this._optionsService.rawOptions.scrollback;return r>t.MAX_BUFFER_SIZE?t.MAX_BUFFER_SIZE:r}fillViewportRows(e){if(0===this.lines.length){void 0===e&&(e=s.DEFAULT_ATTR_DATA);let t=this._rows;for(;t--;)this.lines.push(this.getBlankLine(e))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new n.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(e,t){const r=this.getNullCell(s.DEFAULT_ATTR_DATA);let n=0;const i=this._getCorrectBufferLength(t);if(i>this.lines.maxLength&&(this.lines.maxLength=i),this.lines.length>0){if(this._cols<e)for(let t=0;t<this.lines.length;t++)n+=+this.lines.get(t).resize(e,r);let a=0;if(this._rows<t)for(let n=this._rows;n<t;n++)this.lines.length<t+this.ybase&&(this._optionsService.rawOptions.windowsMode||void 0!==this._optionsService.rawOptions.windowsPty.backend||void 0!==this._optionsService.rawOptions.windowsPty.buildNumber?this.lines.push(new s.BufferLine(e,r)):this.ybase>0&&this.lines.length<=this.ybase+this.y+a+1?(this.ybase--,a++,this.ydisp>0&&this.ydisp--):this.lines.push(new s.BufferLine(e,r)));else for(let e=this._rows;e>t;e--)this.lines.length>t+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(i<this.lines.maxLength){const e=this.lines.length-i;e>0&&(this.lines.trimStart(e),this.ybase=Math.max(this.ybase-e,0),this.ydisp=Math.max(this.ydisp-e,0),this.savedY=Math.max(this.savedY-e,0)),this.lines.maxLength=i}this.x=Math.min(this.x,e-1),this.y=Math.min(this.y,t-1),a&&(this.y+=a),this.savedX=Math.min(this.savedX,e-1),this.scrollTop=0}if(this.scrollBottom=t-1,this._isReflowEnabled&&(this._reflow(e,t),this._cols>e))for(let a=0;a<this.lines.length;a++)n+=+this.lines.get(a).resize(e,r);this._cols=e,this._rows=t,this._memoryCleanupQueue.clear(),n>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let e=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,e=!1);let t=0;for(;this._memoryCleanupPosition<this.lines.length;)if(t+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),t>100)return!0;return e}get _isReflowEnabled(){const e=this._optionsService.rawOptions.windowsPty;return e&&e.buildNumber?this._hasScrollback&&"conpty"===e.backend&&e.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(e,t){this._cols!==e&&(e>this._cols?this._reflowLarger(e,t):this._reflowSmaller(e,t))}_reflowLarger(e,t){const r=(0,o.reflowLargerGetLinesToRemove)(this.lines,this._cols,e,this.ybase+this.y,this.getNullCell(s.DEFAULT_ATTR_DATA));if(r.length>0){const n=(0,o.reflowLargerCreateNewLayout)(this.lines,r);(0,o.reflowLargerApplyNewLayout)(this.lines,n.layout),this._reflowLargerAdjustViewport(e,t,n.countRemoved)}}_reflowLargerAdjustViewport(e,t,r){const n=this.getNullCell(s.DEFAULT_ATTR_DATA);let i=r;for(;i-- >0;)0===this.ybase?(this.y>0&&this.y--,this.lines.length<t&&this.lines.push(new s.BufferLine(e,n))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-r,0)}_reflowSmaller(e,t){const r=this.getNullCell(s.DEFAULT_ATTR_DATA),n=[];let i=0;for(let a=this.lines.length-1;a>=0;a--){let l=this.lines.get(a);if(!l||!l.isWrapped&&l.getTrimmedLength()<=e)continue;const c=[l];for(;l.isWrapped&&a>0;)l=this.lines.get(--a),c.unshift(l);const u=this.ybase+this.y;if(u>=a&&u<a+c.length)continue;const d=c[c.length-1].getTrimmedLength(),h=(0,o.reflowSmallerGetNewLineLengths)(c,this._cols,e),f=h.length-c.length;let p;p=0===this.ybase&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+f):Math.max(0,this.lines.length-this.lines.maxLength+f);const m=[];for(let e=0;e<f;e++){const e=this.getBlankLine(s.DEFAULT_ATTR_DATA,!0);m.push(e)}m.length>0&&(n.push({start:a+c.length+i,newLines:m}),i+=m.length),c.push(...m);let g=h.length-1,v=h[g];0===v&&(g--,v=h[g]);let y=c.length-f-1,b=d;for(;y>=0;){const e=Math.min(b,v);if(void 0===c[g])break;if(c[g].copyCellsFrom(c[y],b-e,v-e,e,!0),v-=e,0===v&&(g--,v=h[g]),b-=e,0===b){y--;const e=Math.max(y,0);b=(0,o.getWrappedLineTrimmedLength)(c,e,this._cols)}}for(let t=0;t<c.length;t++)h[t]<e&&c[t].setCell(h[t],r);let x=f-p;for(;x-- >0;)0===this.ybase?this.y<t-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+i)-t&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+f,this.ybase+t-1)}if(n.length>0){const e=[],t=[];for(let n=0;n<this.lines.length;n++)t.push(this.lines.get(n));const r=this.lines.length;let a=r-1,s=0,o=n[s];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+i);let l=0;for(let d=Math.min(this.lines.maxLength-1,r+i-1);d>=0;d--)if(o&&o.start>a+l){for(let e=o.newLines.length-1;e>=0;e--)this.lines.set(d--,o.newLines[e]);d++,e.push({index:a+1,amount:o.newLines.length}),l+=o.newLines.length,o=n[++s]}else this.lines.set(d,t[a--]);let c=0;for(let n=e.length-1;n>=0;n--)e[n].index+=c,this.lines.onInsertEmitter.fire(e[n]),c+=e[n].amount;const u=Math.max(0,r+i-this.lines.maxLength);u>0&&this.lines.onTrimEmitter.fire(u)}}translateBufferLineToString(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3?arguments[3]:void 0;const i=this.lines.get(e);return i?i.translateToString(t,r,n):""}getWrappedRangeForLine(e){let t=e,r=e;for(;t>0&&this.lines.get(t).isWrapped;)t--;for(;r+1<this.lines.length&&this.lines.get(r+1).isWrapped;)r++;return{first:t,last:r}}setupTabStops(e){for(null!=e?this.tabs[e]||(e=this.prevStop(e)):(this.tabs={},e=0);e<this._cols;e+=this._optionsService.rawOptions.tabStopWidth)this.tabs[e]=!0}prevStop(e){for(null==e&&(e=this.x);!this.tabs[--e]&&e>0;);return e>=this._cols?this._cols-1:e<0?0:e}nextStop(e){for(null==e&&(e=this.x);!this.tabs[++e]&&e<this._cols;);return e>=this._cols?this._cols-1:e<0?0:e}clearMarkers(e){this._isClearing=!0;for(let t=0;t<this.markers.length;t++)this.markers[t].line===e&&(this.markers[t].dispose(),this.markers.splice(t--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let e=0;e<this.markers.length;e++)this.markers[e].dispose(),this.markers.splice(e--,1);this._isClearing=!1}addMarker(e){const t=new u.Marker(e);return this.markers.push(t),t.register(this.lines.onTrim(e=>{t.line-=e,t.line<0&&t.dispose()})),t.register(this.lines.onInsert(e=>{t.line>=e.index&&(t.line+=e.amount)})),t.register(this.lines.onDelete(e=>{t.line>=e.index&&t.line<e.index+e.amount&&t.dispose(),t.line>e.index&&(t.line-=e.amount)})),t.register(t.onDispose(()=>this._removeMarker(t))),t}_removeMarker(e){this._isClearing||this.markers.splice(this.markers.indexOf(e),1)}}},8437:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLine=t.DEFAULT_ATTR_DATA=void 0;const n=r(3734),i=r(511),a=r(643),s=r(482);t.DEFAULT_ATTR_DATA=Object.freeze(new n.AttributeData);let o=0;class l{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.isWrapped=r,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*e);const n=t||i.CellData.fromCharData([0,a.NULL_CELL_CHAR,a.NULL_CELL_WIDTH,a.NULL_CELL_CODE]);for(let i=0;i<e;++i)this.setCell(i,n);this.length=e}get(e){const t=this._data[3*e+0],r=2097151&t;return[this._data[3*e+1],2097152&t?this._combined[e]:r?(0,s.stringFromCodePoint)(r):"",t>>22,2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):r]}set(e,t){this._data[3*e+1]=t[a.CHAR_DATA_ATTR_INDEX],t[a.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[e]=t[1],this._data[3*e+0]=2097152|e|t[a.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*e+0]=t[a.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|t[a.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(e){return this._data[3*e+0]>>22}hasWidth(e){return 12582912&this._data[3*e+0]}getFg(e){return this._data[3*e+1]}getBg(e){return this._data[3*e+2]}hasContent(e){return 4194303&this._data[3*e+0]}getCodePoint(e){const t=this._data[3*e+0];return 2097152&t?this._combined[e].charCodeAt(this._combined[e].length-1):2097151&t}isCombined(e){return 2097152&this._data[3*e+0]}getString(e){const t=this._data[3*e+0];return 2097152&t?this._combined[e]:2097151&t?(0,s.stringFromCodePoint)(2097151&t):""}isProtected(e){return 536870912&this._data[3*e+2]}loadCell(e,t){return o=3*e,t.content=this._data[o+0],t.fg=this._data[o+1],t.bg=this._data[o+2],2097152&t.content&&(t.combinedData=this._combined[e]),268435456&t.bg&&(t.extended=this._extendedAttrs[e]),t}setCell(e,t){2097152&t.content&&(this._combined[e]=t.combinedData),268435456&t.bg&&(this._extendedAttrs[e]=t.extended),this._data[3*e+0]=t.content,this._data[3*e+1]=t.fg,this._data[3*e+2]=t.bg}setCellFromCodePoint(e,t,r,n,i,a){268435456&i&&(this._extendedAttrs[e]=a),this._data[3*e+0]=t|r<<22,this._data[3*e+1]=n,this._data[3*e+2]=i}addCodepointToCell(e,t){let r=this._data[3*e+0];2097152&r?this._combined[e]+=(0,s.stringFromCodePoint)(t):(2097151&r?(this._combined[e]=(0,s.stringFromCodePoint)(2097151&r)+(0,s.stringFromCodePoint)(t),r&=-2097152,r|=2097152):r=t|1<<22,this._data[3*e+0]=r)}insertCells(e,t,r,a){if((e%=this.length)&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==a?void 0:a.fg)||0,(null==a?void 0:a.bg)||0,(null==a?void 0:a.extended)||new n.ExtendedAttrs),t<this.length-e){const n=new i.CellData;for(let r=this.length-e-t-1;r>=0;--r)this.setCell(e+t+r,this.loadCell(e+r,n));for(let i=0;i<t;++i)this.setCell(e+i,r)}else for(let n=e;n<this.length;++n)this.setCell(n,r);2===this.getWidth(this.length-1)&&this.setCellFromCodePoint(this.length-1,0,1,(null==a?void 0:a.fg)||0,(null==a?void 0:a.bg)||0,(null==a?void 0:a.extended)||new n.ExtendedAttrs)}deleteCells(e,t,r,a){if(e%=this.length,t<this.length-e){const n=new i.CellData;for(let r=0;r<this.length-e-t;++r)this.setCell(e+r,this.loadCell(e+t+r,n));for(let e=this.length-t;e<this.length;++e)this.setCell(e,r)}else for(let n=e;n<this.length;++n)this.setCell(n,r);e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==a?void 0:a.fg)||0,(null==a?void 0:a.bg)||0,(null==a?void 0:a.extended)||new n.ExtendedAttrs),0!==this.getWidth(e)||this.hasContent(e)||this.setCellFromCodePoint(e,0,1,(null==a?void 0:a.fg)||0,(null==a?void 0:a.bg)||0,(null==a?void 0:a.extended)||new n.ExtendedAttrs)}replaceCells(e,t,r,i){if(arguments.length>4&&void 0!==arguments[4]&&arguments[4])for(e&&2===this.getWidth(e-1)&&!this.isProtected(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new n.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&!this.isProtected(t)&&this.setCellFromCodePoint(t,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new n.ExtendedAttrs);e<t&&e<this.length;)this.isProtected(e)||this.setCell(e,r),e++;else for(e&&2===this.getWidth(e-1)&&this.setCellFromCodePoint(e-1,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new n.ExtendedAttrs),t<this.length&&2===this.getWidth(t-1)&&this.setCellFromCodePoint(t,0,1,(null==i?void 0:i.fg)||0,(null==i?void 0:i.bg)||0,(null==i?void 0:i.extended)||new n.ExtendedAttrs);e<t&&e<this.length;)this.setCell(e++,r)}resize(e,t){if(e===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const r=3*e;if(e>this.length){if(this._data.buffer.byteLength>=4*r)this._data=new Uint32Array(this._data.buffer,0,r);else{const e=new Uint32Array(r);e.set(this._data),this._data=e}for(let r=this.length;r<e;++r)this.setCell(r,t)}else{this._data=this._data.subarray(0,r);const t=Object.keys(this._combined);for(let r=0;r<t.length;r++){const n=parseInt(t[r],10);n>=e&&delete this._combined[n]}const n=Object.keys(this._extendedAttrs);for(let r=0;r<n.length;r++){const t=parseInt(n[r],10);t>=e&&delete this._extendedAttrs[t]}}return this.length=e,4*r*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const e=new Uint32Array(this._data.length);return e.set(this._data),this._data=e,1}return 0}fill(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])for(let t=0;t<this.length;++t)this.isProtected(t)||this.setCell(t,e);else{this._combined={},this._extendedAttrs={};for(let t=0;t<this.length;++t)this.setCell(t,e)}}copyFrom(e){this.length!==e.length?this._data=new Uint32Array(e._data):this._data.set(e._data),this.length=e.length,this._combined={};for(const t in e._combined)this._combined[t]=e._combined[t];this._extendedAttrs={};for(const t in e._extendedAttrs)this._extendedAttrs[t]=e._extendedAttrs[t];this.isWrapped=e.isWrapped}clone(){const e=new l(0);e._data=new Uint32Array(this._data),e.length=this.length;for(const t in this._combined)e._combined[t]=this._combined[t];for(const t in this._extendedAttrs)e._extendedAttrs[t]=this._extendedAttrs[t];return e.isWrapped=this.isWrapped,e}getTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0])return e+(this._data[3*e+0]>>22);return 0}getNoBgTrimmedLength(){for(let e=this.length-1;e>=0;--e)if(4194303&this._data[3*e+0]||50331648&this._data[3*e+2])return e+(this._data[3*e+0]>>22);return 0}copyCellsFrom(e,t,r,n,i){const a=e._data;if(i)for(let o=n-1;o>=0;o--){for(let e=0;e<3;e++)this._data[3*(r+o)+e]=a[3*(t+o)+e];268435456&a[3*(t+o)+2]&&(this._extendedAttrs[r+o]=e._extendedAttrs[t+o])}else for(let o=0;o<n;o++){for(let e=0;e<3;e++)this._data[3*(r+o)+e]=a[3*(t+o)+e];268435456&a[3*(t+o)+2]&&(this._extendedAttrs[r+o]=e._extendedAttrs[t+o])}const s=Object.keys(e._combined);for(let o=0;o<s.length;o++){const n=parseInt(s[o],10);n>=t&&(this._combined[n-t+r]=e._combined[n])}}translateToString(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.length;e&&(r=Math.min(r,this.getTrimmedLength()));let n="";for(;t<r;){const e=this._data[3*t+0],r=2097151&e;n+=2097152&e?this._combined[t]:r?(0,s.stringFromCodePoint)(r):a.WHITESPACE_CELL_CHAR,t+=e>>22||1}return n}}t.BufferLine=l},4841:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getRangeLength=void 0,t.getRangeLength=function(e,t){if(e.start.y>e.end.y)throw new Error("Buffer range end (".concat(e.end.x,", ").concat(e.end.y,") cannot be before start (").concat(e.start.x,", ").concat(e.start.y,")"));return t*(e.end.y-e.start.y)+(e.end.x-e.start.x+1)}},4634:(e,t)=>{function r(e,t,r){if(t===e.length-1)return e[t].getTrimmedLength();const n=!e[t].hasContent(r-1)&&1===e[t].getWidth(r-1),i=2===e[t+1].getWidth(0);return n&&i?r-1:r}Object.defineProperty(t,"__esModule",{value:!0}),t.getWrappedLineTrimmedLength=t.reflowSmallerGetNewLineLengths=t.reflowLargerApplyNewLayout=t.reflowLargerCreateNewLayout=t.reflowLargerGetLinesToRemove=void 0,t.reflowLargerGetLinesToRemove=function(e,t,n,i,a){const s=[];for(let o=0;o<e.length-1;o++){let l=o,c=e.get(++l);if(!c.isWrapped)continue;const u=[e.get(o)];for(;l<e.length&&c.isWrapped;)u.push(c),c=e.get(++l);if(i>=o&&i<l){o+=u.length-1;continue}let d=0,h=r(u,d,t),f=1,p=0;for(;f<u.length;){const e=r(u,f,t),i=e-p,s=n-h,o=Math.min(i,s);u[d].copyCellsFrom(u[f],p,h,o,!1),h+=o,h===n&&(d++,h=0),p+=o,p===e&&(f++,p=0),0===h&&0!==d&&2===u[d-1].getWidth(n-1)&&(u[d].copyCellsFrom(u[d-1],n-1,h++,1,!1),u[d-1].setCell(n-1,a))}u[d].replaceCells(h,n,a);let m=0;for(let e=u.length-1;e>0&&(e>d||0===u[e].getTrimmedLength());e--)m++;m>0&&(s.push(o+u.length-m),s.push(m)),o+=u.length-1}return s},t.reflowLargerCreateNewLayout=function(e,t){const r=[];let n=0,i=t[n],a=0;for(let s=0;s<e.length;s++)if(i===s){const r=t[++n];e.onDeleteEmitter.fire({index:s-a,amount:r}),s+=r-1,a+=r,i=t[++n]}else r.push(s);return{layout:r,countRemoved:a}},t.reflowLargerApplyNewLayout=function(e,t){const r=[];for(let n=0;n<t.length;n++)r.push(e.get(t[n]));for(let n=0;n<r.length;n++)e.set(n,r[n]);e.length=t.length},t.reflowSmallerGetNewLineLengths=function(e,t,n){const i=[],a=e.map((n,i)=>r(e,i,t)).reduce((e,t)=>e+t);let s=0,o=0,l=0;for(;l<a;){if(a-l<n){i.push(a-l);break}s+=n;const c=r(e,o,t);s>c&&(s-=c,o++);const u=2===e[o].getWidth(s-1);u&&s--;const d=u?n-1:n;i.push(d),l+=d}return i},t.getWrappedLineTrimmedLength=r},5295:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferSet=void 0;const n=r(8460),i=r(844),a=r(9092);class s extends i.Disposable{constructor(e,t){super(),this._optionsService=e,this._bufferService=t,this._onBufferActivate=this.register(new n.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new a.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new a.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(e){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(e),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(e,t){this._normal.resize(e,t),this._alt.resize(e,t),this.setupTabStops(e)}setupTabStops(e){this._normal.setupTabStops(e),this._alt.setupTabStops(e)}}t.BufferSet=s},511:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CellData=void 0;const n=r(482),i=r(643),a=r(3734);class s extends a.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new a.ExtendedAttrs,this.combinedData=""}static fromCharData(e){const t=new s;return t.setFromCharData(e),t}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,n.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(e){this.fg=e[i.CHAR_DATA_ATTR_INDEX],this.bg=0;let t=!1;if(e[i.CHAR_DATA_CHAR_INDEX].length>2)t=!0;else if(2===e[i.CHAR_DATA_CHAR_INDEX].length){const r=e[i.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=r&&r<=56319){const n=e[i.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=n&&n<=57343?this.content=1024*(r-55296)+n-56320+65536|e[i.CHAR_DATA_WIDTH_INDEX]<<22:t=!0}else t=!0}else this.content=e[i.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|e[i.CHAR_DATA_WIDTH_INDEX]<<22;t&&(this.combinedData=e[i.CHAR_DATA_CHAR_INDEX],this.content=2097152|e[i.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}t.CellData=s},643:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WHITESPACE_CELL_CODE=t.WHITESPACE_CELL_WIDTH=t.WHITESPACE_CELL_CHAR=t.NULL_CELL_CODE=t.NULL_CELL_WIDTH=t.NULL_CELL_CHAR=t.CHAR_DATA_CODE_INDEX=t.CHAR_DATA_WIDTH_INDEX=t.CHAR_DATA_CHAR_INDEX=t.CHAR_DATA_ATTR_INDEX=t.DEFAULT_EXT=t.DEFAULT_ATTR=t.DEFAULT_COLOR=void 0,t.DEFAULT_COLOR=0,t.DEFAULT_ATTR=256|t.DEFAULT_COLOR<<9,t.DEFAULT_EXT=0,t.CHAR_DATA_ATTR_INDEX=0,t.CHAR_DATA_CHAR_INDEX=1,t.CHAR_DATA_WIDTH_INDEX=2,t.CHAR_DATA_CODE_INDEX=3,t.NULL_CELL_CHAR="",t.NULL_CELL_WIDTH=1,t.NULL_CELL_CODE=0,t.WHITESPACE_CELL_CHAR=" ",t.WHITESPACE_CELL_WIDTH=1,t.WHITESPACE_CELL_CODE=32},4863:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Marker=void 0;const n=r(8460),i=r(844);class a{get id(){return this._id}constructor(e){this.line=e,this.isDisposed=!1,this._disposables=[],this._id=a._nextId++,this._onDispose=this.register(new n.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,i.disposeArray)(this._disposables),this._disposables.length=0)}register(e){return this._disposables.push(e),e}}t.Marker=a,a._nextId=1},7116:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_CHARSET=t.CHARSETS=void 0,t.CHARSETS={},t.DEFAULT_CHARSET=t.CHARSETS.B,t.CHARSETS[0]={"`":"\u25c6",a:"\u2592",b:"\u2409",c:"\u240c",d:"\u240d",e:"\u240a",f:"\xb0",g:"\xb1",h:"\u2424",i:"\u240b",j:"\u2518",k:"\u2510",l:"\u250c",m:"\u2514",n:"\u253c",o:"\u23ba",p:"\u23bb",q:"\u2500",r:"\u23bc",s:"\u23bd",t:"\u251c",u:"\u2524",v:"\u2534",w:"\u252c",x:"\u2502",y:"\u2264",z:"\u2265","{":"\u03c0","|":"\u2260","}":"\xa3","~":"\xb7"},t.CHARSETS.A={"#":"\xa3"},t.CHARSETS.B=void 0,t.CHARSETS[4]={"#":"\xa3","@":"\xbe","[":"ij","\\":"\xbd","]":"|","{":"\xa8","|":"f","}":"\xbc","~":"\xb4"},t.CHARSETS.C=t.CHARSETS[5]={"[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS.R={"#":"\xa3","@":"\xe0","[":"\xb0","\\":"\xe7","]":"\xa7","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xa8"},t.CHARSETS.Q={"@":"\xe0","[":"\xe2","\\":"\xe7","]":"\xea","^":"\xee","`":"\xf4","{":"\xe9","|":"\xf9","}":"\xe8","~":"\xfb"},t.CHARSETS.K={"@":"\xa7","[":"\xc4","\\":"\xd6","]":"\xdc","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xdf"},t.CHARSETS.Y={"#":"\xa3","@":"\xa7","[":"\xb0","\\":"\xe7","]":"\xe9","`":"\xf9","{":"\xe0","|":"\xf2","}":"\xe8","~":"\xec"},t.CHARSETS.E=t.CHARSETS[6]={"@":"\xc4","[":"\xc6","\\":"\xd8","]":"\xc5","^":"\xdc","`":"\xe4","{":"\xe6","|":"\xf8","}":"\xe5","~":"\xfc"},t.CHARSETS.Z={"#":"\xa3","@":"\xa7","[":"\xa1","\\":"\xd1","]":"\xbf","{":"\xb0","|":"\xf1","}":"\xe7"},t.CHARSETS.H=t.CHARSETS[7]={"@":"\xc9","[":"\xc4","\\":"\xd6","]":"\xc5","^":"\xdc","`":"\xe9","{":"\xe4","|":"\xf6","}":"\xe5","~":"\xfc"},t.CHARSETS["="]={"#":"\xf9","@":"\xe0","[":"\xe9","\\":"\xe7","]":"\xea","^":"\xee",_:"\xe8","`":"\xf4","{":"\xe4","|":"\xf6","}":"\xfc","~":"\xfb"}},2584:(e,t)=>{var r,n,i;Object.defineProperty(t,"__esModule",{value:!0}),t.C1_ESCAPED=t.C1=t.C0=void 0,function(e){e.NUL="\0",e.SOH="\x01",e.STX="\x02",e.ETX="\x03",e.EOT="\x04",e.ENQ="\x05",e.ACK="\x06",e.BEL="\x07",e.BS="\b",e.HT="\t",e.LF="\n",e.VT="\v",e.FF="\f",e.CR="\r",e.SO="\x0e",e.SI="\x0f",e.DLE="\x10",e.DC1="\x11",e.DC2="\x12",e.DC3="\x13",e.DC4="\x14",e.NAK="\x15",e.SYN="\x16",e.ETB="\x17",e.CAN="\x18",e.EM="\x19",e.SUB="\x1a",e.ESC="\x1b",e.FS="\x1c",e.GS="\x1d",e.RS="\x1e",e.US="\x1f",e.SP=" ",e.DEL="\x7f"}(r||(t.C0=r={})),function(e){e.PAD="\x80",e.HOP="\x81",e.BPH="\x82",e.NBH="\x83",e.IND="\x84",e.NEL="\x85",e.SSA="\x86",e.ESA="\x87",e.HTS="\x88",e.HTJ="\x89",e.VTS="\x8a",e.PLD="\x8b",e.PLU="\x8c",e.RI="\x8d",e.SS2="\x8e",e.SS3="\x8f",e.DCS="\x90",e.PU1="\x91",e.PU2="\x92",e.STS="\x93",e.CCH="\x94",e.MW="\x95",e.SPA="\x96",e.EPA="\x97",e.SOS="\x98",e.SGCI="\x99",e.SCI="\x9a",e.CSI="\x9b",e.ST="\x9c",e.OSC="\x9d",e.PM="\x9e",e.APC="\x9f"}(n||(t.C1=n={})),function(e){e.ST="".concat(r.ESC,"\\")}(i||(t.C1_ESCAPED=i={}))},7399:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.evaluateKeyboardEvent=void 0;const n=r(2584),i={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};t.evaluateKeyboardEvent=function(e,t,r,a){const s={type:0,cancel:!1,key:void 0},o=(e.shiftKey?1:0)|(e.altKey?2:0)|(e.ctrlKey?4:0)|(e.metaKey?8:0);switch(e.keyCode){case 0:"UIKeyInputUpArrow"===e.key?s.key=t?n.C0.ESC+"OA":n.C0.ESC+"[A":"UIKeyInputLeftArrow"===e.key?s.key=t?n.C0.ESC+"OD":n.C0.ESC+"[D":"UIKeyInputRightArrow"===e.key?s.key=t?n.C0.ESC+"OC":n.C0.ESC+"[C":"UIKeyInputDownArrow"===e.key&&(s.key=t?n.C0.ESC+"OB":n.C0.ESC+"[B");break;case 8:if(e.altKey){s.key=n.C0.ESC+n.C0.DEL;break}s.key=n.C0.DEL;break;case 9:if(e.shiftKey){s.key=n.C0.ESC+"[Z";break}s.key=n.C0.HT,s.cancel=!0;break;case 13:s.key=e.altKey?n.C0.ESC+n.C0.CR:n.C0.CR,s.cancel=!0;break;case 27:s.key=n.C0.ESC,e.altKey&&(s.key=n.C0.ESC+n.C0.ESC),s.cancel=!0;break;case 37:if(e.metaKey)break;o?(s.key=n.C0.ESC+"[1;"+(o+1)+"D",s.key===n.C0.ESC+"[1;3D"&&(s.key=n.C0.ESC+(r?"b":"[1;5D"))):s.key=t?n.C0.ESC+"OD":n.C0.ESC+"[D";break;case 39:if(e.metaKey)break;o?(s.key=n.C0.ESC+"[1;"+(o+1)+"C",s.key===n.C0.ESC+"[1;3C"&&(s.key=n.C0.ESC+(r?"f":"[1;5C"))):s.key=t?n.C0.ESC+"OC":n.C0.ESC+"[C";break;case 38:if(e.metaKey)break;o?(s.key=n.C0.ESC+"[1;"+(o+1)+"A",r||s.key!==n.C0.ESC+"[1;3A"||(s.key=n.C0.ESC+"[1;5A")):s.key=t?n.C0.ESC+"OA":n.C0.ESC+"[A";break;case 40:if(e.metaKey)break;o?(s.key=n.C0.ESC+"[1;"+(o+1)+"B",r||s.key!==n.C0.ESC+"[1;3B"||(s.key=n.C0.ESC+"[1;5B")):s.key=t?n.C0.ESC+"OB":n.C0.ESC+"[B";break;case 45:e.shiftKey||e.ctrlKey||(s.key=n.C0.ESC+"[2~");break;case 46:s.key=o?n.C0.ESC+"[3;"+(o+1)+"~":n.C0.ESC+"[3~";break;case 36:s.key=o?n.C0.ESC+"[1;"+(o+1)+"H":t?n.C0.ESC+"OH":n.C0.ESC+"[H";break;case 35:s.key=o?n.C0.ESC+"[1;"+(o+1)+"F":t?n.C0.ESC+"OF":n.C0.ESC+"[F";break;case 33:e.shiftKey?s.type=2:e.ctrlKey?s.key=n.C0.ESC+"[5;"+(o+1)+"~":s.key=n.C0.ESC+"[5~";break;case 34:e.shiftKey?s.type=3:e.ctrlKey?s.key=n.C0.ESC+"[6;"+(o+1)+"~":s.key=n.C0.ESC+"[6~";break;case 112:s.key=o?n.C0.ESC+"[1;"+(o+1)+"P":n.C0.ESC+"OP";break;case 113:s.key=o?n.C0.ESC+"[1;"+(o+1)+"Q":n.C0.ESC+"OQ";break;case 114:s.key=o?n.C0.ESC+"[1;"+(o+1)+"R":n.C0.ESC+"OR";break;case 115:s.key=o?n.C0.ESC+"[1;"+(o+1)+"S":n.C0.ESC+"OS";break;case 116:s.key=o?n.C0.ESC+"[15;"+(o+1)+"~":n.C0.ESC+"[15~";break;case 117:s.key=o?n.C0.ESC+"[17;"+(o+1)+"~":n.C0.ESC+"[17~";break;case 118:s.key=o?n.C0.ESC+"[18;"+(o+1)+"~":n.C0.ESC+"[18~";break;case 119:s.key=o?n.C0.ESC+"[19;"+(o+1)+"~":n.C0.ESC+"[19~";break;case 120:s.key=o?n.C0.ESC+"[20;"+(o+1)+"~":n.C0.ESC+"[20~";break;case 121:s.key=o?n.C0.ESC+"[21;"+(o+1)+"~":n.C0.ESC+"[21~";break;case 122:s.key=o?n.C0.ESC+"[23;"+(o+1)+"~":n.C0.ESC+"[23~";break;case 123:s.key=o?n.C0.ESC+"[24;"+(o+1)+"~":n.C0.ESC+"[24~";break;default:if(!e.ctrlKey||e.shiftKey||e.altKey||e.metaKey)if(r&&!a||!e.altKey||e.metaKey)!r||e.altKey||e.ctrlKey||e.shiftKey||!e.metaKey?e.key&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&e.keyCode>=48&&1===e.key.length?s.key=e.key:e.key&&e.ctrlKey&&("_"===e.key&&(s.key=n.C0.US),"@"===e.key&&(s.key=n.C0.NUL)):65===e.keyCode&&(s.type=1);else{const t=i[e.keyCode],r=null==t?void 0:t[e.shiftKey?1:0];if(r)s.key=n.C0.ESC+r;else if(e.keyCode>=65&&e.keyCode<=90){const t=e.ctrlKey?e.keyCode-64:e.keyCode+32;let r=String.fromCharCode(t);e.shiftKey&&(r=r.toUpperCase()),s.key=n.C0.ESC+r}else if(32===e.keyCode)s.key=n.C0.ESC+(e.ctrlKey?n.C0.NUL:" ");else if("Dead"===e.key&&e.code.startsWith("Key")){let t=e.code.slice(3,4);e.shiftKey||(t=t.toLowerCase()),s.key=n.C0.ESC+t,s.cancel=!0}}else e.keyCode>=65&&e.keyCode<=90?s.key=String.fromCharCode(e.keyCode-64):32===e.keyCode?s.key=n.C0.NUL:e.keyCode>=51&&e.keyCode<=55?s.key=String.fromCharCode(e.keyCode-51+27):56===e.keyCode?s.key=n.C0.DEL:219===e.keyCode?s.key=n.C0.ESC:220===e.keyCode?s.key=n.C0.FS:221===e.keyCode&&(s.key=n.C0.GS)}return s}},482:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utf8ToUtf32=t.StringToUtf32=t.utf32ToString=t.stringFromCodePoint=void 0,t.stringFromCodePoint=function(e){return e>65535?(e-=65536,String.fromCharCode(55296+(e>>10))+String.fromCharCode(e%1024+56320)):String.fromCharCode(e)},t.utf32ToString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n="";for(let i=t;i<r;++i){let t=e[i];t>65535?(t-=65536,n+=String.fromCharCode(55296+(t>>10))+String.fromCharCode(t%1024+56320)):n+=String.fromCharCode(t)}return n},t.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(e,t){const r=e.length;if(!r)return 0;let n=0,i=0;if(this._interim){const r=e.charCodeAt(i++);56320<=r&&r<=57343?t[n++]=1024*(this._interim-55296)+r-56320+65536:(t[n++]=this._interim,t[n++]=r),this._interim=0}for(let a=i;a<r;++a){const i=e.charCodeAt(a);if(55296<=i&&i<=56319){if(++a>=r)return this._interim=i,n;const s=e.charCodeAt(a);56320<=s&&s<=57343?t[n++]=1024*(i-55296)+s-56320+65536:(t[n++]=i,t[n++]=s)}else 65279!==i&&(t[n++]=i)}return n}},t.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(e,t){const r=e.length;if(!r)return 0;let n,i,a,s,o=0,l=0,c=0;if(this.interim[0]){let n=!1,i=this.interim[0];i&=192==(224&i)?31:224==(240&i)?15:7;let a,s=0;for(;(a=63&this.interim[++s])&&s<4;)i<<=6,i|=a;const l=192==(224&this.interim[0])?2:224==(240&this.interim[0])?3:4,u=l-s;for(;c<u;){if(c>=r)return 0;if(a=e[c++],128!=(192&a)){c--,n=!0;break}this.interim[s++]=a,i<<=6,i|=63&a}n||(2===l?i<128?c--:t[o++]=i:3===l?i<2048||i>=55296&&i<=57343||65279===i||(t[o++]=i):i<65536||i>1114111||(t[o++]=i)),this.interim.fill(0)}const u=r-4;let d=c;for(;d<r;){for(;!(!(d<u)||128&(n=e[d])||128&(i=e[d+1])||128&(a=e[d+2])||128&(s=e[d+3]));)t[o++]=n,t[o++]=i,t[o++]=a,t[o++]=s,d+=4;if(n=e[d++],n<128)t[o++]=n;else if(192==(224&n)){if(d>=r)return this.interim[0]=n,o;if(i=e[d++],128!=(192&i)){d--;continue}if(l=(31&n)<<6|63&i,l<128){d--;continue}t[o++]=l}else if(224==(240&n)){if(d>=r)return this.interim[0]=n,o;if(i=e[d++],128!=(192&i)){d--;continue}if(d>=r)return this.interim[0]=n,this.interim[1]=i,o;if(a=e[d++],128!=(192&a)){d--;continue}if(l=(15&n)<<12|(63&i)<<6|63&a,l<2048||l>=55296&&l<=57343||65279===l)continue;t[o++]=l}else if(240==(248&n)){if(d>=r)return this.interim[0]=n,o;if(i=e[d++],128!=(192&i)){d--;continue}if(d>=r)return this.interim[0]=n,this.interim[1]=i,o;if(a=e[d++],128!=(192&a)){d--;continue}if(d>=r)return this.interim[0]=n,this.interim[1]=i,this.interim[2]=a,o;if(s=e[d++],128!=(192&s)){d--;continue}if(l=(7&n)<<18|(63&i)<<12|(63&a)<<6|63&s,l<65536||l>1114111)continue;t[o++]=l}}return o}}},225:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeV6=void 0;const r=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],n=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let i;t.UnicodeV6=class{constructor(){if(this.version="6",!i){i=new Uint8Array(65536),i.fill(1),i[0]=0,i.fill(0,1,32),i.fill(0,127,160),i.fill(2,4352,4448),i[9001]=2,i[9002]=2,i.fill(2,11904,42192),i[12351]=1,i.fill(2,44032,55204),i.fill(2,63744,64256),i.fill(2,65040,65050),i.fill(2,65072,65136),i.fill(2,65280,65377),i.fill(2,65504,65511);for(let e=0;e<r.length;++e)i.fill(0,r[e][0],r[e][1]+1)}}wcwidth(e){return e<32?0:e<127?1:e<65536?i[e]:function(e,t){let r,n=0,i=t.length-1;if(e<t[0][0]||e>t[i][1])return!1;for(;i>=n;)if(r=n+i>>1,e>t[r][1])n=r+1;else{if(!(e<t[r][0]))return!0;i=r-1}return!1}(e,n)?0:e>=131072&&e<=196605||e>=196608&&e<=262141?2:1}}},5981:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WriteBuffer=void 0;const n=r(8460),i=r(844);class a extends i.Disposable{constructor(e){super(),this._action=e,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new n.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(e,t){if(void 0!==t&&this._syncCalls>t)return void(this._syncCalls=0);if(this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let r;for(this._isSyncWriting=!0;r=this._writeBuffer.shift();){this._action(r);const e=this._callbacks.shift();e&&e()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(e,t){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=e.length,this._writeBuffer.push(e),this._callbacks.push(t)}_innerWrite(){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const r=this._writeBuffer[this._bufferOffset],n=this._action(r,e);if(n){const e=e=>Date.now()-t>=12?setTimeout(()=>this._innerWrite(0,e)):this._innerWrite(t,e);return void n.catch(e=>(queueMicrotask(()=>{throw e}),Promise.resolve(!1))).then(e)}const i=this._callbacks[this._bufferOffset];if(i&&i(),this._bufferOffset++,this._pendingData-=r.length,Date.now()-t>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}t.WriteBuffer=a},5941:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toRgbString=t.parseColor=void 0;const r=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,n=/^[\da-f]+$/;function i(e,t){const r=e.toString(16),n=r.length<2?"0"+r:r;switch(t){case 4:return r[0];case 8:return n;case 12:return(n+n).slice(0,3);default:return n+n}}t.parseColor=function(e){if(!e)return;let t=e.toLowerCase();if(0===t.indexOf("rgb:")){t=t.slice(4);const e=r.exec(t);if(e){const t=e[1]?15:e[4]?255:e[7]?4095:65535;return[Math.round(parseInt(e[1]||e[4]||e[7]||e[10],16)/t*255),Math.round(parseInt(e[2]||e[5]||e[8]||e[11],16)/t*255),Math.round(parseInt(e[3]||e[6]||e[9]||e[12],16)/t*255)]}}else if(0===t.indexOf("#")&&(t=t.slice(1),n.exec(t)&&[3,6,9,12].includes(t.length))){const e=t.length/3,r=[0,0,0];for(let n=0;n<3;++n){const i=parseInt(t.slice(e*n,e*n+e),16);r[n]=1===e?i<<4:2===e?i:3===e?i>>4:i>>8}return r}},t.toRgbString=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;const[r,n,a]=e;return"rgb:".concat(i(r,t),"/").concat(i(n,t),"/").concat(i(a,t))}},5770:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PAYLOAD_LIMIT=void 0,t.PAYLOAD_LIMIT=1e7},6351:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DcsHandler=t.DcsParser=void 0;const n=r(482),i=r(8742),a=r(5770),s=[];t.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=s,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=s}registerHandler(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);const r=this._handlers[e];return r.push(t),{dispose:()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}reset(){if(this._active.length)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].unhook(!1);this._stack.paused=!1,this._active=s,this._ident=0}hook(e,t){if(this.reset(),this._ident=e,this._active=this._handlers[e]||s,this._active.length)for(let r=this._active.length-1;r>=0;r--)this._active[r].hook(t);else this._handlerFb(this._ident,"HOOK",t)}put(e,t,r){if(this._active.length)for(let n=this._active.length-1;n>=0;n--)this._active[n].put(e,t,r);else this._handlerFb(this._ident,"PUT",(0,n.utf32ToString)(e,t,r))}unhook(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this._active.length){let r=!1,n=this._active.length-1,i=!1;if(this._stack.paused&&(n=this._stack.loopPosition-1,r=t,i=this._stack.fallThrough,this._stack.paused=!1),!i&&!1===r){for(;n>=0&&(r=this._active[n].unhook(e),!0!==r);n--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!1,r;n--}for(;n>=0;n--)if(r=this._active[n].unhook(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!0,r}else this._handlerFb(this._ident,"UNHOOK",e);this._active=s,this._ident=0}};const o=new i.Params;o.addParam(0),t.DcsHandler=class{constructor(e){this._handler=e,this._data="",this._params=o,this._hitLimit=!1}hook(e){this._params=e.length>1||e.params[0]?e.clone():o,this._data="",this._hitLimit=!1}put(e,t,r){this._hitLimit||(this._data+=(0,n.utf32ToString)(e,t,r),this._data.length>a.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data,this._params),t instanceof Promise))return t.then(e=>(this._params=o,this._data="",this._hitLimit=!1,e));return this._params=o,this._data="",this._hitLimit=!1,t}}},2015:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.EscapeSequenceParser=t.VT500_TRANSITION_TABLE=t.TransitionTable=void 0;const n=r(844),i=r(8742),a=r(6242),s=r(6351);class o{constructor(e){this.table=new Uint8Array(e)}setDefault(e,t){this.table.fill(e<<4|t)}add(e,t,r,n){this.table[t<<8|e]=r<<4|n}addMany(e,t,r,n){for(let i=0;i<e.length;i++)this.table[t<<8|e[i]]=r<<4|n}}t.TransitionTable=o;const l=160;t.VT500_TRANSITION_TABLE=function(){const e=new o(4095),t=Array.apply(null,Array(256)).map((e,t)=>t),r=(e,r)=>t.slice(e,r),n=r(32,127),i=r(0,24);i.push(25),i.push.apply(i,r(28,32));const a=r(0,14);let s;for(s in e.setDefault(1,0),e.addMany(n,0,2,0),a)e.addMany([24,26,153,154],s,3,0),e.addMany(r(128,144),s,3,0),e.addMany(r(144,152),s,3,0),e.add(156,s,0,0),e.add(27,s,11,1),e.add(157,s,4,8),e.addMany([152,158,159],s,0,7),e.add(155,s,11,3),e.add(144,s,11,9);return e.addMany(i,0,3,0),e.addMany(i,1,3,1),e.add(127,1,0,1),e.addMany(i,8,0,8),e.addMany(i,3,3,3),e.add(127,3,0,3),e.addMany(i,4,3,4),e.add(127,4,0,4),e.addMany(i,6,3,6),e.addMany(i,5,3,5),e.add(127,5,0,5),e.addMany(i,2,3,2),e.add(127,2,0,2),e.add(93,1,4,8),e.addMany(n,8,5,8),e.add(127,8,5,8),e.addMany([156,27,24,26,7],8,6,0),e.addMany(r(28,32),8,0,8),e.addMany([88,94,95],1,0,7),e.addMany(n,7,0,7),e.addMany(i,7,0,7),e.add(156,7,0,0),e.add(127,7,0,7),e.add(91,1,11,3),e.addMany(r(64,127),3,7,0),e.addMany(r(48,60),3,8,4),e.addMany([60,61,62,63],3,9,4),e.addMany(r(48,60),4,8,4),e.addMany(r(64,127),4,7,0),e.addMany([60,61,62,63],4,0,6),e.addMany(r(32,64),6,0,6),e.add(127,6,0,6),e.addMany(r(64,127),6,0,0),e.addMany(r(32,48),3,9,5),e.addMany(r(32,48),5,9,5),e.addMany(r(48,64),5,0,6),e.addMany(r(64,127),5,7,0),e.addMany(r(32,48),4,9,5),e.addMany(r(32,48),1,9,2),e.addMany(r(32,48),2,9,2),e.addMany(r(48,127),2,10,0),e.addMany(r(48,80),1,10,0),e.addMany(r(81,88),1,10,0),e.addMany([89,90,92],1,10,0),e.addMany(r(96,127),1,10,0),e.add(80,1,11,9),e.addMany(i,9,0,9),e.add(127,9,0,9),e.addMany(r(28,32),9,0,9),e.addMany(r(32,48),9,9,12),e.addMany(r(48,60),9,8,10),e.addMany([60,61,62,63],9,9,10),e.addMany(i,11,0,11),e.addMany(r(32,128),11,0,11),e.addMany(r(28,32),11,0,11),e.addMany(i,10,0,10),e.add(127,10,0,10),e.addMany(r(28,32),10,0,10),e.addMany(r(48,60),10,8,10),e.addMany([60,61,62,63],10,0,11),e.addMany(r(32,48),10,9,12),e.addMany(i,12,0,12),e.add(127,12,0,12),e.addMany(r(28,32),12,0,12),e.addMany(r(32,48),12,9,12),e.addMany(r(48,64),12,0,11),e.addMany(r(64,127),12,12,13),e.addMany(r(64,127),10,12,13),e.addMany(r(64,127),9,12,13),e.addMany(i,13,13,13),e.addMany(n,13,13,13),e.add(127,13,0,13),e.addMany([27,156,24,26],13,14,0),e.add(l,0,2,0),e.add(l,8,5,8),e.add(l,6,0,6),e.add(l,11,0,11),e.add(l,13,13,13),e}();class c extends n.Disposable{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.VT500_TRANSITION_TABLE;super(),this._transitions=e,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new i.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(e,t,r)=>{},this._executeHandlerFb=e=>{},this._csiHandlerFb=(e,t)=>{},this._escHandlerFb=e=>{},this._errorHandlerFb=e=>e,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,n.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new a.OscParser),this._dcsParser=this.register(new s.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[64,126],r=0;if(e.prefix){if(e.prefix.length>1)throw new Error("only one byte as prefix supported");if(r=e.prefix.charCodeAt(0),r&&60>r||r>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(e.intermediates){if(e.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let t=0;t<e.intermediates.length;++t){const n=e.intermediates.charCodeAt(t);if(32>n||n>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");r<<=8,r|=n}}if(1!==e.final.length)throw new Error("final must be a single byte");const n=e.final.charCodeAt(0);if(t[0]>n||n>t[1])throw new Error("final must be in range ".concat(t[0]," .. ").concat(t[1]));return r<<=8,r|=n,r}identToString(e){const t=[];for(;e;)t.push(String.fromCharCode(255&e)),e>>=8;return t.reverse().join("")}setPrintHandler(e){this._printHandler=e}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(e,t){const r=this._identifier(e,[48,126]);void 0===this._escHandlers[r]&&(this._escHandlers[r]=[]);const n=this._escHandlers[r];return n.push(t),{dispose:()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}clearEscHandler(e){this._escHandlers[this._identifier(e,[48,126])]&&delete this._escHandlers[this._identifier(e,[48,126])]}setEscHandlerFallback(e){this._escHandlerFb=e}setExecuteHandler(e,t){this._executeHandlers[e.charCodeAt(0)]=t}clearExecuteHandler(e){this._executeHandlers[e.charCodeAt(0)]&&delete this._executeHandlers[e.charCodeAt(0)]}setExecuteHandlerFallback(e){this._executeHandlerFb=e}registerCsiHandler(e,t){const r=this._identifier(e);void 0===this._csiHandlers[r]&&(this._csiHandlers[r]=[]);const n=this._csiHandlers[r];return n.push(t),{dispose:()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}clearCsiHandler(e){this._csiHandlers[this._identifier(e)]&&delete this._csiHandlers[this._identifier(e)]}setCsiHandlerFallback(e){this._csiHandlerFb=e}registerDcsHandler(e,t){return this._dcsParser.registerHandler(this._identifier(e),t)}clearDcsHandler(e){this._dcsParser.clearHandler(this._identifier(e))}setDcsHandlerFallback(e){this._dcsParser.setHandlerFallback(e)}registerOscHandler(e,t){return this._oscParser.registerHandler(e,t)}clearOscHandler(e){this._oscParser.clearHandler(e)}setOscHandlerFallback(e){this._oscParser.setHandlerFallback(e)}setErrorHandler(e){this._errorHandler=e}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,0!==this._parseStack.state&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(e,t,r,n,i){this._parseStack.state=e,this._parseStack.handlers=t,this._parseStack.handlerPos=r,this._parseStack.transition=n,this._parseStack.chunkPos=i}parse(e,t,r){let n,i=0,a=0,s=0;if(this._parseStack.state)if(2===this._parseStack.state)this._parseStack.state=0,s=this._parseStack.chunkPos+1;else{if(void 0===r||1===this._parseStack.state)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const t=this._parseStack.handlers;let a=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(!1===r&&a>-1)for(;a>=0&&(n=t[a](this._params),!0!==n);a--)if(n instanceof Promise)return this._parseStack.handlerPos=a,n;this._parseStack.handlers=[];break;case 4:if(!1===r&&a>-1)for(;a>=0&&(n=t[a](),!0!==n);a--)if(n instanceof Promise)return this._parseStack.handlerPos=a,n;this._parseStack.handlers=[];break;case 6:if(i=e[this._parseStack.chunkPos],n=this._dcsParser.unhook(24!==i&&26!==i,r),n)return n;27===i&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(i=e[this._parseStack.chunkPos],n=this._oscParser.end(24!==i&&26!==i,r),n)return n;27===i&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,s=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let o=s;o<t;++o){switch(i=e[o],a=this._transitions.table[this.currentState<<8|(i<160?i:l)],a>>4){case 2:for(let n=o+1;;++n){if(n>=t||(i=e[n])<32||i>126&&i<l){this._printHandler(e,o,n),o=n-1;break}if(++n>=t||(i=e[n])<32||i>126&&i<l){this._printHandler(e,o,n),o=n-1;break}if(++n>=t||(i=e[n])<32||i>126&&i<l){this._printHandler(e,o,n),o=n-1;break}if(++n>=t||(i=e[n])<32||i>126&&i<l){this._printHandler(e,o,n),o=n-1;break}}break;case 3:this._executeHandlers[i]?this._executeHandlers[i]():this._executeHandlerFb(i),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:o,code:i,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const r=this._csiHandlers[this._collect<<8|i];let s=r?r.length-1:-1;for(;s>=0&&(n=r[s](this._params),!0!==n);s--)if(n instanceof Promise)return this._preserveStack(3,r,s,a,o),n;s<0&&this._csiHandlerFb(this._collect<<8|i,this._params),this.precedingCodepoint=0;break;case 8:do{switch(i){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(i-48)}}while(++o<t&&(i=e[o])>47&&i<60);o--;break;case 9:this._collect<<=8,this._collect|=i;break;case 10:const c=this._escHandlers[this._collect<<8|i];let u=c?c.length-1:-1;for(;u>=0&&(n=c[u](),!0!==n);u--)if(n instanceof Promise)return this._preserveStack(4,c,u,a,o),n;u<0&&this._escHandlerFb(this._collect<<8|i),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|i,this._params);break;case 13:for(let n=o+1;;++n)if(n>=t||24===(i=e[n])||26===i||27===i||i>127&&i<l){this._dcsParser.put(e,o,n),o=n-1;break}break;case 14:if(n=this._dcsParser.unhook(24!==i&&26!==i),n)return this._preserveStack(6,[],0,a,o),n;27===i&&(a|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let n=o+1;;n++)if(n>=t||(i=e[n])<32||i>127&&i<l){this._oscParser.put(e,o,n),o=n-1;break}break;case 6:if(n=this._oscParser.end(24!==i&&26!==i),n)return this._preserveStack(5,[],0,a,o),n;27===i&&(a|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&a}}}t.EscapeSequenceParser=c},6242:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OscHandler=t.OscParser=void 0;const n=r(5770),i=r(482),a=[];t.OscParser=class{constructor(){this._state=0,this._active=a,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(e,t){void 0===this._handlers[e]&&(this._handlers[e]=[]);const r=this._handlers[e];return r.push(t),{dispose:()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}}clearHandler(e){this._handlers[e]&&delete this._handlers[e]}setHandlerFallback(e){this._handlerFb=e}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=a}reset(){if(2===this._state)for(let e=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;e>=0;--e)this._active[e].end(!1);this._stack.paused=!1,this._active=a,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||a,this._active.length)for(let e=this._active.length-1;e>=0;e--)this._active[e].start();else this._handlerFb(this._id,"START")}_put(e,t,r){if(this._active.length)for(let n=this._active.length-1;n>=0;n--)this._active[n].put(e,t,r);else this._handlerFb(this._id,"PUT",(0,i.utf32ToString)(e,t,r))}start(){this.reset(),this._state=1}put(e,t,r){if(3!==this._state){if(1===this._state)for(;t<r;){const r=e[t++];if(59===r){this._state=2,this._start();break}if(r<48||57<r)return void(this._state=3);-1===this._id&&(this._id=0),this._id=10*this._id+r-48}2===this._state&&r-t>0&&this._put(e,t,r)}}end(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==this._state){if(3!==this._state)if(1===this._state&&this._start(),this._active.length){let r=!1,n=this._active.length-1,i=!1;if(this._stack.paused&&(n=this._stack.loopPosition-1,r=t,i=this._stack.fallThrough,this._stack.paused=!1),!i&&!1===r){for(;n>=0&&(r=this._active[n].end(e),!0!==r);n--)if(r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!1,r;n--}for(;n>=0;n--)if(r=this._active[n].end(!1),r instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=n,this._stack.fallThrough=!0,r}else this._handlerFb(this._id,"END",e);this._active=a,this._id=-1,this._state=0}}},t.OscHandler=class{constructor(e){this._handler=e,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(e,t,r){this._hitLimit||(this._data+=(0,i.utf32ToString)(e,t,r),this._data.length>n.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(e){let t=!1;if(this._hitLimit)t=!1;else if(e&&(t=this._handler(this._data),t instanceof Promise))return t.then(e=>(this._data="",this._hitLimit=!1,e));return this._data="",this._hitLimit=!1,t}}},8742:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Params=void 0;const r=2147483647;class n{static fromArray(e){const t=new n;if(!e.length)return t;for(let r=Array.isArray(e[0])?1:0;r<e.length;++r){const n=e[r];if(Array.isArray(n))for(let e=0;e<n.length;++e)t.addSubParam(n[e]);else t.addParam(n)}return t}constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:32;if(this.maxLength=e,this.maxSubParamsLength=t,t>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(e),this.length=0,this._subParams=new Int32Array(t),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(e),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const e=new n(this.maxLength,this.maxSubParamsLength);return e.params.set(this.params),e.length=this.length,e._subParams.set(this._subParams),e._subParamsLength=this._subParamsLength,e._subParamsIdx.set(this._subParamsIdx),e._rejectDigits=this._rejectDigits,e._rejectSubDigits=this._rejectSubDigits,e._digitIsSub=this._digitIsSub,e}toArray(){const e=[];for(let t=0;t<this.length;++t){e.push(this.params[t]);const r=this._subParamsIdx[t]>>8,n=255&this._subParamsIdx[t];n-r>0&&e.push(Array.prototype.slice.call(this._subParams,r,n))}return e}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(e){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=e>r?r:e}}addSubParam(e){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(e<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=e>r?r:e,this._subParamsIdx[this.length-1]++}}hasSubParams(e){return(255&this._subParamsIdx[e])-(this._subParamsIdx[e]>>8)>0}getSubParams(e){const t=this._subParamsIdx[e]>>8,r=255&this._subParamsIdx[e];return r-t>0?this._subParams.subarray(t,r):null}getSubParamsAll(){const e={};for(let t=0;t<this.length;++t){const r=this._subParamsIdx[t]>>8,n=255&this._subParamsIdx[t];n-r>0&&(e[t]=this._subParams.slice(r,n))}return e}addDigit(e){let t;if(this._rejectDigits||!(t=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const n=this._digitIsSub?this._subParams:this.params,i=n[t-1];n[t-1]=~i?Math.min(10*i+e,r):e}}t.Params=n},5741:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AddonManager=void 0,t.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let e=this._addons.length-1;e>=0;e--)this._addons[e].instance.dispose()}loadAddon(e,t){const r={instance:t,dispose:t.dispose,isDisposed:!1};this._addons.push(r),t.dispose=()=>this._wrappedAddonDispose(r),t.activate(e)}_wrappedAddonDispose(e){if(e.isDisposed)return;let t=-1;for(let r=0;r<this._addons.length;r++)if(this._addons[r]===e){t=r;break}if(-1===t)throw new Error("Could not dispose an addon that has not been loaded");e.isDisposed=!0,e.dispose.apply(e.instance),this._addons.splice(t,1)}}},8771:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferApiView=void 0;const n=r(3785),i=r(511);t.BufferApiView=class{constructor(e,t){this._buffer=e,this.type=t}init(e){return this._buffer=e,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(e){const t=this._buffer.lines.get(e);if(t)return new n.BufferLineApiView(t)}getNullCell(){return new i.CellData}}},3785:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferLineApiView=void 0;const n=r(511);t.BufferLineApiView=class{constructor(e){this._line=e}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(e,t){if(!(e<0||e>=this._line.length))return t?(this._line.loadCell(e,t),t):this._line.loadCell(e,new n.CellData)}translateToString(e,t,r){return this._line.translateToString(e,t,r)}}},8285:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BufferNamespaceApi=void 0;const n=r(8771),i=r(8460),a=r(844);class s extends a.Disposable{constructor(e){super(),this._core=e,this._onBufferChange=this.register(new i.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new n.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new n.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}t.BufferNamespaceApi=s},7975:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ParserApi=void 0,t.ParserApi=class{constructor(e){this._core=e}registerCsiHandler(e,t){return this._core.registerCsiHandler(e,e=>t(e.toArray()))}addCsiHandler(e,t){return this.registerCsiHandler(e,t)}registerDcsHandler(e,t){return this._core.registerDcsHandler(e,(e,r)=>t(e,r.toArray()))}addDcsHandler(e,t){return this.registerDcsHandler(e,t)}registerEscHandler(e,t){return this._core.registerEscHandler(e,t)}addEscHandler(e,t){return this.registerEscHandler(e,t)}registerOscHandler(e,t){return this._core.registerOscHandler(e,t)}addOscHandler(e,t){return this.registerOscHandler(e,t)}}},7090:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeApi=void 0,t.UnicodeApi=class{constructor(e){this._core=e}register(e){this._core.unicodeService.register(e)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(e){this._core.unicodeService.activeVersion=e}}},744:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.BufferService=t.MINIMUM_ROWS=t.MINIMUM_COLS=void 0;const a=r(8460),s=r(844),o=r(5295),l=r(2585);t.MINIMUM_COLS=2,t.MINIMUM_ROWS=1;let c=t.BufferService=class extends s.Disposable{get buffer(){return this.buffers.active}constructor(e){super(),this.isUserScrolling=!1,this._onResize=this.register(new a.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new a.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(e.rawOptions.cols||0,t.MINIMUM_COLS),this.rows=Math.max(e.rawOptions.rows||0,t.MINIMUM_ROWS),this.buffers=this.register(new o.BufferSet(e,this))}resize(e,t){this.cols=e,this.rows=t,this.buffers.resize(e,t),this._onResize.fire({cols:e,rows:t})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=this.buffer;let n;n=this._cachedBlankLine,n&&n.length===this.cols&&n.getFg(0)===e.fg&&n.getBg(0)===e.bg||(n=r.getBlankLine(e,t),this._cachedBlankLine=n),n.isWrapped=t;const i=r.ybase+r.scrollTop,a=r.ybase+r.scrollBottom;if(0===r.scrollTop){const e=r.lines.isFull;a===r.lines.length-1?e?r.lines.recycle().copyFrom(n):r.lines.push(n.clone()):r.lines.splice(a+1,0,n.clone()),e?this.isUserScrolling&&(r.ydisp=Math.max(r.ydisp-1,0)):(r.ybase++,this.isUserScrolling||r.ydisp++)}else{const e=a-i+1;r.lines.shiftElements(i+1,e-1,-1),r.lines.set(a,n.clone())}this.isUserScrolling||(r.ydisp=r.ybase),this._onScroll.fire(r.ydisp)}scrollLines(e,t,r){const n=this.buffer;if(e<0){if(0===n.ydisp)return;this.isUserScrolling=!0}else e+n.ydisp>=n.ybase&&(this.isUserScrolling=!1);const i=n.ydisp;n.ydisp=Math.max(Math.min(n.ydisp+e,n.ybase),0),i!==n.ydisp&&(t||this._onScroll.fire(n.ydisp))}};t.BufferService=c=n([i(0,l.IOptionsService)],c)},7994:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CharsetService=void 0,t.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(e){this.glevel=e,this.charset=this._charsets[e]}setgCharset(e,t){this._charsets[e]=t,this.glevel===e&&(this.charset=t)}}},1753:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreMouseService=void 0;const a=r(2585),s=r(8460),o=r(844),l={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:e=>4!==e.button&&1===e.action&&(e.ctrl=!1,e.alt=!1,e.shift=!1,!0)},VT200:{events:19,restrict:e=>32!==e.action},DRAG:{events:23,restrict:e=>32!==e.action||3!==e.button},ANY:{events:31,restrict:e=>!0}};function c(e,t){let r=(e.ctrl?16:0)|(e.shift?4:0)|(e.alt?8:0);return 4===e.button?(r|=64,r|=e.action):(r|=3&e.button,4&e.button&&(r|=64),8&e.button&&(r|=128),32===e.action?r|=32:0!==e.action||t||(r|=3)),r}const u=String.fromCharCode,d={DEFAULT:e=>{const t=[c(e,!1)+32,e.col+32,e.row+32];return t[0]>255||t[1]>255||t[2]>255?"":"\x1b[M".concat(u(t[0])).concat(u(t[1])).concat(u(t[2]))},SGR:e=>{const t=0===e.action&&4!==e.button?"m":"M";return"\x1b[<".concat(c(e,!0),";").concat(e.col,";").concat(e.row).concat(t)},SGR_PIXELS:e=>{const t=0===e.action&&4!==e.button?"m":"M";return"\x1b[<".concat(c(e,!0),";").concat(e.x,";").concat(e.y).concat(t)}};let h=t.CoreMouseService=class extends o.Disposable{constructor(e,t){super(),this._bufferService=e,this._coreService=t,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new s.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const r of Object.keys(l))this.addProtocol(r,l[r]);for(const r of Object.keys(d))this.addEncoding(r,d[r]);this.reset()}addProtocol(e,t){this._protocols[e]=t}addEncoding(e,t){this._encodings[e]=t}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return 0!==this._protocols[this._activeProtocol].events}set activeProtocol(e){if(!this._protocols[e])throw new Error('unknown protocol "'.concat(e,'"'));this._activeProtocol=e,this._onProtocolChange.fire(this._protocols[e].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(e){if(!this._encodings[e])throw new Error('unknown encoding "'.concat(e,'"'));this._activeEncoding=e}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(e){if(e.col<0||e.col>=this._bufferService.cols||e.row<0||e.row>=this._bufferService.rows)return!1;if(4===e.button&&32===e.action)return!1;if(3===e.button&&32!==e.action)return!1;if(4!==e.button&&(2===e.action||3===e.action))return!1;if(e.col++,e.row++,32===e.action&&this._lastEvent&&this._equalEvents(this._lastEvent,e,"SGR_PIXELS"===this._activeEncoding))return!1;if(!this._protocols[this._activeProtocol].restrict(e))return!1;const t=this._encodings[this._activeEncoding](e);return t&&("DEFAULT"===this._activeEncoding?this._coreService.triggerBinaryEvent(t):this._coreService.triggerDataEvent(t,!0)),this._lastEvent=e,!0}explainEvents(e){return{down:!!(1&e),up:!!(2&e),drag:!!(4&e),move:!!(8&e),wheel:!!(16&e)}}_equalEvents(e,t,r){if(r){if(e.x!==t.x)return!1;if(e.y!==t.y)return!1}else{if(e.col!==t.col)return!1;if(e.row!==t.row)return!1}return e.button===t.button&&e.action===t.action&&e.ctrl===t.ctrl&&e.alt===t.alt&&e.shift===t.shift}};t.CoreMouseService=h=n([i(0,a.IBufferService),i(1,a.ICoreService)],h)},6975:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.CoreService=void 0;const a=r(1439),s=r(8460),o=r(844),l=r(2585),c=Object.freeze({insertMode:!1}),u=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let d=t.CoreService=class extends o.Disposable{constructor(e,t,r){super(),this._bufferService=e,this._logService=t,this._optionsService=r,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new s.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new s.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new s.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new s.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,a.clone)(c),this.decPrivateModes=(0,a.clone)(u)}reset(){this.modes=(0,a.clone)(c),this.decPrivateModes=(0,a.clone)(u)}triggerDataEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._optionsService.rawOptions.disableStdin)return;const r=this._bufferService.buffer;t&&this._optionsService.rawOptions.scrollOnUserInput&&r.ybase!==r.ydisp&&this._onRequestScrollToBottom.fire(),t&&this._onUserInput.fire(),this._logService.debug('sending data "'.concat(e,'"'),()=>e.split("").map(e=>e.charCodeAt(0))),this._onData.fire(e)}triggerBinaryEvent(e){this._optionsService.rawOptions.disableStdin||(this._logService.debug('sending binary "'.concat(e,'"'),()=>e.split("").map(e=>e.charCodeAt(0))),this._onBinary.fire(e))}};t.CoreService=d=n([i(0,l.IBufferService),i(1,l.ILogService),i(2,l.IOptionsService)],d)},9074:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DecorationService=void 0;const n=r(8055),i=r(8460),a=r(844),s=r(6106);let o=0,l=0;class c extends a.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new s.SortedList(e=>null==e?void 0:e.marker.line),this._onDecorationRegistered=this.register(new i.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new i.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,a.toDisposable)(()=>this.reset()))}registerDecoration(e){if(e.marker.isDisposed)return;const t=new u(e);if(t){const e=t.marker.onDispose(()=>t.dispose());t.onDispose(()=>{t&&(this._decorations.delete(t)&&this._onDecorationRemoved.fire(t),e.dispose())}),this._decorations.insert(t),this._onDecorationRegistered.fire(t)}return t}reset(){for(const e of this._decorations.values())e.dispose();this._decorations.clear()}*getDecorationsAtCell(e,t,r){var n,i,a;let s=0,o=0;for(const l of this._decorations.getKeyIterator(t))s=null!==(n=l.options.x)&&void 0!==n?n:0,o=s+(null!==(i=l.options.width)&&void 0!==i?i:1),e>=s&&e<o&&(!r||(null!==(a=l.options.layer)&&void 0!==a?a:"bottom")===r)&&(yield l)}forEachDecorationAtCell(e,t,r,n){this._decorations.forEachByKey(t,t=>{var i,a,s;o=null!==(i=t.options.x)&&void 0!==i?i:0,l=o+(null!==(a=t.options.width)&&void 0!==a?a:1),e>=o&&e<l&&(!r||(null!==(s=t.options.layer)&&void 0!==s?s:"bottom")===r)&&n(t)})}}t.DecorationService=c;class u extends a.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return null===this._cachedBg&&(this.options.backgroundColor?this._cachedBg=n.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return null===this._cachedFg&&(this.options.foregroundColor?this._cachedFg=n.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(e){super(),this.options=e,this.onRenderEmitter=this.register(new i.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new i.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=e.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InstantiationService=t.ServiceCollection=void 0;const n=r(2585),i=r(8343);class a{constructor(){this._entries=new Map;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const[n,i]of t)this.set(n,i)}set(e,t){const r=this._entries.get(e);return this._entries.set(e,t),r}forEach(e){for(const[t,r]of this._entries.entries())e(t,r)}has(e){return this._entries.has(e)}get(e){return this._entries.get(e)}}t.ServiceCollection=a,t.InstantiationService=class{constructor(){this._services=new a,this._services.set(n.IInstantiationService,this)}setService(e,t){this._services.set(e,t)}getService(e){return this._services.get(e)}createInstance(e){const t=(0,i.getServiceDependencies)(e).sort((e,t)=>e.index-t.index),r=[];for(const i of t){const t=this._services.get(i.id);if(!t)throw new Error("[createInstance] ".concat(e.name," depends on UNKNOWN service ").concat(i.id,"."));r.push(t)}for(var n=arguments.length,a=new Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];const o=t.length>0?t[0].index:a.length;if(a.length!==o)throw new Error("[createInstance] First service dependency of ".concat(e.name," at position ").concat(o+1," conflicts with ").concat(a.length," static arguments"));return new e(...[...a,...r])}}},7866:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.traceCall=t.setTraceLogger=t.LogService=void 0;const a=r(844),s=r(2585),o={trace:s.LogLevelEnum.TRACE,debug:s.LogLevelEnum.DEBUG,info:s.LogLevelEnum.INFO,warn:s.LogLevelEnum.WARN,error:s.LogLevelEnum.ERROR,off:s.LogLevelEnum.OFF};let l,c=t.LogService=class extends a.Disposable{get logLevel(){return this._logLevel}constructor(e){super(),this._optionsService=e,this._logLevel=s.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),l=this}_updateLogLevel(){this._logLevel=o[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(e){for(let t=0;t<e.length;t++)"function"==typeof e[t]&&(e[t]=e[t]())}_log(e,t,r){this._evalLazyOptionalParams(r),e.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+t,...r)}trace(e){for(var t,r,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this._logLevel<=s.LogLevelEnum.TRACE&&this._log(null!==(r=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.trace.bind(this._optionsService.options.logger))&&void 0!==r?r:console.log,e,i)}debug(e){for(var t,r,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this._logLevel<=s.LogLevelEnum.DEBUG&&this._log(null!==(r=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.debug.bind(this._optionsService.options.logger))&&void 0!==r?r:console.log,e,i)}info(e){for(var t,r,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this._logLevel<=s.LogLevelEnum.INFO&&this._log(null!==(r=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.info.bind(this._optionsService.options.logger))&&void 0!==r?r:console.info,e,i)}warn(e){for(var t,r,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this._logLevel<=s.LogLevelEnum.WARN&&this._log(null!==(r=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.warn.bind(this._optionsService.options.logger))&&void 0!==r?r:console.warn,e,i)}error(e){for(var t,r,n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];this._logLevel<=s.LogLevelEnum.ERROR&&this._log(null!==(r=null===(t=this._optionsService.options.logger)||void 0===t?void 0:t.error.bind(this._optionsService.options.logger))&&void 0!==r?r:console.error,e,i)}};t.LogService=c=n([i(0,s.IOptionsService)],c),t.setTraceLogger=function(e){l=e},t.traceCall=function(e,t,r){if("function"!=typeof r.value)throw new Error("not supported");const n=r.value;r.value=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(l.logLevel!==s.LogLevelEnum.TRACE)return n.apply(this,t);l.trace("GlyphRenderer#".concat(n.name,"(").concat(t.map(e=>JSON.stringify(e)).join(", "),")"));const i=n.apply(this,t);return l.trace("GlyphRenderer#".concat(n.name," return"),i),i}}},7302:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OptionsService=t.DEFAULT_OPTIONS=void 0;const n=r(8460),i=r(844),a=r(6114);t.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:a.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const s=["normal","bold","100","200","300","400","500","600","700","800","900"];class o extends i.Disposable{constructor(e){super(),this._onOptionChange=this.register(new n.EventEmitter),this.onOptionChange=this._onOptionChange.event;const r=Object.assign({},t.DEFAULT_OPTIONS);for(const t in e)if(t in r)try{const n=e[t];r[t]=this._sanitizeAndValidateOption(t,n)}catch(e){console.error(e)}this.rawOptions=r,this.options=Object.assign({},r),this._setupOptions()}onSpecificOptionChange(e,t){return this.onOptionChange(r=>{r===e&&t(this.rawOptions[e])})}onMultipleOptionChange(e,t){return this.onOptionChange(r=>{-1!==e.indexOf(r)&&t()})}_setupOptions(){const e=e=>{if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'.concat(e,'"'));return this.rawOptions[e]},r=(e,r)=>{if(!(e in t.DEFAULT_OPTIONS))throw new Error('No option with key "'.concat(e,'"'));r=this._sanitizeAndValidateOption(e,r),this.rawOptions[e]!==r&&(this.rawOptions[e]=r,this._onOptionChange.fire(e))};for(const t in this.rawOptions){const n={get:e.bind(this,t),set:r.bind(this,t)};Object.defineProperty(this.options,t,n)}}_sanitizeAndValidateOption(e,r){switch(e){case"cursorStyle":if(r||(r=t.DEFAULT_OPTIONS[e]),!function(e){return"block"===e||"underline"===e||"bar"===e}(r))throw new Error('"'.concat(r,'" is not a valid value for ').concat(e));break;case"wordSeparator":r||(r=t.DEFAULT_OPTIONS[e]);break;case"fontWeight":case"fontWeightBold":if("number"==typeof r&&1<=r&&r<=1e3)break;r=s.includes(r)?r:t.DEFAULT_OPTIONS[e];break;case"cursorWidth":r=Math.floor(r);case"lineHeight":case"tabStopWidth":if(r<1)throw new Error("".concat(e," cannot be less than 1, value: ").concat(r));break;case"minimumContrastRatio":r=Math.max(1,Math.min(21,Math.round(10*r)/10));break;case"scrollback":if((r=Math.min(r,4294967295))<0)throw new Error("".concat(e," cannot be less than 0, value: ").concat(r));break;case"fastScrollSensitivity":case"scrollSensitivity":if(r<=0)throw new Error("".concat(e," cannot be less than or equal to 0, value: ").concat(r));break;case"rows":case"cols":if(!r&&0!==r)throw new Error("".concat(e," must be numeric, value: ").concat(r));break;case"windowsPty":r=null!=r?r:{}}return r}}t.OptionsService=o},2660:function(e,t,r){var n=this&&this.__decorate||function(e,t,r,n){var i,a=arguments.length,s=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(a<3?i(s):a>3?i(t,r,s):i(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.OscLinkService=void 0;const a=r(2585);let s=t.OscLinkService=class{constructor(e){this._bufferService=e,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(e){const t=this._bufferService.buffer;if(void 0===e.id){const r=t.addMarker(t.ybase+t.y),n={data:e,id:this._nextId++,lines:[r]};return r.onDispose(()=>this._removeMarkerFromLink(n,r)),this._dataByLinkId.set(n.id,n),n.id}const r=e,n=this._getEntryIdKey(r),i=this._entriesWithId.get(n);if(i)return this.addLineToLink(i.id,t.ybase+t.y),i.id;const a=t.addMarker(t.ybase+t.y),s={id:this._nextId++,key:this._getEntryIdKey(r),data:r,lines:[a]};return a.onDispose(()=>this._removeMarkerFromLink(s,a)),this._entriesWithId.set(s.key,s),this._dataByLinkId.set(s.id,s),s.id}addLineToLink(e,t){const r=this._dataByLinkId.get(e);if(r&&r.lines.every(e=>e.line!==t)){const e=this._bufferService.buffer.addMarker(t);r.lines.push(e),e.onDispose(()=>this._removeMarkerFromLink(r,e))}}getLinkData(e){var t;return null===(t=this._dataByLinkId.get(e))||void 0===t?void 0:t.data}_getEntryIdKey(e){return"".concat(e.id,";;").concat(e.uri)}_removeMarkerFromLink(e,t){const r=e.lines.indexOf(t);-1!==r&&(e.lines.splice(r,1),0===e.lines.length&&(void 0!==e.data.id&&this._entriesWithId.delete(e.key),this._dataByLinkId.delete(e.id)))}};t.OscLinkService=s=n([i(0,a.IBufferService)],s)},8343:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDecorator=t.getServiceDependencies=t.serviceRegistry=void 0;const r="di$target",n="di$dependencies";t.serviceRegistry=new Map,t.getServiceDependencies=function(e){return e[n]||[]},t.createDecorator=function(e){if(t.serviceRegistry.has(e))return t.serviceRegistry.get(e);const i=function(e,t,a){if(3!==arguments.length)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");!function(e,t,i){t[r]===t?t[n].push({id:e,index:i}):(t[n]=[{id:e,index:i}],t[r]=t)}(i,e,a)};return i.toString=()=>e,t.serviceRegistry.set(e,i),i}},2585:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDecorationService=t.IUnicodeService=t.IOscLinkService=t.IOptionsService=t.ILogService=t.LogLevelEnum=t.IInstantiationService=t.ICharsetService=t.ICoreService=t.ICoreMouseService=t.IBufferService=void 0;const n=r(8343);var i;t.IBufferService=(0,n.createDecorator)("BufferService"),t.ICoreMouseService=(0,n.createDecorator)("CoreMouseService"),t.ICoreService=(0,n.createDecorator)("CoreService"),t.ICharsetService=(0,n.createDecorator)("CharsetService"),t.IInstantiationService=(0,n.createDecorator)("InstantiationService"),function(e){e[e.TRACE=0]="TRACE",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.OFF=5]="OFF"}(i||(t.LogLevelEnum=i={})),t.ILogService=(0,n.createDecorator)("LogService"),t.IOptionsService=(0,n.createDecorator)("OptionsService"),t.IOscLinkService=(0,n.createDecorator)("OscLinkService"),t.IUnicodeService=(0,n.createDecorator)("UnicodeService"),t.IDecorationService=(0,n.createDecorator)("DecorationService")},1480:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UnicodeService=void 0;const n=r(8460),i=r(225);t.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new n.EventEmitter,this.onChange=this._onChange.event;const e=new i.UnicodeV6;this.register(e),this._active=e.version,this._activeProvider=e}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(e){if(!this._providers[e])throw new Error('unknown Unicode version "'.concat(e,'"'));this._active=e,this._activeProvider=this._providers[e],this._onChange.fire(e)}register(e){this._providers[e.version]=e}wcwidth(e){return this._activeProvider.wcwidth(e)}getStringCellWidth(e){let t=0;const r=e.length;for(let n=0;n<r;++n){let i=e.charCodeAt(n);if(55296<=i&&i<=56319){if(++n>=r)return t+this.wcwidth(i);const a=e.charCodeAt(n);56320<=a&&a<=57343?i=1024*(i-55296)+a-56320+65536:t+=this.wcwidth(a)}t+=this.wcwidth(i)}return t}}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}var n={};return(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.Terminal=void 0;const t=r(9042),i=r(3236),a=r(844),s=r(5741),o=r(8285),l=r(7975),c=r(7090),u=["cols","rows"];class d extends a.Disposable{constructor(e){super(),this._core=this.register(new i.Terminal(e)),this._addonManager=this.register(new s.AddonManager),this._publicOptions=Object.assign({},this._core.options);const t=e=>this._core.options[e],r=(e,t)=>{this._checkReadonlyOptions(e),this._core.options[e]=t};for(const n in this._core.options){const e={get:t.bind(this,n),set:r.bind(this,n)};Object.defineProperty(this._publicOptions,n,e)}}_checkReadonlyOptions(e){if(u.includes(e))throw new Error('Option "'.concat(e,'" can only be set in the constructor'))}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new l.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new c.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new o.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const e=this._core.coreService.decPrivateModes;let t="none";switch(this._core.coreMouseService.activeProtocol){case"X10":t="x10";break;case"VT200":t="vt200";break;case"DRAG":t="drag";break;case"ANY":t="any"}return{applicationCursorKeysMode:e.applicationCursorKeys,applicationKeypadMode:e.applicationKeypad,bracketedPasteMode:e.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:t,originMode:e.origin,reverseWraparoundMode:e.reverseWraparound,sendFocusMode:e.sendFocus,wraparoundMode:e.wraparound}}get options(){return this._publicOptions}set options(e){for(const t in e)this._publicOptions[t]=e[t]}blur(){this._core.blur()}focus(){this._core.focus()}resize(e,t){this._verifyIntegers(e,t),this._core.resize(e,t)}open(e){this._core.open(e)}attachCustomKeyEventHandler(e){this._core.attachCustomKeyEventHandler(e)}registerLinkProvider(e){return this._core.registerLinkProvider(e)}registerCharacterJoiner(e){return this._checkProposedApi(),this._core.registerCharacterJoiner(e)}deregisterCharacterJoiner(e){this._checkProposedApi(),this._core.deregisterCharacterJoiner(e)}registerMarker(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this._verifyIntegers(e),this._core.registerMarker(e)}registerDecoration(e){var t,r,n;return this._checkProposedApi(),this._verifyPositiveIntegers(null!==(t=e.x)&&void 0!==t?t:0,null!==(r=e.width)&&void 0!==r?r:0,null!==(n=e.height)&&void 0!==n?n:0),this._core.registerDecoration(e)}hasSelection(){return this._core.hasSelection()}select(e,t,r){this._verifyIntegers(e,t,r),this._core.select(e,t,r)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(e,t){this._verifyIntegers(e,t),this._core.selectLines(e,t)}dispose(){super.dispose()}scrollLines(e){this._verifyIntegers(e),this._core.scrollLines(e)}scrollPages(e){this._verifyIntegers(e),this._core.scrollPages(e)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(e){this._verifyIntegers(e),this._core.scrollToLine(e)}clear(){this._core.clear()}write(e,t){this._core.write(e,t)}writeln(e,t){this._core.write(e),this._core.write("\r\n",t)}paste(e){this._core.paste(e)}refresh(e,t){this._verifyIntegers(e,t),this._core.refresh(e,t)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(e){this._addonManager.loadAddon(this,e)}static get strings(){return t}_verifyIntegers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)if(n===1/0||isNaN(n)||n%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)if(n&&(n===1/0||isNaN(n)||n%1!=0||n<0))throw new Error("This API only accepts positive integers")}}e.Terminal=d})(),n})(),e.exports=t()},5261(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433);t.cloneDeep=function(e){return n.cloneDeepWithImpl(e,void 0,e,new Map,void 0)}},5303(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2489),i=r(4704),a=r(6321),s=r(1444);t.has=function(e,t){let r;if(r=Array.isArray(t)?t:"string"===typeof t&&n.isDeepKey(t)&&null==(null===e||void 0===e?void 0:e[t])?s.toPath(t):[t],0===r.length)return!1;let o=e;for(let n=0;n<r.length;n++){const e=r[n];if(null==o||!Object.hasOwn(o,e)){if(!((Array.isArray(o)||a.isArguments(o))&&i.isIndex(e)&&e<o.length))return!1}o=o[e]}return!0}},5316(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9709),i=r(7043),a=r(1444);t.orderBy=function(e,t,r,s){if(null==e)return[];r=s?void 0:r,Array.isArray(e)||(e=Object.values(e)),Array.isArray(t)||(t=null==t?[null]:[t]),0===t.length&&(t=[null]),Array.isArray(r)||(r=null==r?[]:[r]),r=r.map(e=>String(e));const o=(e,t)=>{let r=e;for(let n=0;n<t.length&&null!=r;++n)r=r[t[n]];return r},l=t.map(e=>(Array.isArray(e)&&1===e.length&&(e=e[0]),null==e||"function"===typeof e||Array.isArray(e)||i.isKey(e)?e:{key:e,path:a.toPath(e)}));return e.map(e=>({original:e,criteria:l.map(t=>((e,t)=>null==t||null==e?t:"object"===typeof e&&"key"in e?Object.hasOwn(t,e.key)?t[e.key]:o(t,e.path):"function"===typeof e?e(t):Array.isArray(e)?o(t,e):"object"===typeof t?t[e]:t)(t,e))})).slice().sort((e,t)=>{for(let i=0;i<l.length;i++){const a=n.compareValues(e.criteria[i],t.criteria[i],r[i]);if(0!==a)return a}return 0}).map(e=>e.original)}},5414(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(1293);t.throttle=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{leading:i=!0,trailing:a=!0}=r;return n.debounce(e,t,{leading:i,maxWait:t,trailing:a})}},5508(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6433),i=r(5990),a=r(7599);t.cloneDeepWith=function(e,t){return n.cloneDeepWith(e,(r,s,o,l)=>{const c=null===t||void 0===t?void 0:t(r,s,o,l);if(void 0!==c)return c;if("object"===typeof e){if(i.getTag(e)===a.objectTag&&"function"!==typeof e.constructor){const t={};return l.set(e,t),n.copyProperties(t,e,o,l),t}switch(Object.prototype.toString.call(e)){case a.numberTag:case a.stringTag:case a.booleanTag:{const t=new e.constructor(null===e||void 0===e?void 0:e.valueOf());return n.copyProperties(t,e),t}case a.argumentsTag:{const t={};return n.copyProperties(t,e),t.length=e.length,t[Symbol.iterator]=e[Symbol.iterator],t}default:return}}})}},5896(e,t){"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<a(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,s=i>>>1;n<s;){var o=2*(n+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,r))c<i&&0>a(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[o]=r,n=o);else{if(!(c<i&&0>a(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,x="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=n(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function w(e){if(g=!1,_(e),!m)if(null!==n(c))m=!0,j||(j=!0,S());else{var t=n(u);null!==t&&T(w,t.startTime-e)}}var S,j=!1,k=-1,C=5,E=-1;function O(){return!!v||!(t.unstable_now()-E<C)}function P(){if(v=!1,j){var e=t.unstable_now();E=e;var r=!0;try{e:{m=!1,g&&(g=!1,b(k),k=-1),p=!0;var a=f;try{t:{for(_(e),h=n(c);null!==h&&!(h.expirationTime>e&&O());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,_(e),r=!0;break t}h===n(c)&&i(c),_(e)}else i(c);h=n(c)}if(null!==h)r=!0;else{var l=n(u);null!==l&&T(w,l.startTime-e),r=!1}}break e}finally{h=null,f=a,p=!1}r=void 0}}finally{r?S():j=!1}}}if("function"===typeof x)S=function(){x(P)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,A=N.port2;N.port1.onmessage=P,S=function(){A.postMessage(null)}}else S=function(){y(P,0)};function T(e,r){k=y(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,r(u,e),null===n(c)&&e===n(u)&&(g?(b(k),k=-1):g=!0,T(w,a-s))):(e.sortIndex=o,r(c,e),m||p||(m=!0,j||(j=!0,S()))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},5990(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getTag=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}},6321(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5990);t.isArguments=function(e){return null!==e&&"object"===typeof e&&"[object Arguments]"===n.getTag(e)}},6392(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.last=function(e){return e[e.length-1]}},6433(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6443),i=r(5990),a=r(7599),s=r(4803),o=r(3757);function l(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Map,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;const d=null===u||void 0===u?void 0:u(e,t,r,n);if(void 0!==d)return d;if(s.isPrimitive(e))return e;if(n.has(e))return n.get(e);if(Array.isArray(e)){const t=new Array(e.length);n.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,r,n,u);return Object.hasOwn(e,"index")&&(t.index=e.index),Object.hasOwn(e,"input")&&(t.input=e.input),t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp){const t=new RegExp(e.source,e.flags);return t.lastIndex=e.lastIndex,t}if(e instanceof Map){const t=new Map;n.set(e,t);for(const[i,a]of e)t.set(i,l(a,i,r,n,u));return t}if(e instanceof Set){const t=new Set;n.set(e,t);for(const i of e)t.add(l(i,void 0,r,n,u));return t}if("undefined"!==typeof Buffer&&Buffer.isBuffer(e))return e.subarray();if(o.isTypedArray(e)){const t=new(Object.getPrototypeOf(e).constructor)(e.length);n.set(e,t);for(let i=0;i<e.length;i++)t[i]=l(e[i],i,r,n,u);return t}if(e instanceof ArrayBuffer||"undefined"!==typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer)return e.slice(0);if(e instanceof DataView){const t=new DataView(e.buffer.slice(0),e.byteOffset,e.byteLength);return n.set(e,t),c(t,e,r,n,u),t}if("undefined"!==typeof File&&e instanceof File){const t=new File([e],e.name,{type:e.type});return n.set(e,t),c(t,e,r,n,u),t}if("undefined"!==typeof Blob&&e instanceof Blob){const t=new Blob([e],{type:e.type});return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof Error){const t=new e.constructor;return n.set(e,t),t.message=e.message,t.name=e.name,t.stack=e.stack,t.cause=e.cause,c(t,e,r,n,u),t}if(e instanceof Boolean){const t=new Boolean(e.valueOf());return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof Number){const t=new Number(e.valueOf());return n.set(e,t),c(t,e,r,n,u),t}if(e instanceof String){const t=new String(e.valueOf());return n.set(e,t),c(t,e,r,n,u),t}if("object"===typeof e&&function(e){switch(i.getTag(e)){case a.argumentsTag:case a.arrayTag:case a.arrayBufferTag:case a.dataViewTag:case a.booleanTag:case a.dateTag:case a.float32ArrayTag:case a.float64ArrayTag:case a.int8ArrayTag:case a.int16ArrayTag:case a.int32ArrayTag:case a.mapTag:case a.numberTag:case a.objectTag:case a.regexpTag:case a.setTag:case a.stringTag:case a.symbolTag:case a.uint8ArrayTag:case a.uint8ClampedArrayTag:case a.uint16ArrayTag:case a.uint32ArrayTag:return!0;default:return!1}}(e)){const t=Object.create(Object.getPrototypeOf(e));return n.set(e,t),c(t,e,r,n,u),t}return e}function c(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0;const s=[...Object.keys(t),...n.getSymbols(t)];for(let n=0;n<s.length;n++){const o=s[n],c=Object.getOwnPropertyDescriptor(e,o);(null==c||c.writable)&&(e[o]=l(t[o],o,r,i,a))}}t.cloneDeepWith=function(e,t){return l(e,void 0,e,new Map,t)},t.cloneDeepWithImpl=l,t.copyProperties=c},6443(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.getSymbols=function(e){return Object.getOwnPropertySymbols(e).filter(t=>Object.prototype.propertyIsEnumerable.call(e,t))}},6672(e,t,r){"use strict";var n=r(5043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=l.T,r=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=r,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):"script"===r&&s.d.X(e,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=c(r,t.crossOrigin);s.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return l.H.useFormState(e,t,r)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.3"},6770(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777);t.toNumber=function(e){return n.isSymbol(e)?NaN:Number(e)}},7004(e,t,r){"use strict";var n=r(8853),i=r(5043),a=r(7950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),_=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var E=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var O=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var P=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function T(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case j:return"SuspenseList";case E:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case _:return e.displayName||"Context";case x:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:T(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return T(e(t))}catch(r){}}return null}var R=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},I=[],B=-1;function z(e){return{current:e}}function F(e){0>B||(e.current=I[B],I[B]=null,B--)}function H(e,t){B++,I[B]=e.current,e.current=t}var U,W,q=z(null),K=z(null),V=z(null),Y=z(null);function G(e,t){switch(H(V,t),H(K,e),H(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?vd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=yd(t=vd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(q),H(q,e)}function X(){F(q),F(K),F(V)}function $(e){null!==e.memoizedState&&H(Y,e);var t=q.current,r=yd(t,e.type);t!==r&&(H(K,e),H(q,r))}function J(e){K.current===e&&(F(q),F(K)),Y.current===e&&(F(Y),uh._currentValue=M)}function Q(e){if(void 0===U)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||"",W=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+e+W}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(i){var n=i}Reflect.construct(e,[],r)}else{try{r.call()}catch(a){n=a}e.call(r.prototype)}}else{try{throw Error()}catch(s){n=s}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(o){if(o&&n&&"string"===typeof o.stack)return[o.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=n=0;n<l.length&&!l[n].includes("DetermineComponentFrameRoot");)n++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(n===l.length||i===c.length)for(n=l.length-1,i=c.length-1;1<=n&&0<=i&&l[n]!==c[i];)i--;for(;1<=n&&0<=i;n--,i--)if(l[n]!==c[i]){if(1!==n||1!==i)do{if(n--,0>--i||l[n]!==c[i]){var u="\n"+l[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=n&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Q(r):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return e.child!==t&&null!==t?Q("Suspense Fallback"):Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return Q("Activity");default:return""}}function re(e){try{var t="",r=null;do{t+=te(e,r),r=e,e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}var ne=Object.prototype.hasOwnProperty,ie=n.unstable_scheduleCallback,ae=n.unstable_cancelCallback,se=n.unstable_shouldYield,oe=n.unstable_requestPaint,le=n.unstable_now,ce=n.unstable_getCurrentPriorityLevel,ue=n.unstable_ImmediatePriority,de=n.unstable_UserBlockingPriority,he=n.unstable_NormalPriority,fe=n.unstable_LowPriority,pe=n.unstable_IdlePriority,me=n.log,ge=n.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var xe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(_e(e)/we|0)|0},_e=Math.log,we=Math.LN2;var Se=256,je=262144,ke=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ee(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&n;return 0!==o?0!==(n=o&~a)?i=Ce(n):0!==(s&=o)?i=Ce(s):r||0!==(r=o&~e)&&(i=Ce(r)):0!==(o=n&~a)?i=Ce(o):0!==s?i=Ce(s):r||0!==(r=n&~e)&&(i=Ce(r)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(r=t&-t)||32===a&&0!==(4194048&r))?t:i}function Oe(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Pe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ne(){var e=ke;return 0===(62914560&(ke<<=1))&&(ke=4194304),e}function Ae(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-xe(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|261930&r}function De(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-xe(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}function Le(e,t){var r=t&-t;return 0!==((r=0!==(42&r)?1:Me(r))&(e.suspendedLanes|t))?0:r}function Me(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ie(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Be(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Ch(e.type)}function ze(e,t){var r=L.p;try{return L.p=e,t()}finally{L.p=r}}var Fe=Math.random().toString(36).slice(2),He="__reactFiber$"+Fe,Ue="__reactProps$"+Fe,We="__reactContainer$"+Fe,qe="__reactEvents$"+Fe,Ke="__reactListeners$"+Fe,Ve="__reactHandles$"+Fe,Ye="__reactResources$"+Fe,Ge="__reactMarker$"+Fe;function Xe(e){delete e[He],delete e[Ue],delete e[qe],delete e[Ke],delete e[Ve]}function $e(e){var t=e[He];if(t)return t;for(var r=e.parentNode;r;){if(t=r[We]||r[He]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=Md(e);null!==e;){if(r=e[He])return r;e=Md(e)}return t}r=(e=r).parentNode}return null}function Je(e){if(e=e[He]||e[We]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ye];return t||(t=e[Ye]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Ge]=!0}var tt=new Set,rt={};function nt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(rt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},ot={};function lt(e,t,r){if(i=t,ne.call(ot,i)||!ne.call(st,i)&&(at.test(i)?ot[i]=!0:(st[i]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var i}function ct(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function ut(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ht(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,r,n,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?xt(e,s,dt(t)):null!=r?xt(e,s,dt(r)):null!=n&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,r,n,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=r){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void ft(e);r=null!=r?""+dt(r):"",t=null!=t?""+dt(t):r,o||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:i)&&"symbol"!==typeof n&&!!n,e.checked=o?e.checked:!!n,e.defaultChecked=!!n,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),ft(e)}function xt(e,t,r){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function _t(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+dt(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,r){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+dt(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function St(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(s(92));if(R(n)){if(1<n.length)throw Error(s(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=dt(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n),ft(e)}function jt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var kt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ct(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||kt.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Et(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&r[i]!==n&&Ct(e,i,n)}else for(var a in t)t.hasOwnProperty(a)&&Ct(e,a,t[a])}function Ot(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Nt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Tt(){}var Rt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Mt=null;function It(e){var t=Je(e);if(t&&(e=t.stateNode)){var r=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=n[Ue]||null;if(!i)throw Error(s(90));yt(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&pt(n)}break e;case"textarea":wt(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&_t(e,!!r.multiple,t,!1)}}}var Bt=!1;function zt(e,t,r){if(Bt)return e(t,r);Bt=!0;try{return e(t)}finally{if(Bt=!1,(null!==Lt||null!==Mt)&&(Zc(),Lt&&(t=Lt,e=Mt,Mt=Lt=null,It(t),e)))for(t=0;t<e.length;t++)It(e[t])}}function Ft(e,t){var r=e.stateNode;if(null===r)return null;var n=r[Ue]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Ht=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Ht)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(Jh){Ut=!1}var qt=null,Kt=null,Vt=null;function Yt(){if(Vt)return Vt;var e,t,r=Kt,n=r.length,i="value"in qt?qt.value:qt.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===i[a-t];t++);return Vt=i.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xt(){return!0}function $t(){return!1}function Jt(e){function t(t,r,n,i,a){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Xt:$t,this.isPropagationStopped=$t,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}var Qt,Zt,er,tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rr=Jt(tr),nr=f({},tr,{view:0,detail:0}),ir=Jt(nr),ar=f({},nr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&"mousemove"===e.type?(Qt=e.screenX-er.screenX,Zt=e.screenY-er.screenY):Zt=Qt=0,er=e),Qt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),sr=Jt(ar),or=Jt(f({},ar,{dataTransfer:0})),lr=Jt(f({},nr,{relatedTarget:0})),cr=Jt(f({},tr,{animationName:0,elapsedTime:0,pseudoElement:0})),ur=Jt(f({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),dr=Jt(f({},tr,{data:0})),hr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=pr[e])&&!!t[e]}function gr(){return mr}var vr=Jt(f({},nr,{key:function(e){if(e.key){var t=hr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),yr=Jt(f({},ar,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),br=Jt(f({},nr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr})),xr=Jt(f({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0})),_r=Jt(f({},ar,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wr=Jt(f({},tr,{newState:0,oldState:0})),Sr=[9,13,27,32],jr=Ht&&"CompositionEvent"in window,kr=null;Ht&&"documentMode"in document&&(kr=document.documentMode);var Cr=Ht&&"TextEvent"in window&&!kr,Er=Ht&&(!jr||kr&&8<kr&&11>=kr),Or=String.fromCharCode(32),Pr=!1;function Nr(e,t){switch(e){case"keyup":return-1!==Sr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ar(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tr=!1;var Rr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rr[e.type]:"textarea"===t}function Lr(e,t,r,n){Lt?Mt?Mt.push(n):Mt=[n]:Lt=n,0<(t=nd(t,"onChange")).length&&(r=new rr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Mr=null,Ir=null;function Br(e){Xu(e,0)}function zr(e){if(pt(Qe(e)))return e}function Fr(e,t){if("change"===e)return t}var Hr=!1;if(Ht){var Ur;if(Ht){var Wr="oninput"in document;if(!Wr){var qr=document.createElement("div");qr.setAttribute("oninput","return;"),Wr="function"===typeof qr.oninput}Ur=Wr}else Ur=!1;Hr=Ur&&(!document.documentMode||9<document.documentMode)}function Kr(){Mr&&(Mr.detachEvent("onpropertychange",Vr),Ir=Mr=null)}function Vr(e){if("value"===e.propertyName&&zr(Ir)){var t=[];Lr(t,Ir,e,Dt(e)),zt(Br,t)}}function Yr(e,t,r){"focusin"===e?(Kr(),Ir=r,(Mr=t).attachEvent("onpropertychange",Vr)):"focusout"===e&&Kr()}function Gr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return zr(Ir)}function Xr(e,t){if("click"===e)return zr(t)}function $r(e,t){if("input"===e||"change"===e)return zr(t)}var Jr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qr(e,t){if(Jr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ne.call(t,i)||!Jr(e[i],t[i]))return!1}return!0}function Zr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function en(e,t){var r,n=Zr(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zr(n)}}function tn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?tn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rn(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=mt((e=t.contentWindow).document)}return t}function nn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var an=Ht&&"documentMode"in document&&11>=document.documentMode,sn=null,on=null,ln=null,cn=!1;function un(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;cn||null==sn||sn!==mt(n)||("selectionStart"in(n=sn)&&nn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},ln&&Qr(ln,n)||(ln=n,0<(n=nd(on,"onSelect")).length&&(t=new rr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=sn)))}function dn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var hn={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},fn={},pn={};function mn(e){if(fn[e])return fn[e];if(!hn[e])return e;var t,r=hn[e];for(t in r)if(r.hasOwnProperty(t)&&t in pn)return fn[e]=r[t];return e}Ht&&(pn=document.createElement("div").style,"AnimationEvent"in window||(delete hn.animationend.animation,delete hn.animationiteration.animation,delete hn.animationstart.animation),"TransitionEvent"in window||delete hn.transitionend.transition);var gn=mn("animationend"),vn=mn("animationiteration"),yn=mn("animationstart"),bn=mn("transitionrun"),xn=mn("transitionstart"),_n=mn("transitioncancel"),wn=mn("transitionend"),Sn=new Map,jn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(e,t){Sn.set(e,t),nt(t,[e])}jn.push("scrollEnd");var Cn="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},En=[],On=0,Pn=0;function Nn(){for(var e=On,t=Pn=On=0;t<e;){var r=En[t];En[t++]=null;var n=En[t];En[t++]=null;var i=En[t];En[t++]=null;var a=En[t];if(En[t++]=null,null!==n&&null!==i){var s=n.pending;null===s?i.next=i:(i.next=s.next,s.next=i),n.pending=i}0!==a&&Dn(r,i,a)}}function An(e,t,r,n){En[On++]=e,En[On++]=t,En[On++]=r,En[On++]=n,Pn|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function Tn(e,t,r,n){return An(e,t,r,n),Ln(e)}function Rn(e,t){return An(e,null,null,t),Ln(e)}function Dn(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var i=!1,a=e.return;null!==a;)a.childLanes|=r,null!==(n=a.alternate)&&(n.childLanes|=r),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-xe(r),null===(n=(e=a.hiddenUpdates)[i])?e[i]=[t]:n.push(t),t.lane=536870912|r),a):null}function Ln(e){if(50<qc)throw qc=0,Kc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mn={};function In(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(e,t,r,n){return new In(e,t,r,n)}function zn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fn(e,t){var r=e.alternate;return null===r?((r=Bn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Hn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Un(e,t,r,n,i,a){var o=0;if(n=e,"function"===typeof e)zn(e)&&(o=1);else if("string"===typeof e)o=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case E:return(e=Bn(31,r,t,i)).elementType=E,e.lanes=a,e;case v:return Wn(r.children,i,a,t);case y:o=8,i|=24;break;case b:return(e=Bn(12,r,t,2|i)).elementType=b,e.lanes=a,e;case S:return(e=Bn(13,r,t,i)).elementType=S,e.lanes=a,e;case j:return(e=Bn(19,r,t,i)).elementType=j,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:o=10;break e;case x:o=9;break e;case w:o=11;break e;case k:o=14;break e;case C:o=16,n=null;break e}o=29,r=Error(s(130,null===e?"null":typeof e,"")),n=null}return(t=Bn(o,r,t,i)).elementType=e,t.type=n,t.lanes=a,t}function Wn(e,t,r,n){return(e=Bn(7,e,n,t)).lanes=r,e}function qn(e,t,r){return(e=Bn(6,e,null,t)).lanes=r,e}function Kn(e){var t=Bn(18,null,null,0);return t.stateNode=e,t}function Vn(e,t,r){return(t=Bn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yn=new WeakMap;function Gn(e,t){if("object"===typeof e&&null!==e){var r=Yn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:re(t)},Yn.set(e,t),t)}return{value:e,source:t,stack:re(t)}}var Xn=[],$n=0,Jn=null,Qn=0,Zn=[],ei=0,ti=null,ri=1,ni="";function ii(e,t){Xn[$n++]=Qn,Xn[$n++]=Jn,Jn=e,Qn=t}function ai(e,t,r){Zn[ei++]=ri,Zn[ei++]=ni,Zn[ei++]=ti,ti=e;var n=ri;e=ni;var i=32-xe(n)-1;n&=~(1<<i),r+=1;var a=32-xe(t)+i;if(30<a){var s=i-i%5;a=(n&(1<<s)-1).toString(32),n>>=s,i-=s,ri=1<<32-xe(t)+i|r<<i|n,ni=a+e}else ri=1<<a|r<<i|n,ni=e}function si(e){null!==e.return&&(ii(e,1),ai(e,1,0))}function oi(e){for(;e===Jn;)Jn=Xn[--$n],Xn[$n]=null,Qn=Xn[--$n],Xn[$n]=null;for(;e===ti;)ti=Zn[--ei],Zn[ei]=null,ni=Zn[--ei],Zn[ei]=null,ri=Zn[--ei],Zn[ei]=null}function li(e,t){Zn[ei++]=ri,Zn[ei++]=ni,Zn[ei++]=ti,ri=t.id,ni=t.overflow,ti=e}var ci=null,ui=null,di=!1,hi=null,fi=!1,pi=Error(s(519));function mi(e){throw _i(Gn(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),pi}function gi(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[He]=e,t[Ue]=n,r){case"dialog":$u("cancel",t),$u("close",t);break;case"iframe":case"object":case"embed":$u("load",t);break;case"video":case"audio":for(r=0;r<Yu.length;r++)$u(Yu[r],t);break;case"source":$u("error",t);break;case"img":case"image":case"link":$u("error",t),$u("load",t);break;case"details":$u("toggle",t);break;case"input":$u("invalid",t),bt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":$u("invalid",t);break;case"textarea":$u("invalid",t),St(t,n.value,n.defaultValue,n.children)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||cd(t.textContent,r)?(null!=n.popover&&($u("beforetoggle",t),$u("toggle",t)),null!=n.onScroll&&$u("scroll",t),null!=n.onScrollEnd&&$u("scrollend",t),null!=n.onClick&&(t.onclick=Tt),t=!0):t=!1,t||mi(e,!0)}function vi(e){for(ci=e.return;ci;)switch(ci.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ci=ci.return}}function yi(e){if(e!==ci)return!1;if(!di)return vi(e),di=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||bd(e.type,e.memoizedProps)),t=!t),t&&ui&&mi(e),vi(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ui=Ld(e)}else if(31===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));ui=Ld(e)}else 27===r?(r=ui,Cd(e.type)?(e=Dd,Dd=null,ui=e):ui=r):ui=ci?Rd(e.stateNode.nextSibling):null;return!0}function bi(){ui=ci=null,di=!1}function xi(){var e=hi;return null!==e&&(null===Nc?Nc=e:Nc.push.apply(Nc,e),hi=null),e}function _i(e){null===hi?hi=[e]:hi.push(e)}var wi=z(null),Si=null,ji=null;function ki(e,t,r){H(wi,t._currentValue),t._currentValue=r}function Ci(e){e._currentValue=wi.current,F(wi)}function Ei(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Oi(e,t,r,n){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=r,null!==(l=a.alternate)&&(l.lanes|=r),Ei(a.return,r,e),n||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=r,null!==(a=o.alternate)&&(a.lanes|=r),Ei(o,r,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Pi(e,t,r,n){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Jr(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===Y.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(uh):e=[uh])}i=i.return}null!==e&&Oi(t,e,r,n),t.flags|=262144}function Ni(e){for(e=e.firstContext;null!==e;){if(!Jr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ai(e){Si=e,ji=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Di(Si,e)}function Ri(e,t){return null===Si&&Ai(e),Di(e,t)}function Di(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===ji){if(null===e)throw Error(s(308));ji=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ji=ji.next=t;return r}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mi=n.unstable_scheduleCallback,Ii=n.unstable_NormalPriority,Bi={$$typeof:_,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Li,data:new Map,refCount:0}}function Fi(e){e.refCount--,0===e.refCount&&Mi(Ii,function(){e.controller.abort()})}var Hi=null,Ui=0,Wi=0,qi=null;function Ki(){if(0===--Ui&&null!==Hi){null!==qi&&(qi.status="fulfilled");var e=Hi;Hi=null,Wi=0,qi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=D.S;D.S=function(e,t){Rc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Hi){var r=Hi=[];Ui=0,Wi=Uu(),qi={status:"pending",value:void 0,then:function(e){r.push(e)}}}Ui++,t.then(Ki,Ki)}(0,t),null!==Vi&&Vi(e,t)};var Yi=z(null);function Gi(){var e=Yi.current;return null!==e?e:pc.pooledCache}function Xi(e,t){H(Yi,null===t?Yi.current:t.pool)}function $i(){var e=Gi();return null===e?null:{parent:Bi._currentValue,pool:e}}var Ji=Error(s(460)),Qi=Error(s(474)),Zi=Error(s(542)),ea={then:function(){}};function ta(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ra(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then(Tt,Tt),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw sa(e=t.reason),e;default:if("string"===typeof t.status)t.then(Tt,Tt);else{if(null!==(e=pc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw sa(e=t.reason),e}throw ia=t,Ji}}function na(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"===typeof t&&"function"===typeof t.then)throw ia=t,Ji;throw t}}var ia=null;function aa(){if(null===ia)throw Error(s(459));var e=ia;return ia=null,e}function sa(e){if(e===Ji||e===Zi)throw Error(s(483))}var oa=null,la=0;function ca(e){var t=la;return la+=1,null===oa&&(oa=[]),ra(oa,e,t)}function ua(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function da(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ha(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Fn(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=qn(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){var a=r.type;return a===v?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===C&&na(a)===t.type)?(ua(t=i(t,r.props),r),t.return=e,t):(ua(t=Un(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Vn(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function d(e,t,r,n,a){return null===t||7!==t.tag?((t=Wn(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=qn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return ua(r=Un(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case g:return(t=Vn(t,e.mode,r)).return=e,t;case C:return h(e,t=na(t),r)}if(R(t)||N(t))return(t=Wn(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return h(e,ca(t),r);if(t.$$typeof===_)return h(e,Ri(e,t),r);da(e,t)}return null}function f(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==i?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return r.key===i?c(e,t,r,n):null;case g:return r.key===i?u(e,t,r,n):null;case C:return f(e,t,r=na(r),n)}if(R(r)||N(r))return null!==i?null:d(e,t,r,n,null);if("function"===typeof r.then)return f(e,t,ca(r),n);if(r.$$typeof===_)return f(e,t,Ri(e,r),n);da(e,r)}return null}function p(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return l(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return c(t,e=e.get(null===n.key?r:n.key)||null,n,i);case g:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i);case C:return p(e,t,r,n=na(n),i)}if(R(n)||N(n))return d(t,e=e.get(r)||null,n,i,null);if("function"===typeof n.then)return p(e,t,r,ca(n),i);if(n.$$typeof===_)return p(e,t,r,Ri(t,n),i);da(t,n)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){r(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===C&&na(b)===c.type){r(l,c.sibling),ua(d=i(c,u.props),u),d.return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Wn(u.props.children,l.mode,d,u.key)).return=l,l=d):(ua(d=Un(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){r(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}r(l,c);break}t(l,c),c=c.sibling}(d=Vn(u,l.mode,d)).return=l,l=d}return o(l);case C:return y(l,c,u=na(u),d)}if(R(u))return function(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return r(i,d),di&&ii(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return di&&ii(i,m),c}for(d=n(d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),di&&ii(i,m),c}(l,c,u,d);if(N(u)){if("function"!==typeof(b=N(u)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return r(i,m),di&&ii(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return di&&ii(i,g),u}for(m=n(m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),di&&ii(i,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,ca(u),d);if(u.$$typeof===_)return y(l,c,Ri(l,u),d);da(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(r(l,c.sibling),(d=i(c,u)).return=l,l=d):(r(l,c),(d=qn(u,l.mode,d)).return=l,l=d),o(l)):r(l,c)}return function(e,t,r,n){try{la=0;var i=y(e,t,r,n);return oa=null,i}catch(s){if(s===Ji||s===Zi)throw s;var a=Bn(29,s,null,e.mode);return a.lanes=n,a.return=e,a}}}var fa=ha(!0),pa=ha(!1),ma=!1;function ga(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function va(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ya(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ba(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&fc)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=Ln(e),Dn(e,null,r),t}return An(e,n,t,r),Ln(e)}function xa(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,De(e,r)}}function _a(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var s={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,r=r.next}while(null!==r);null===a?i=a=t:a=a.next=t}else i=a=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var wa=!1;function Sa(){if(wa){if(null!==qi)throw qi}}function ja(e,t,r,n){wa=!1;var i=e.updateQueue;ma=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(gc&h)===h:(n&h)===h){0!==h&&h===Wi&&(wa=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var v=r;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:ma=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),jc|=s,e.lanes=s,e.memoizedState=d}}function ka(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Ca(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)ka(r[e],t)}var Ea=z(null),Oa=z(0);function Pa(e,t){H(Oa,e=wc),H(Ea,t),wc=e|t.baseLanes}function Na(){H(Oa,wc),H(Ea,Ea.current)}function Aa(){wc=Oa.current,F(Ea),F(Oa)}var Ta=z(null),Ra=null;function Da(e){var t=e.alternate;H(za,1&za.current),H(Ta,e),null===Ra&&(null===t||null!==Ea.current||null!==t.memoizedState)&&(Ra=e)}function La(e){H(za,za.current),H(Ta,e),null===Ra&&(Ra=e)}function Ma(e){22===e.tag?(H(za,za.current),H(Ta,e),null===Ra&&(Ra=e)):Ia()}function Ia(){H(za,za.current),H(Ta,Ta.current)}function Ba(e){F(Ta),Ra===e&&(Ra=null),F(za)}var za=z(0);function Fa(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||Ad(r)||Td(r)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ha=0,Ua=null,Wa=null,qa=null,Ka=!1,Va=!1,Ya=!1,Ga=0,Xa=0,$a=null,Ja=0;function Qa(){throw Error(s(321))}function Za(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jr(e[r],t[r]))return!1;return!0}function es(e,t,r,n,i,a){return Ha=a,Ua=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?go:vo,Ya=!1,a=r(n,i),Ya=!1,Va&&(a=rs(t,r,n,i)),ts(e),a}function ts(e){D.H=mo;var t=null!==Wa&&null!==Wa.next;if(Ha=0,qa=Wa=Ua=null,Ka=!1,Xa=0,$a=null,t)throw Error(s(300));null===e||Ro||null!==(e=e.dependencies)&&Ni(e)&&(Ro=!0)}function rs(e,t,r,n){Ua=e;var i=0;do{if(Va&&($a=null),Xa=0,Va=!1,25<=i)throw Error(s(301));if(i+=1,qa=Wa=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}D.H=yo,a=t(r,n)}while(Va);return a}function ns(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?cs(t):t,e=e.useState()[0],(null!==Wa?Wa.memoizedState:null)!==e&&(Ua.flags|=1024),t}function is(){var e=0!==Ga;return Ga=0,e}function as(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function ss(e){if(Ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ka=!1}Ha=0,qa=Wa=Ua=null,Va=!1,Xa=Ga=0,$a=null}function os(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===qa?Ua.memoizedState=qa=e:qa=qa.next=e,qa}function ls(){if(null===Wa){var e=Ua.alternate;e=null!==e?e.memoizedState:null}else e=Wa.next;var t=null===qa?Ua.memoizedState:qa.next;if(null!==t)qa=t,Wa=e;else{if(null===e){if(null===Ua.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Wa=e).memoizedState,baseState:Wa.baseState,baseQueue:Wa.baseQueue,queue:Wa.queue,next:null},null===qa?Ua.memoizedState=qa=e:qa=qa.next=e}return qa}function cs(e){var t=Xa;return Xa+=1,null===$a&&($a=[]),e=ra($a,e,t),t=Ua,null===(null===qa?t.memoizedState:qa.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?go:vo),e}function us(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return cs(e);if(e.$$typeof===_)return Ti(e)}throw Error(s(438,String(e)))}function ds(e){var t=null,r=Ua.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=Ua.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},Ua.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=O;return t.index++,r}function hs(e,t){return"function"===typeof t?t(e):t}function fs(e){return ps(ls(),Wa,e)}function ps(e,t,r){var n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=r;var i=e.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,n.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(gc&h)===h:(Ha&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Wi&&(d=!0);else{if((Ha&f)===f){u=u.next,f===Wi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,Ua.lanes|=f,jc|=f}h=u.action,Ya&&r(a,h),a=u.hasEagerState?u.eagerState:r(a,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,Ua.lanes|=h,jc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Jr(a,e.memoizedState)&&(Ro=!0,d&&null!==(r=qi)))throw r;e.memoizedState=a,e.baseState=o,e.baseQueue=c,n.lastRenderedState=a}return null===i&&(n.lanes=0),[e.memoizedState,n.dispatch]}function ms(e){var t=ls(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Jr(a,t.memoizedState)||(Ro=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function gs(e,t,r){var n=Ua,i=ls(),a=di;if(a){if(void 0===r)throw Error(s(407));r=r()}else r=t();var o=!Jr((Wa||i).memoizedState,r);if(o&&(i.memoizedState=r,Ro=!0),i=i.queue,Hs(bs.bind(null,n,i,e),[e]),i.getSnapshot!==t||o||null!==qa&&1&qa.memoizedState.tag){if(n.flags|=2048,Ms(9,{destroy:void 0},ys.bind(null,n,i,r,t),null),null===pc)throw Error(s(349));a||0!==(127&Ha)||vs(n,t,r)}return r}function vs(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=Ua.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ua.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function ys(e,t,r,n){t.value=r,t.getSnapshot=n,xs(t)&&_s(e)}function bs(e,t,r){return r(function(){xs(t)&&_s(e)})}function xs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jr(e,r)}catch(n){return!0}}function _s(e){var t=Rn(e,2);null!==t&&Gc(t,e,2)}function ws(e){var t=os();if("function"===typeof e){var r=e;if(e=r(),Ya){be(!0);try{r()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:e},t}function Ss(e,t,r,n){return e.baseState=r,ps(e,Wa,"function"===typeof n?n:hs)}function js(e,t,r,n,i){if(ho(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==D.T?r(!0):a.isTransition=!1,n(a),null===(r=t.pending)?(a.next=t.pending=a,ks(t,a)):(a.next=r.next,t.pending=r.next=a)}}function ks(e,t){var r=t.action,n=t.payload,i=e.state;if(t.isTransition){var a=D.T,s={};D.T=s;try{var o=r(i,n),l=D.S;null!==l&&l(s,o),Cs(e,t,o)}catch(c){Os(e,t,c)}finally{null!==a&&null!==s.types&&(a.types=s.types),D.T=a}}else try{Cs(e,t,a=r(i,n))}catch(u){Os(e,t,u)}}function Cs(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){Es(e,t,r)},function(r){return Os(e,t,r)}):Es(e,t,r)}function Es(e,t,r){t.status="fulfilled",t.value=r,Ps(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,ks(e,r)))}function Os(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,Ps(t),t=t.next}while(t!==n)}e.action=null}function Ps(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ns(e,t){return t}function As(e,t){if(di){var r=pc.formState;if(null!==r){e:{var n=Ua;if(di){if(ui){t:{for(var i=ui,a=fi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Rd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ui=Rd(i.nextSibling),n="F!"===i.data;break e}}mi(n)}n=!1}n&&(t=r[0])}}return(r=os()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ns,lastRenderedState:t},r.queue=n,r=lo.bind(null,Ua,n),n.dispatch=r,n=ws(!1),a=uo.bind(null,Ua,!1,n.queue),i={state:t,dispatch:null,action:e,pending:null},(n=os()).queue=i,r=js.bind(null,Ua,i,a,r),i.dispatch=r,n.memoizedState=e,[t,r,!1]}function Ts(e){return Rs(ls(),Wa,e)}function Rs(e,t,r){if(t=ps(e,t,Ns)[0],e=fs(hs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=cs(t)}catch(s){if(s===Ji)throw Zi;throw s}else n=t;var i=(t=ls()).queue,a=i.dispatch;return r!==t.memoizedState&&(Ua.flags|=2048,Ms(9,{destroy:void 0},Ds.bind(null,i,r),null)),[n,a,e]}function Ds(e,t){e.action=t}function Ls(e){var t=ls(),r=Wa;if(null!==r)return Rs(t,r,e);ls(),t=t.memoizedState;var n=(r=ls()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function Ms(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=Ua.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ua.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Is(){return ls().memoizedState}function Bs(e,t,r,n){var i=os();Ua.flags|=e,i.memoizedState=Ms(1|t,{destroy:void 0},r,void 0===n?null:n)}function zs(e,t,r,n){var i=ls();n=void 0===n?null:n;var a=i.memoizedState.inst;null!==Wa&&null!==n&&Za(n,Wa.memoizedState.deps)?i.memoizedState=Ms(t,a,r,n):(Ua.flags|=e,i.memoizedState=Ms(1|t,a,r,n))}function Fs(e,t){Bs(8390656,8,e,t)}function Hs(e,t){zs(2048,8,e,t)}function Us(e){var t=ls().memoizedState;return function(e){Ua.flags|=4;var t=Ua.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ua.updateQueue=t,t.events=[e];else{var r=t.events;null===r?t.events=[e]:r.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Ws(e,t){return zs(4,2,e,t)}function qs(e,t){return zs(4,4,e,t)}function Ks(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Vs(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,zs(4,4,Ks.bind(null,t,e),r)}function Ys(){}function Gs(e,t){var r=ls();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&Za(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Xs(e,t){var r=ls();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&Za(t,n[1]))return n[0];if(n=e(),Ya){be(!0);try{e()}finally{be(!1)}}return r.memoizedState=[n,t],n}function $s(e,t,r){return void 0===r||0!==(1073741824&Ha)&&0===(261930&gc)?e.memoizedState=t:(e.memoizedState=r,e=Yc(),Ua.lanes|=e,jc|=e,r)}function Js(e,t,r,n){return Jr(r,t)?r:null!==Ea.current?(e=$s(e,r,n),Jr(e,t)||(Ro=!0),e):0===(42&Ha)||0!==(1073741824&Ha)&&0===(261930&gc)?(Ro=!0,e.memoizedState=r):(e=Yc(),Ua.lanes|=e,jc|=e,t)}function Qs(e,t,r,n,i){var a=L.p;L.p=0!==a&&8>a?a:8;var s=D.T,o={};D.T=o,uo(e,!1,t,r);try{var l=i(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)co(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(l,n),Vc());else co(e,t,n,Vc())}catch(u){co(e,t,{then:function(){},status:"rejected",reason:u},Vc())}finally{L.p=a,null!==s&&null!==o.types&&(s.types=o.types),D.T=s}}function Zs(){}function eo(e,t,r,n){if(5!==e.tag)throw Error(s(476));var i=to(e).queue;Qs(e,i,t,M,null===r?Zs:function(){return ro(e),r(n)})}function to(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:M},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hs,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=to(e);null===t.next&&(t=e.alternate.memoizedState),co(e,t.next.queue,{},Vc())}function no(){return Ti(uh)}function io(){return ls().memoizedState}function ao(){return ls().memoizedState}function so(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Vc(),n=ba(t,e=ya(r),r);return null!==n&&(Gc(n,t,r),xa(n,t,r)),t={cache:zi()},void(e.payload=t)}t=t.return}}function oo(e,t,r){var n=Vc();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},ho(e)?fo(t,r):null!==(r=Tn(e,t,r,n))&&(Gc(r,e,n),po(r,t,n))}function lo(e,t,r){co(e,t,r,Vc())}function co(e,t,r,n){var i={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(ho(e))fo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,r);if(i.hasEagerState=!0,i.eagerState=o,Jr(o,s))return An(e,t,i,0),null===pc&&Nn(),!1}catch(l){}if(null!==(r=Tn(e,t,i,n)))return Gc(r,e,n),po(r,t,n),!0}return!1}function uo(e,t,r,n){if(n={lane:2,revertLane:Uu(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},ho(e)){if(t)throw Error(s(479))}else null!==(t=Tn(e,r,n,2))&&Gc(t,e,2)}function ho(e){var t=e.alternate;return e===Ua||null!==t&&t===Ua}function fo(e,t){Va=Ka=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function po(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,De(e,r)}}var mo={readContext:Ti,use:us,useCallback:Qa,useContext:Qa,useEffect:Qa,useImperativeHandle:Qa,useLayoutEffect:Qa,useInsertionEffect:Qa,useMemo:Qa,useReducer:Qa,useRef:Qa,useState:Qa,useDebugValue:Qa,useDeferredValue:Qa,useTransition:Qa,useSyncExternalStore:Qa,useId:Qa,useHostTransitionStatus:Qa,useFormState:Qa,useActionState:Qa,useOptimistic:Qa,useMemoCache:Qa,useCacheRefresh:Qa};mo.useEffectEvent=Qa;var go={readContext:Ti,use:us,useCallback:function(e,t){return os().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:Fs,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,Bs(4194308,4,Ks.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){Bs(4,2,e,t)},useMemo:function(e,t){var r=os();t=void 0===t?null:t;var n=e();if(Ya){be(!0);try{e()}finally{be(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=os();if(void 0!==r){var i=r(t);if(Ya){be(!0);try{r(t)}finally{be(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=oo.bind(null,Ua,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},os().memoizedState=e},useState:function(e){var t=(e=ws(e)).queue,r=lo.bind(null,Ua,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Ys,useDeferredValue:function(e,t){return $s(os(),e,t)},useTransition:function(){var e=ws(!1);return e=Qs.bind(null,Ua,e.queue,!0,!1),os().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=Ua,i=os();if(di){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===pc)throw Error(s(349));0!==(127&gc)||vs(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,Fs(bs.bind(null,n,a,e),[e]),n.flags|=2048,Ms(9,{destroy:void 0},ys.bind(null,n,a,r,t),null),r},useId:function(){var e=os(),t=pc.identifierPrefix;if(di){var r=ni;t="_"+t+"R_"+(r=(ri&~(1<<32-xe(ri)-1)).toString(32)+r),0<(r=Ga++)&&(t+="H"+r.toString(32)),t+="_"}else t="_"+t+"r_"+(r=Ja++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:no,useFormState:As,useActionState:As,useOptimistic:function(e){var t=os();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=uo.bind(null,Ua,!0,r),r.dispatch=t,[e,t]},useMemoCache:ds,useCacheRefresh:function(){return os().memoizedState=so.bind(null,Ua)},useEffectEvent:function(e){var t=os(),r={impl:e};return t.memoizedState=r,function(){if(0!==(2&fc))throw Error(s(440));return r.impl.apply(void 0,arguments)}}},vo={readContext:Ti,use:us,useCallback:Gs,useContext:Ti,useEffect:Hs,useImperativeHandle:Vs,useInsertionEffect:Ws,useLayoutEffect:qs,useMemo:Xs,useReducer:fs,useRef:Is,useState:function(){return fs(hs)},useDebugValue:Ys,useDeferredValue:function(e,t){return Js(ls(),Wa.memoizedState,e,t)},useTransition:function(){var e=fs(hs)[0],t=ls().memoizedState;return["boolean"===typeof e?e:cs(e),t]},useSyncExternalStore:gs,useId:io,useHostTransitionStatus:no,useFormState:Ts,useActionState:Ts,useOptimistic:function(e,t){return Ss(ls(),0,e,t)},useMemoCache:ds,useCacheRefresh:ao};vo.useEffectEvent=Us;var yo={readContext:Ti,use:us,useCallback:Gs,useContext:Ti,useEffect:Hs,useImperativeHandle:Vs,useInsertionEffect:Ws,useLayoutEffect:qs,useMemo:Xs,useReducer:ms,useRef:Is,useState:function(){return ms(hs)},useDebugValue:Ys,useDeferredValue:function(e,t){var r=ls();return null===Wa?$s(r,e,t):Js(r,Wa.memoizedState,e,t)},useTransition:function(){var e=ms(hs)[0],t=ls().memoizedState;return["boolean"===typeof e?e:cs(e),t]},useSyncExternalStore:gs,useId:io,useHostTransitionStatus:no,useFormState:Ls,useActionState:Ls,useOptimistic:function(e,t){var r=ls();return null!==Wa?Ss(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:ds,useCacheRefresh:ao};function bo(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:f({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}yo.useEffectEvent=Us;var xo={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Vc(),i=ya(n);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=ba(e,i,n))&&(Gc(t,e,n),xa(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Vc(),i=ya(n);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=ba(e,i,n))&&(Gc(t,e,n),xa(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Vc(),n=ya(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=ba(e,n,r))&&(Gc(t,e,r),xa(t,e,r))}};function _o(e,t,r,n,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!Qr(r,n)||!Qr(i,a))}function wo(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function So(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var i in r===t&&(r=f({},r)),e)void 0===r[i]&&(r[i]=e[i]);return r}function jo(e){Cn(e)}function ko(e){console.error(e)}function Co(e){Cn(e)}function Eo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function Oo(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Po(e,t,r){return(r=ya(r)).tag=3,r.payload={element:null},r.callback=function(){Eo(e,t)},r}function No(e){return(e=ya(e)).tag=3,e}function Ao(e,t,r,n){var i=r.type.getDerivedStateFromError;if("function"===typeof i){var a=n.value;e.payload=function(){return i(a)},e.callback=function(){Oo(t,r,n)}}var s=r.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Oo(t,r,n),"function"!==typeof i&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var To=Error(s(461)),Ro=!1;function Do(e,t,r,n){t.child=null===e?pa(t,null,r,n):fa(t,e.child,r,n)}function Lo(e,t,r,n,i){r=r.render;var a=t.ref;if("ref"in n){var s={};for(var o in n)"ref"!==o&&(s[o]=n[o])}else s=n;return Ai(t),n=es(e,t,r,s,a,i),o=is(),null===e||Ro?(di&&o&&si(t),t.flags|=1,Do(e,t,n,i),t.child):(as(e,t,i),il(e,t,i))}function Mo(e,t,r,n,i){if(null===e){var a=r.type;return"function"!==typeof a||zn(a)||void 0!==a.defaultProps||null!==r.compare?((e=Un(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Io(e,t,a,n,i))}if(a=e.child,!al(e,i)){var s=a.memoizedProps;if((r=null!==(r=r.compare)?r:Qr)(s,n)&&e.ref===t.ref)return il(e,t,i)}return t.flags|=1,(e=Fn(a,n)).ref=t.ref,e.return=t,t.child=e}function Io(e,t,r,n,i){if(null!==e){var a=e.memoizedProps;if(Qr(a,n)&&e.ref===t.ref){if(Ro=!1,t.pendingProps=n=a,!al(e,i))return t.lanes=e.lanes,il(e,t,i);0!==(131072&e.flags)&&(Ro=!0)}}return qo(e,t,r,n,i)}function Bo(e,t,r,n){var i=n.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===n.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|r:r,null!==e){for(n=t.child=e.child,i=0;null!==n;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~a}else n=0,t.child=null;return Fo(e,t,a,r,n)}if(0===(536870912&r))return n=t.lanes=536870912,Fo(e,t,null!==a?a.baseLanes|r:r,r,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xi(0,null!==a?a.cachePool:null),null!==a?Pa(t,a):Na(),Ma(t)}else null!==a?(Xi(0,a.cachePool),Pa(t,a),Ia(),t.memoizedState=null):(null!==e&&Xi(0,null),Na(),Ia());return Do(e,t,i,r),t.child}function zo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Fo(e,t,r,n,i){var a=Gi();return a=null===a?null:{parent:Bi._currentValue,pool:a},t.memoizedState={baseLanes:r,cachePool:a},null!==e&&Xi(0,null),Na(),Ma(t),null!==e&&Pi(e,t,n,!0),t.childLanes=i,null}function Ho(e,t){return(t=Zo({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Uo(e,t,r){return fa(t,e.child,null,r),(e=Ho(t,t.pendingProps)).flags|=2,Ba(t),t.memoizedState=null,e}function Wo(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(s(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function qo(e,t,r,n,i){return Ai(t),r=es(e,t,r,n,void 0,i),n=is(),null===e||Ro?(di&&n&&si(t),t.flags|=1,Do(e,t,r,i),t.child):(as(e,t,i),il(e,t,i))}function Ko(e,t,r,n,i,a){return Ai(t),t.updateQueue=null,r=rs(t,n,r,i),ts(e),n=is(),null===e||Ro?(di&&n&&si(t),t.flags|=1,Do(e,t,r,a),t.child):(as(e,t,a),il(e,t,a))}function Vo(e,t,r,n,i){if(Ai(t),null===t.stateNode){var a=Mn,s=r.contextType;"object"===typeof s&&null!==s&&(a=Ti(s)),a=new r(n,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=xo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=n,a.state=t.memoizedState,a.refs={},ga(t),s=r.contextType,a.context="object"===typeof s&&null!==s?Ti(s):Mn,a.state=t.memoizedState,"function"===typeof(s=r.getDerivedStateFromProps)&&(bo(t,r,s,n),a.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&xo.enqueueReplaceState(a,a.state,null),ja(t,n,a,i),Sa(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=So(r,o);a.props=l;var c=a.context,u=r.contextType;s=Mn,"object"===typeof u&&null!==u&&(s=Ti(u));var d=r.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&wo(t,a,n,s),ma=!1;var h=t.memoizedState;a.state=h,ja(t,n,a,i),Sa(),c=t.memoizedState,o||h!==c||ma?("function"===typeof d&&(bo(t,r,d,n),c=t.memoizedState),(l=ma||_o(t,r,l,n,h,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=s,n=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,va(e,t),u=So(r,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=r.contextType,l=Mn,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(o=r.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&wo(t,a,n,l),ma=!1,h=t.memoizedState,a.state=h,ja(t,n,a,i),Sa();var f=t.memoizedState;s!==d||h!==f||ma||null!==e&&null!==e.dependencies&&Ni(e.dependencies)?("function"===typeof o&&(bo(t,r,o,n),f=t.memoizedState),(u=ma||_o(t,r,u,n,h,f,l)||null!==e&&null!==e.dependencies&&Ni(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),a.props=n,a.state=f,a.context=l,n=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return a=n,Wo(e,t),n=0!==(128&t.flags),a||n?(a=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&n?(t.child=fa(t,e.child,null,i),t.child=fa(t,null,r,i)):Do(e,t,r,i),t.memoizedState=a.state,e=t.child):e=il(e,t,i),e}function Yo(e,t,r,n){return bi(),t.flags|=256,Do(e,t,r,n),t.child}var Go={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:$i()}}function $o(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=Ec),e}function Jo(e,t,r){var n,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((n=o)||(n=(null===e||null!==e.memoizedState)&&0!==(2&za.current)),n&&(a=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(di){if(a?Da(t):Ia(),(e=ui)?null!==(e=null!==(e=Nd(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ri,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},(r=Kn(e)).return=t,t.child=r,ci=t,ui=null):e=null,null===e)throw mi(t);return Td(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,a?(Ia(),l=Zo({mode:"hidden",children:l},a=t.mode),i=Wn(i,a,r,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Xo(r),i.childLanes=$o(e,n,r),t.memoizedState=Go,zo(null,i)):(Da(t),Qo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Da(t),t.flags&=-257,t=el(e,t,r)):null!==t.memoizedState?(Ia(),t.child=e.child,t.flags|=128,t=null):(Ia(),l=i.fallback,a=t.mode,i=Zo({mode:"visible",children:i.children},a),(l=Wn(l,a,r,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,fa(t,e.child,null,r),(i=t.child).memoizedState=Xo(r),i.childLanes=$o(e,n,r),t.memoizedState=Go,t=zo(null,i));else if(Da(t),Td(l)){if(n=l.nextSibling&&l.nextSibling.dataset)var u=n.dgst;n=u,(i=Error(s(419))).stack="",i.digest=n,_i({value:i,source:null,stack:null}),t=el(e,t,r)}else if(Ro||Pi(e,t,r,!1),n=0!==(r&e.childLanes),Ro||n){if(null!==(n=pc)&&(0!==(i=Le(n,r))&&i!==c.retryLane))throw c.retryLane=i,Rn(e,i),Gc(n,e,i),To;Ad(l)||su(),t=el(e,t,r)}else Ad(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ui=Rd(l.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=Qo(t,i.children)).flags|=4096);return t}return a?(Ia(),l=i.fallback,a=t.mode,u=(c=e.child).sibling,(i=Fn(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Fn(u,l):(l=Wn(l,a,r,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,zo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Xo(r):(null!==(a=l.cachePool)?(c=Bi._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=$i(),l={baseLanes:l.baseLanes|r,cachePool:a}),i.memoizedState=l,i.childLanes=$o(e,n,r),t.memoizedState=Go,zo(e.child,i)):(Da(t),e=(r=e.child).sibling,(r=Fn(r,{mode:"visible",children:i.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function Qo(e,t){return(t=Zo({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Zo(e,t){return(e=Bn(22,e,null,t)).lanes=0,e}function el(e,t,r){return fa(t,e.child,null,r),(e=Qo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function tl(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ei(e.return,t,r)}function rl(e,t,r,n,i,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i,s.treeForkCount=a)}function nl(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;n=n.children;var s=za.current,o=0!==(2&s);if(o?(s=1&s|2,t.flags|=128):s&=1,H(za,s),Do(e,t,n,r),n=di?Qn:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&tl(e,r,t);else if(19===e.tag)tl(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===Fa(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),rl(t,!1,i,r,a,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Fa(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}rl(t,!0,r,null,a,n);break;case"together":rl(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function il(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),jc|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Pi(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Fn(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Fn(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function al(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ni(e))}function sl(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ro=!0;else{if(!al(e,r)&&0===(128&t.flags))return Ro=!1,function(e,t,r){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),ki(0,Bi,e.memoizedState.cache),bi();break;case 27:case 5:$(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:ki(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,La(t),null;break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(Da(t),t.flags|=128,null):0!==(r&t.child.childLanes)?Jo(e,t,r):(Da(t),null!==(e=il(e,t,r))?e.sibling:null);Da(t);break;case 19:var i=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(Pi(e,t,r,!1),n=0!==(r&t.childLanes)),i){if(n)return nl(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),H(za,za.current),n)break;return null;case 22:return t.lanes=0,Bo(e,t,r,t.pendingProps);case 24:ki(0,Bi,e.memoizedState.cache)}return il(e,t,r)}(e,t,r);Ro=0!==(131072&e.flags)}else Ro=!1,di&&0!==(1048576&t.flags)&&ai(t,Qn,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=na(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===w){t.tag=11,t=Lo(null,t,e,n,r);break e}if(i===k){t.tag=14,t=Mo(null,t,e,n,r);break e}}throw t=T(e)||e,Error(s(306,t,""))}zn(e)?(n=So(e,n),t.tag=1,t=Vo(null,t,e,n,r)):(t.tag=0,t=qo(null,t,e,n,r))}return t;case 0:return qo(e,t,t.type,t.pendingProps,r);case 1:return Vo(e,t,n=t.type,i=So(n,t.pendingProps),r);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(s(387));n=t.pendingProps;var a=t.memoizedState;i=a.element,va(e,t),ja(t,n,null,r);var o=t.memoizedState;if(n=o.cache,ki(0,Bi,n),n!==a.cache&&Oi(t,[Bi],r,!0),Sa(),n=o.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Yo(e,t,n,r);break e}if(n!==i){_i(i=Gn(Error(s(424)),t)),t=Yo(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ui=Rd(e.firstChild),ci=t,di=!0,hi=null,fi=!0,r=pa(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(bi(),n===i){t=il(e,t,r);break e}Do(e,t,n,r)}t=t.child}return t;case 26:return Wo(e,t),null===e?(r=Kd(t.type,null,t.pendingProps,null))?t.memoizedState=r:di||(r=t.type,e=t.pendingProps,(n=gd(V.current).createElement(r))[He]=t,n[Ue]=e,hd(n,r,e),et(n),t.stateNode=n):t.memoizedState=Kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&di&&(n=t.stateNode=Id(t.type,t.pendingProps,V.current),ci=t,fi=!0,i=ui,Cd(t.type)?(Dd=i,ui=Rd(n.firstChild)):ui=i),Do(e,t,t.pendingProps.children,r),Wo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&di&&((i=n=ui)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var i=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Rd(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,fi))?(t.stateNode=n,ci=t,ui=Rd(n.firstChild),fi=!1,i=!0):i=!1),i||mi(t)),$(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,n=a.children,bd(i,a)?n=null:null!==o&&bd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=es(e,t,ns,null,null,r),uh._currentValue=i),Wo(e,t),Do(e,t,n,r),t.child;case 6:return null===e&&di&&((e=r=ui)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}(r,t.pendingProps,fi))?(t.stateNode=r,ci=t,ui=null,e=!0):e=!1),e||mi(t)),null;case 13:return Jo(e,t,r);case 4:return G(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=fa(t,null,n,r):Do(e,t,n,r),t.child;case 11:return Lo(e,t,t.type,t.pendingProps,r);case 7:return Do(e,t,t.pendingProps,r),t.child;case 8:case 12:return Do(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,ki(0,t.type,n.value),Do(e,t,n.children,r),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Ai(t),n=n(i=Ti(i)),t.flags|=1,Do(e,t,n,r),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,r);case 15:return Io(e,t,t.type,t.pendingProps,r);case 19:return nl(e,t,r);case 31:return function(e,t,r){var n=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(di){if("hidden"===n.mode)return e=Ho(t,n),t.lanes=536870912,zo(null,e);if(La(t),(e=ui)?null!==(e=null!==(e=Nd(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ti?{id:ri,overflow:ni}:null,retryLane:536870912,hydrationErrors:null},(r=Kn(e)).return=t,t.child=r,ci=t,ui=null):e=null,null===e)throw mi(t);return t.lanes=536870912,null}return Ho(t,n)}var a=e.memoizedState;if(null!==a){var o=a.dehydrated;if(La(t),i)if(256&t.flags)t.flags&=-257,t=Uo(e,t,r);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Ro||Pi(e,t,r,!1),i=0!==(r&e.childLanes),Ro||i){if(null!==(n=pc)&&0!==(o=Le(n,r))&&o!==a.retryLane)throw a.retryLane=o,Rn(e,o),Gc(n,e,o),To;su(),t=Uo(e,t,r)}else e=a.treeContext,ui=Rd(o.nextSibling),ci=t,di=!0,hi=null,fi=!1,null!==e&&li(t,e),(t=Ho(t,n)).flags|=4096;return t}return(e=Fn(e.child,{mode:n.mode,children:n.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,r);case 22:return Bo(e,t,r,t.pendingProps);case 24:return Ai(t),n=Ti(Bi),null===e?(null===(i=Gi())&&(i=pc,a=zi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=r),i=a),t.memoizedState={parent:n,cache:i},ga(t),ki(0,Bi,i)):(0!==(e.lanes&r)&&(va(e,t),ja(t,null,null,r),Sa()),i=e.memoizedState,a=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),ki(0,Bi,n)):(n=a.cache,ki(0,Bi,n),n!==i.cache&&Oi(t,[Bi],r,!0))),Do(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ol(e){e.flags|=4}function ll(e,t,r,n,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!nu())throw ia=ea,Qi;e.flags|=8192}}else e.flags&=-16777217}function cl(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ih(t)){if(!nu())throw ia=ea,Qi;e.flags|=8192}}function ul(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ne():536870912,e.lanes|=t,Oc|=t)}function dl(e,t){if(!di)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function hl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=65011712&i.subtreeFlags,n|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fl(e,t,r){var n=t.pendingProps;switch(oi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return hl(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(Bi),X(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(yi(t)?ol(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xi())),hl(t),null;case 26:var i=t.type,a=t.memoizedState;return null===e?(ol(t),null!==a?(hl(t),cl(t,a)):(hl(t),ll(t,i,0,0,r))):a?a!==e.memoizedState?(ol(t),hl(t),cl(t,a)):(hl(t),t.flags&=-16777217):((e=e.memoizedProps)!==n&&ol(t),hl(t),ll(t,i,0,0,r)),null;case 27:if(J(t),r=V.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&ol(t);else{if(!n){if(null===t.stateNode)throw Error(s(166));return hl(t),null}e=q.current,yi(t)?gi(t):(e=Id(i,n,r),t.stateNode=e,ol(t))}return hl(t),null;case 5:if(J(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&ol(t);else{if(!n){if(null===t.stateNode)throw Error(s(166));return hl(t),null}if(a=q.current,yi(t))gi(t);else{var o=gd(V.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(a=o.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof n.is?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?a.multiple=!0:n.size&&(a.size=n.size);break;default:a="string"===typeof n.is?o.createElement(i,{is:n.is}):o.createElement(i)}}a[He]=t,a[Ue]=n;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)a.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch(hd(a,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ol(t)}}return hl(t),ll(t,t.type,null===e||e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&ol(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(e=V.current,yi(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(i=ci))switch(i.tag){case 27:case 5:n=i.memoizedProps}e[He]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||cd(e.nodeValue,r)))||mi(t,!0)}else(e=gd(e).createTextNode(n))[He]=t,t.stateNode=e}return hl(t),null;case 31:if(r=t.memoizedState,null===e||null!==e.memoizedState){if(n=yi(t),null!==r){if(null===e){if(!n)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[He]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),e=!1}else r=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return 256&t.flags?(Ba(t),t):(Ba(t),null);if(0!==(128&t.flags))throw Error(s(558))}return hl(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=yi(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[He]=t}else bi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;hl(t),i=!1}else i=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(Ba(t),t):(Ba(t),null)}return Ba(t),0!==(128&t.flags)?(t.lanes=r,t):(r=null!==n,e=null!==e&&null!==e.memoizedState,r&&(i=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(i=n.alternate.memoizedState.cachePool.pool),a=null,null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),ul(t,t.updateQueue),hl(t),null);case 4:return X(),null===e&&Zu(t.stateNode.containerInfo),hl(t),null;case 10:return Ci(t.type),hl(t),null;case 19:if(F(za),null===(n=t.memoizedState))return hl(t),null;if(i=0!==(128&t.flags),null===(a=n.rendering))if(i)dl(n,!1);else{if(0!==Sc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Fa(e))){for(t.flags|=128,dl(n,!1),e=a.updateQueue,t.updateQueue=e,ul(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Hn(r,e),r=r.sibling;return H(za,1&za.current|2),di&&ii(t,n.treeForkCount),t.child}e=e.sibling}null!==n.tail&&le()>Dc&&(t.flags|=128,i=!0,dl(n,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Fa(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,ul(t,e),dl(n,!0),null===n.tail&&"hidden"===n.tailMode&&!a.alternate&&!di)return hl(t),null}else 2*le()-n.renderingStartTime>Dc&&536870912!==r&&(t.flags|=128,i=!0,dl(n,!1),t.lanes=4194304);n.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=n.last)?e.sibling=a:t.child=a,n.last=a)}return null!==n.tail?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=le(),e.sibling=null,r=za.current,H(za,i?1&r|2:1&r),di&&ii(t,n.treeForkCount),e):(hl(t),null);case 22:case 23:return Ba(t),Aa(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(hl(t),6&t.subtreeFlags&&(t.flags|=8192)):hl(t),null!==(r=t.updateQueue)&&ul(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&F(Yi),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ci(Bi),hl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function pl(e,t){switch(oi(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(Bi),X(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(Ba(t),null===t.alternate)throw Error(s(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Ba(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));bi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return F(za),null;case 4:return X(),null;case 10:return Ci(t.type),null;case 22:case 23:return Ba(t),Aa(),null!==e&&F(Yi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(Bi),null;default:return null}}function ml(e,t){switch(oi(t),t.tag){case 3:Ci(Bi),X();break;case 26:case 27:case 5:J(t);break;case 4:X();break;case 31:null!==t.memoizedState&&Ba(t);break;case 13:Ba(t);break;case 19:F(za);break;case 10:Ci(t.type);break;case 22:case 23:Ba(t),Aa(),null!==e&&F(Yi);break;case 24:Ci(Bi)}}function gl(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var i=n.next;r=i;do{if((r.tag&e)===e){n=void 0;var a=r.create,s=r.inst;n=a(),s.destroy=n}r=r.next}while(r!==i)}}catch(o){Su(t,t.return,o)}}function vl(e,t,r){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var a=i.next;n=a;do{if((n.tag&e)===e){var s=n.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=r,c=o;try{c()}catch(u){Su(i,l,u)}}}n=n.next}while(n!==a)}}catch(u){Su(t,t.return,u)}}function yl(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{Ca(t,r)}catch(n){Su(e,e.return,n)}}}function bl(e,t,r){r.props=So(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){Su(e,t,n)}}function xl(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(i){Su(e,t,i)}}function _l(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(i){Su(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(a){Su(e,t,a)}else r.current=null}function wl(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){Su(e,e.return,i)}}function Sl(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in r){var h=r[p];if(r.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:n.hasOwnProperty(p)||ud(e,t,p,null,n,h)}}for(var f in n){var p=n[f];if(h=r[f],n.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&ud(e,t,f,p,n,h)}}return void yt(e,o,l,c,u,d,a,i);case"select":for(a in p=o=l=f=null,r)if(c=r[a],r.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:n.hasOwnProperty(a)||ud(e,t,a,null,n,c)}for(i in n)if(a=n[i],c=r[i],n.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&ud(e,t,i,a,n,c)}return t=l,r=o,n=p,void(null!=f?_t(e,!!r,f,!1):!!n!==!!r&&(null!=t?_t(e,!!r,t,!0):_t(e,!!r,r?[]:"",!1)));case"textarea":for(l in p=f=null,r)if(i=r[l],r.hasOwnProperty(l)&&null!=i&&!n.hasOwnProperty(l))switch(l){case"value":case"children":break;default:ud(e,t,l,null,n,i)}for(o in n)if(i=n[o],a=r[o],n.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&ud(e,t,o,i,n,a)}return void wt(e,f,p);case"option":for(var m in r)if(f=r[m],r.hasOwnProperty(m)&&null!=f&&!n.hasOwnProperty(m))if("selected"===m)e.selected=!1;else ud(e,t,m,null,n,f);for(c in n)if(f=n[c],p=r[c],n.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else ud(e,t,c,f,n,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in r)f=r[g],r.hasOwnProperty(g)&&null!=f&&!n.hasOwnProperty(g)&&ud(e,t,g,null,n,f);for(u in n)if(f=n[u],p=r[u],n.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:ud(e,t,u,f,n,p)}return;default:if(Ot(t)){for(var v in r)f=r[v],r.hasOwnProperty(v)&&void 0!==f&&!n.hasOwnProperty(v)&&dd(e,t,v,void 0,n,f);for(d in n)f=n[d],p=r[d],!n.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||dd(e,t,d,f,n,p);return}}for(var y in r)f=r[y],r.hasOwnProperty(y)&&null!=f&&!n.hasOwnProperty(y)&&ud(e,t,y,null,n,f);for(h in n)f=n[h],p=r[h],!n.hasOwnProperty(h)||f===p||null==f&&null==p||ud(e,t,h,f,n,p)}(n,e.type,r,t),n[Ue]=t}catch(i){Su(e,e.return,i)}}function jl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function kl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||jl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Tt));else if(4!==n&&(27===n&&Cd(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,r),e=e.sibling;null!==e;)Cl(e,t,r),e=e.sibling}function El(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&Cd(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(El(e,t,r),e=e.sibling;null!==e;)El(e,t,r),e=e.sibling}function Ol(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hd(t,n,r),t[He]=e,t[Ue]=r}catch(a){Su(e,e.return,a)}}var Pl=!1,Nl=!1,Al=!1,Tl="function"===typeof WeakSet?WeakSet:Set,Rl=null;function Dl(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Gl(e,r),4&n&&gl(5,r);break;case 1:if(Gl(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(s){Su(r,r.return,s)}else{var i=So(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Su(r,r.return,o)}}64&n&&yl(r),512&n&&xl(r,r.return);break;case 3:if(Gl(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{Ca(e,t)}catch(s){Su(r,r.return,s)}}break;case 27:null===t&&4&n&&Ol(r);case 26:case 5:Gl(e,r),null===t&&4&n&&wl(r),512&n&&xl(r,r.return);break;case 12:Gl(e,r);break;case 31:Gl(e,r),4&n&&Fl(e,r);break;case 13:Gl(e,r),4&n&&Hl(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=Eu.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||Nl,i=Pl;var a=Nl;Pl=n,(Nl=t)&&!a?$l(e,r,0!==(8772&r.subtreeFlags)):Gl(e,r),Pl=i,Nl=a}break;case 30:break;default:Gl(e,r)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Xe(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Il=!1;function Bl(e,t,r){for(r=r.child;null!==r;)zl(e,t,r),r=r.sibling}function zl(e,t,r){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,r)}catch(a){}switch(r.tag){case 26:Nl||_l(r,t),Bl(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:Nl||_l(r,t);var n=Ml,i=Il;Cd(r.type)&&(Ml=r.stateNode,Il=!1),Bl(e,t,r),Bd(r.stateNode),Ml=n,Il=i;break;case 5:Nl||_l(r,t);case 6:if(n=Ml,i=Il,Ml=null,Bl(e,t,r),Il=i,null!==(Ml=n))if(Il)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(r.stateNode)}catch(s){Su(r,t,s)}else try{Ml.removeChild(r.stateNode)}catch(s){Su(r,t,s)}break;case 18:null!==Ml&&(Il?(Ed(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),qh(e)):Ed(Ml,r.stateNode));break;case 4:n=Ml,i=Il,Ml=r.stateNode.containerInfo,Il=!0,Bl(e,t,r),Ml=n,Il=i;break;case 0:case 11:case 14:case 15:vl(2,r,t),Nl||vl(4,r,t),Bl(e,t,r);break;case 1:Nl||(_l(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&bl(r,t,n)),Bl(e,t,r);break;case 21:Bl(e,t,r);break;case 22:Nl=(n=Nl)||null!==r.memoizedState,Bl(e,t,r),Nl=n;break;default:Bl(e,t,r)}}function Fl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{qh(e)}catch(r){Su(t,t.return,r)}}}function Hl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{qh(e)}catch(r){Su(t,t.return,r)}}function Ul(e,t){var r=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Tl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Tl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!r.has(t)){r.add(t);var n=Ou.bind(null,e,t);t.then(n,n)}})}function Wl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Cd(l.type)){Ml=l.stateNode,Il=!1;break e}break;case 5:Ml=l.stateNode,Il=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Il=!0;break e}l=l.return}if(null===Ml)throw Error(s(160));zl(a,o,i),Ml=null,Il=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var ql=null;function Kl(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wl(t,e),Vl(e),4&n&&(vl(3,e,e.return),gl(3,e),vl(5,e,e.return));break;case 1:Wl(t,e),Vl(e),512&n&&(Nl||null===r||_l(r,r.return)),64&n&&Pl&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var i=ql;if(Wl(t,e),Vl(e),512&n&&(Nl||null===r||_l(r,r.return)),4&n){var a=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Ge]||a[He]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),hd(a,n,r),a[He]=e,et(a),n=a;break e;case"link":var o=rh("link","href",i).get(n+(r.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&a.getAttribute("rel")===(null==r.rel?null:r.rel)&&a.getAttribute("title")===(null==r.title?null:r.title)&&a.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){o.splice(l,1);break t}hd(a=i.createElement(n),n,r),i.head.appendChild(a);break;case"meta":if(o=rh("meta","content",i).get(n+(r.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==r.content?null:""+r.content)&&a.getAttribute("name")===(null==r.name?null:r.name)&&a.getAttribute("property")===(null==r.property?null:r.property)&&a.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&a.getAttribute("charset")===(null==r.charSet?null:r.charSet)){o.splice(l,1);break t}hd(a=i.createElement(n),n,r),i.head.appendChild(a);break;default:throw Error(s(468,n))}a[He]=e,et(a),n=a}e.stateNode=n}else nh(i,e.type,e.stateNode);else e.stateNode=Jd(i,n,e.memoizedProps);else a!==n?(null===a?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):a.count--,null===n?nh(i,e.type,e.stateNode):Jd(i,n,e.memoizedProps)):null===n&&null!==e.stateNode&&Sl(e,e.memoizedProps,r.memoizedProps)}break;case 27:Wl(t,e),Vl(e),512&n&&(Nl||null===r||_l(r,r.return)),null!==r&&4&n&&Sl(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Wl(t,e),Vl(e),512&n&&(Nl||null===r||_l(r,r.return)),32&e.flags){i=e.stateNode;try{jt(i,"")}catch(m){Su(e,e.return,m)}}4&n&&null!=e.stateNode&&Sl(e,i=e.memoizedProps,null!==r?r.memoizedProps:i),1024&n&&(Al=!0);break;case 6:if(Wl(t,e),Vl(e),4&n){if(null===e.stateNode)throw Error(s(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(m){Su(e,e.return,m)}}break;case 3:if(th=null,i=ql,ql=Hd(t.containerInfo),Wl(t,e),ql=i,Vl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{qh(t.containerInfo)}catch(m){Su(e,e.return,m)}Al&&(Al=!1,Yl(e));break;case 4:n=ql,ql=Hd(e.stateNode.containerInfo),Wl(t,e),Vl(e),ql=n;break;case 12:default:Wl(t,e),Vl(e);break;case 31:case 19:Wl(t,e),Vl(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Ul(e,n)));break;case 13:Wl(t,e),Vl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(Tc=le()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Ul(e,n)));break;case 22:i=null!==e.memoizedState;var c=null!==r&&null!==r.memoizedState,u=Pl,d=Nl;if(Pl=u||i,Nl=d||c,Wl(t,e),Nl=d,Pl=u,Vl(e),8192&n)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===r||c||Pl||Nl||Xl(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){c=r=t;try{if(a=c.stateNode,i)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Su(c,c.return,m)}}}else if(6===t.tag){if(null===r){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){Su(c,c.return,m)}}}else if(18===t.tag){if(null===r){c=t;try{var p=c.stateNode;i?Od(p,!0):Od(c.stateNode,!1)}catch(m){Su(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,Ul(e,r))));case 30:case 21:}}function Vl(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(jl(n)){r=n;break}n=n.return}if(null==r)throw Error(s(160));switch(r.tag){case 27:var i=r.stateNode;El(e,kl(e),i);break;case 5:var a=r.stateNode;32&r.flags&&(jt(a,""),r.flags&=-33),El(e,kl(e),a);break;case 3:case 4:var o=r.stateNode.containerInfo;Cl(e,kl(e),o);break;default:throw Error(s(161))}}catch(l){Su(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Yl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Yl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Gl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Dl(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:vl(4,t,t.return),Xl(t);break;case 1:_l(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&bl(t,t.return,r),Xl(t);break;case 27:Bd(t.stateNode);case 26:case 5:_l(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function $l(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:$l(i,a,r),gl(4,a);break;case 1:if($l(i,a,r),"function"===typeof(i=(n=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Su(n,n.return,c)}if(null!==(i=(n=a).updateQueue)){var o=n.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ka(l[i],o)}catch(c){Su(n,n.return,c)}}r&&64&s&&yl(a),xl(a,a.return);break;case 27:Ol(a);case 26:case 5:$l(i,a,r),r&&null===n&&4&s&&wl(a),xl(a,a.return);break;case 12:$l(i,a,r);break;case 31:$l(i,a,r),r&&4&s&&Fl(i,a);break;case 13:$l(i,a,r),r&&4&s&&Hl(i,a);break;case 22:null===a.memoizedState&&$l(i,a,r),xl(a,a.return);break;case 30:break;default:$l(i,a,r)}t=t.sibling}}function Jl(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Fi(r))}function Ql(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e))}function Zl(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ec(e,t,r,n),t=t.sibling}function ec(e,t,r,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Zl(e,t,r,n),2048&i&&gl(9,t);break;case 1:case 31:case 13:default:Zl(e,t,r,n);break;case 3:Zl(e,t,r,n),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e)));break;case 12:if(2048&i){Zl(e,t,r,n),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Su(t,t.return,l)}}else Zl(e,t,r,n);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?Zl(e,t,r,n):rc(e,t):2&a._visibility?Zl(e,t,r,n):(a._visibility|=2,tc(e,t,r,n,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Jl(s,t);break;case 24:Zl(e,t,r,n),2048&i&&Ql(t.alternate,t)}}function tc(e,t,r,n,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,s=t,o=r,l=n,c=s.flags;switch(s.tag){case 0:case 11:case 15:tc(a,s,o,l,i),gl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?tc(a,s,o,l,i):rc(a,s):(u._visibility|=2,tc(a,s,o,l,i)),i&&2048&c&&Jl(s.alternate,s);break;case 24:tc(a,s,o,l,i),i&&2048&c&&Ql(s.alternate,s);break;default:tc(a,s,o,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,i=n.flags;switch(n.tag){case 22:rc(r,n),2048&i&&Jl(n.alternate,n);break;case 24:rc(r,n),2048&i&&Ql(n.alternate,n);break;default:rc(r,n)}t=t.sibling}}var nc=8192;function ic(e,t,r){if(e.subtreeFlags&nc)for(e=e.child;null!==e;)ac(e,t,r),e=e.sibling}function ac(e,t,r){switch(e.tag){case 26:ic(e,t,r),e.flags&nc&&null!==e.memoizedState&&function(e,t,r,n){if("stylesheet"===r.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&r.state.loading)){if(null===r.instance){var i=Vd(n.href),a=t.querySelector(Yd(i));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=sh.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=a,void et(a);a=t.ownerDocument||t,n=Gd(n),(i=zd.get(i))&&Zd(n,i),et(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),hd(a,"link",n),r.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&0===(3&r.state.loading)&&(e.count++,r=sh.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}(r,ql,e.memoizedState,e.memoizedProps);break;case 5:default:ic(e,t,r);break;case 3:case 4:var n=ql;ql=Hd(e.stateNode.containerInfo),ic(e,t,r),ql=n;break;case 22:null===e.memoizedState&&(null!==(n=e.alternate)&&null!==n.memoizedState?(n=nc,nc=16777216,ic(e,t,r),nc=n):ic(e,t,r))}}function sc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function oc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Rl=n,uc(n,e)}sc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)lc(e),e=e.sibling}function lc(e){switch(e.tag){case 0:case 11:case 15:oc(e),2048&e.flags&&vl(9,e,e.return);break;case 3:case 12:default:oc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,cc(e)):oc(e)}}function cc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Rl=n,uc(n,e)}sc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:vl(8,t,t.return),cc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,cc(t));break;default:cc(t)}e=e.sibling}}function uc(e,t){for(;null!==Rl;){var r=Rl;switch(r.tag){case 0:case 11:case 15:vl(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Fi(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,Rl=n;else e:for(r=e;null!==Rl;){var i=(n=Rl).sibling,a=n.return;if(Ll(n),n===r){Rl=null;break e}if(null!==i){i.return=a,Rl=i;break e}Rl=a}}}var dc={getCacheForType:function(e){var t=Ti(Bi),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Ti(Bi).controller.signal}},hc="function"===typeof WeakMap?WeakMap:Map,fc=0,pc=null,mc=null,gc=0,vc=0,yc=null,bc=!1,xc=!1,_c=!1,wc=0,Sc=0,jc=0,kc=0,Cc=0,Ec=0,Oc=0,Pc=null,Nc=null,Ac=!1,Tc=0,Rc=0,Dc=1/0,Lc=null,Mc=null,Ic=0,Bc=null,zc=null,Fc=0,Hc=0,Uc=null,Wc=null,qc=0,Kc=null;function Vc(){return 0!==(2&fc)&&0!==gc?gc&-gc:null!==D.T?Uu():Be()}function Yc(){if(0===Ec)if(0===(536870912&gc)||di){var e=je;0===(3932160&(je<<=1))&&(je=262144),Ec=e}else Ec=536870912;return null!==(e=Ta.current)&&(e.flags|=32),Ec}function Gc(e,t,r){(e!==pc||2!==vc&&9!==vc)&&null===e.cancelPendingCommit||(tu(e,0),Qc(e,gc,Ec,!1)),Te(e,r),0!==(2&fc)&&e===pc||(e===pc&&(0===(2&fc)&&(kc|=r),4===Sc&&Qc(e,gc,Ec,!1)),Lu(e))}function Xc(e,t,r){if(0!==(6&fc))throw Error(s(327));for(var n=!r&&0===(127&t)&&0===(t&e.expiredLanes)||Oe(e,t),i=n?function(e,t){var r=fc;fc|=2;var n=iu(),i=au();pc!==e||gc!==t?(Lc=null,Dc=le()+500,tu(e,t)):xc=Oe(e,t);e:for(;;)try{if(0!==vc&&null!==mc){t=mc;var a=yc;t:switch(vc){case 1:vc=0,yc=null,hu(e,t,a,1);break;case 2:case 9:if(ta(a)){vc=0,yc=null,du(t);break}t=function(){2!==vc&&9!==vc||pc!==e||(vc=7),Lu(e)},a.then(t,t);break e;case 3:vc=7;break e;case 4:vc=5;break e;case 7:ta(a)?(vc=0,yc=null,du(t)):(vc=0,yc=null,hu(e,t,a,7));break;case 5:var o=null;switch(mc.tag){case 26:o=mc.memoizedState;case 5:case 27:var l=mc;if(o?ih(o):l.stateNode.complete){vc=0,yc=null;var c=l.sibling;if(null!==c)mc=c;else{var u=l.return;null!==u?(mc=u,fu(u)):mc=null}break t}}vc=0,yc=null,hu(e,t,a,5);break;case 6:vc=0,yc=null,hu(e,t,a,6);break;case 8:eu(),Sc=6;break e;default:throw Error(s(462))}}cu();break}catch(d){ru(e,d)}return ji=Si=null,D.H=n,D.A=i,fc=r,null!==mc?0:(pc=null,gc=0,Nn(),Sc)}(e,t):ou(e,t,!0),a=n;;){if(0===i){xc&&!n&&Qc(e,t,0,!1);break}if(r=e.current.alternate,!a||Jc(r)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Pc;var c=l.current.memoizedState.isDehydrated;if(c&&(tu(l,o).flags|=256),2!==(o=ou(l,o,!1))){if(_c&&!c){l.errorRecoveryDisabledLanes|=a,kc|=a,i=4;break e}a=Nc,Nc=i,null!==a&&(null===Nc?Nc=a:Nc.push.apply(Nc,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){tu(e,0),Qc(e,t,0,!0);break}e:{switch(n=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Qc(n,t,Ec,!bc);break e;case 2:Nc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Tc+300-le())){if(Qc(n,t,Ec,!bc),0!==Ee(n,0,!0))break e;Fc=t,n.timeoutHandle=_d($c.bind(null,n,r,Nc,Lc,Ac,t,Ec,kc,Oc,bc,a,"Throttled",-0,0),i)}else $c(n,r,Nc,Lc,Ac,t,Ec,kc,Oc,bc,a,null,-0,0)}break}i=ou(e,t,!1),a=!1}Lu(e)}function $c(e,t,r,n,i,a,s,o,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){ac(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Tt});var p=(62914560&a)===a?Tc-le():(4194048&a)===a?Rc-le():0;if(null!==(p=function(e,t){return e.stylesheets&&0===e.count&&lh(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===ah&&(ah=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var i=r[n],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&fd(s)){for(s=0,o=i.responseEnd,n+=1;n<r.length;n++){var l=r[n],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(s+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--n,t+=8*(a+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"===typeof(e=navigator.connection.downlink)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&lh(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>ah?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}(d,p)))return Fc=a,e.cancelPendingCommit=p(mu.bind(null,e,t,a,r,n,i,s,o,l,u,d,null,h,f)),void Qc(e,a,s,!c)}mu(e,t,a,r,n,i,s,o,l)}function Jc(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Jr(a(),i))return!1}catch(s){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Qc(e,t,r,n){t&=~Cc,t&=~kc,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var a=31-xe(i),s=1<<a;n[a]=-1,i&=~s}0!==r&&Re(e,r,t)}function Zc(){return 0!==(6&fc)||(Mu(0,!1),!1)}function eu(){if(null!==mc){if(0===vc)var e=mc.return;else ji=Si=null,ss(e=mc),oa=null,la=0,e=mc;for(;null!==e;)ml(e.alternate,e),e=e.return;mc=null}}function tu(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,wd(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),Fc=0,eu(),pc=e,mc=r=Fn(e.current,null),gc=t,vc=0,yc=null,bc=!1,xc=Oe(e,t),_c=!1,Oc=Ec=Cc=kc=jc=Sc=0,Nc=Pc=null,Ac=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var i=31-xe(n),a=1<<i;t|=e[i],n&=~a}return wc=t,Nn(),r}function ru(e,t){Ua=null,D.H=mo,t===Ji||t===Zi?(t=aa(),vc=3):t===Qi?(t=aa(),vc=4):vc=t===To?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,yc=t,null===mc&&(Sc=1,Eo(e,Gn(t,e.current)))}function nu(){var e=Ta.current;return null===e||((4194048&gc)===gc?null===Ra:((62914560&gc)===gc||0!==(536870912&gc))&&e===Ra)}function iu(){var e=D.H;return D.H=mo,null===e?mo:e}function au(){var e=D.A;return D.A=dc,e}function su(){Sc=4,bc||(4194048&gc)!==gc&&null!==Ta.current||(xc=!0),0===(134217727&jc)&&0===(134217727&kc)||null===pc||Qc(pc,gc,Ec,!1)}function ou(e,t,r){var n=fc;fc|=2;var i=iu(),a=au();pc===e&&gc===t||(Lc=null,tu(e,t)),t=!1;var s=Sc;e:for(;;)try{if(0!==vc&&null!==mc){var o=mc,l=yc;switch(vc){case 8:eu(),s=6;break e;case 3:case 2:case 9:case 6:null===Ta.current&&(t=!0);var c=vc;if(vc=0,yc=null,hu(e,o,l,c),r&&xc){s=0;break e}break;default:c=vc,vc=0,yc=null,hu(e,o,l,c)}}lu(),s=Sc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,ji=Si=null,fc=n,D.H=i,D.A=a,null===mc&&(pc=null,gc=0,Nn()),s}function lu(){for(;null!==mc;)uu(mc)}function cu(){for(;null!==mc&&!se();)uu(mc)}function uu(e){var t=sl(e.alternate,e,wc);e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function du(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Ko(r,t,t.pendingProps,t.type,void 0,gc);break;case 11:t=Ko(r,t,t.pendingProps,t.type.render,t.ref,gc);break;case 5:ss(t);default:ml(r,t),t=sl(r,t=mc=Hn(t,wc),wc)}e.memoizedProps=e.pendingProps,null===t?fu(e):mc=t}function hu(e,t,r,n){ji=Si=null,ss(t),oa=null,la=0;var i=t.return;try{if(function(e,t,r,n,i){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&Pi(t,r,i,!0),null!==(r=Ta.current)){switch(r.tag){case 31:case 13:return null===Ra?su():null===r.alternate&&0===Sc&&(Sc=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===ea?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),ju(e,n,i)),!1;case 22:return r.flags|=65536,n===ea?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),ju(e,n,i)),!1}throw Error(s(435,r.tag))}return ju(e,n,i),su(),!1}if(di)return null!==(t=Ta.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==pi&&_i(Gn(e=Error(s(422),{cause:n}),r))):(n!==pi&&_i(Gn(t=Error(s(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,n=Gn(n,r),_a(e,i=Po(e.stateNode,n,i)),4!==Sc&&(Sc=2)),!1;var a=Error(s(520),{cause:n});if(a=Gn(a,r),null===Pc?Pc=[a]:Pc.push(a),4!==Sc&&(Sc=2),null===t)return!0;n=Gn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=i&-i,r.lanes|=e,_a(r,e=Po(r.stateNode,n,e)),!1;case 1:if(t=r.type,a=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Mc||!Mc.has(a))))return r.flags|=65536,i&=-i,r.lanes|=i,Ao(i=No(i),e,r,n),_a(r,i),!1}r=r.return}while(null!==r);return!1}(e,i,t,r,gc))return Sc=1,Eo(e,Gn(r,e.current)),void(mc=null)}catch(a){if(null!==i)throw mc=i,a;return Sc=1,Eo(e,Gn(r,e.current)),void(mc=null)}32768&t.flags?(di||1===n?e=!0:xc||0!==(536870912&gc)?e=!1:(bc=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=Ta.current)&&13===n.tag&&(n.flags|=16384))),pu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void pu(t,bc);e=t.return;var r=fl(t.alternate,t,wc);if(null!==r)return void(mc=r);if(null!==(t=t.sibling))return void(mc=t);mc=t=e}while(null!==t);0===Sc&&(Sc=5)}function pu(e,t){do{var r=pl(e.alternate,e);if(null!==r)return r.flags&=32767,void(mc=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(mc=e);mc=e=r}while(null!==e);Sc=6,mc=null}function mu(e,t,r,n,i,a,o,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==Ic);if(0!==(6&fc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,r,n,i,a){var s=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(r=s&~r;0<r;){var u=31-xe(r),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}r&=~d}0!==n&&Re(e,n,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,r,a|=Pn,o,l,c),e===pc&&(mc=pc=null,gc=0),zc=t,Bc=e,Fc=r,Hc=a,Uc=i,Wc=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return _u(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null,i=L.p,L.p=2,o=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,pd=bh,nn(e=rn(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(g){r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==n&&3!==h.nodeType||(c=o+n),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===i&&(l=o),f===a&&++d===n&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(md={focusedElem:e,selectionRange:r},bh=!1,Rl=t;null!==Rl;)if(e=(t=Rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Rl=e;else for(;null!==Rl;){switch(a=(t=Rl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(r=0;r<e.length;r++)(i=e[r]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,r=t,i=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var m=So(r.type,i);e=n.getSnapshotBeforeUpdate(m,a),n.__reactInternalSnapshotBeforeUpdate=e}catch(v){Su(r,r.return,v)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))Pd(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Rl=e;break}Rl=t.return}}(e,t)}finally{fc=o,L.p=i,D.T=n}}Ic=1,gu(),vu(),yu()}}function gu(){if(1===Ic){Ic=0;var e=Bc,t=zc,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null;var n=L.p;L.p=2;var i=fc;fc|=4;try{Kl(t,e);var a=md,s=rn(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&tn(o.ownerDocument.documentElement,o)){if(null!==l&&nn(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var v=en(o,m),y=en(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var x=d[o];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}bh=!!pd,md=pd=null}finally{fc=i,L.p=n,D.T=r}}e.current=t,Ic=2}}function vu(){if(2===Ic){Ic=0;var e=Bc,t=zc,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=D.T,D.T=null;var n=L.p;L.p=2;var i=fc;fc|=4;try{Dl(e,t.alternate,t)}finally{fc=i,L.p=n,D.T=r}}Ic=3}}function yu(){if(4===Ic||3===Ic){Ic=0,oe();var e=Bc,t=zc,r=Fc,n=Wc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ic=5:(Ic=0,zc=Bc=null,bu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mc=null),Ie(r),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==n){t=D.T,i=L.p,L.p=2,D.T=null;try{for(var a=e.onRecoverableError,s=0;s<n.length;s++){var o=n[s];a(o.value,{componentStack:o.stack})}}finally{D.T=t,L.p=i}}0!==(3&Fc)&&xu(),Lu(e),i=e.pendingLanes,0!==(261930&r)&&0!==(42&i)?e===Kc?qc++:(qc=0,Kc=e):qc=0,Mu(0,!1)}}function bu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fi(t)))}function xu(){return gu(),vu(),yu(),_u()}function _u(){if(5!==Ic)return!1;var e=Bc,t=Hc;Hc=0;var r=Ie(Fc),n=D.T,i=L.p;try{L.p=32>r?32:r,D.T=null,r=Uc,Uc=null;var a=Bc,o=Fc;if(Ic=0,zc=Bc=null,Fc=0,0!==(6&fc))throw Error(s(331));var l=fc;if(fc|=4,lc(a.current),ec(a,a.current,o,r),fc=l,Mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,a)}catch(c){}return!0}finally{L.p=i,D.T=n,bu(e,t)}}function wu(e,t,r){t=Gn(r,t),null!==(e=ba(e,t=Po(e.stateNode,t,2),2))&&(Te(e,2),Lu(e))}function Su(e,t,r){if(3===e.tag)wu(e,e,r);else for(;null!==t;){if(3===t.tag){wu(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Mc||!Mc.has(n))){e=Gn(r,e),null!==(n=ba(t,r=No(2),2))&&(Ao(r,n,t,e),Te(n,2),Lu(n));break}}t=t.return}}function ju(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new hc;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(_c=!0,i.add(r),e=ku.bind(null,e,t,r),t.then(e,e))}function ku(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,pc===e&&(gc&r)===r&&(4===Sc||3===Sc&&(62914560&gc)===gc&&300>le()-Tc?0===(2&fc)&&tu(e,0):Cc|=r,Oc===gc&&(Oc=0)),Lu(e)}function Cu(e,t){0===t&&(t=Ne()),null!==(e=Rn(e,t))&&(Te(e,t),Lu(e))}function Eu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Cu(e,r)}function Ou(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==n&&n.delete(t),Cu(e,r)}var Pu=null,Nu=null,Au=!1,Tu=!1,Ru=!1,Du=0;function Lu(e){e!==Nu&&null===e.next&&(null===Nu?Pu=Nu=e:Nu=Nu.next=e),Tu=!0,Au||(Au=!0,jd(function(){0!==(6&fc)?ie(ue,Iu):Bu()}))}function Mu(e,t){if(!Ru&&Tu){Ru=!0;do{for(var r=!1,n=Pu;null!==n;){if(!t)if(0!==e){var i=n.pendingLanes;if(0===i)var a=0;else{var s=n.suspendedLanes,o=n.pingedLanes;a=(1<<31-xe(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(r=!0,Hu(n,a))}else a=gc,0===(3&(a=Ee(n,n===pc?a:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||Oe(n,a)||(r=!0,Hu(n,a));n=n.next}}while(r);Ru=!1}}function Iu(){Bu()}function Bu(){Tu=Au=!1;var e=0;0!==Du&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Du);for(var t=le(),r=null,n=Pu;null!==n;){var i=n.next,a=zu(n,t);0===a?(n.next=null,null===r?Pu=i:r.next=i,null===i&&(Nu=r)):(r=n,(0!==e||0!==(3&a))&&(Tu=!0)),n=i}0!==Ic&&5!==Ic||Mu(e,!1),0!==Du&&(Du=0)}function zu(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-xe(a),o=1<<s,l=i[s];-1===l?0!==(o&r)&&0===(o&n)||(i[s]=Pe(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(r=gc,r=Ee(e,e===(t=pc)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===vc||9===vc)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&ae(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||Oe(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&ae(n),Ie(r)){case 2:case 8:r=de;break;case 32:default:r=he;break;case 268435456:r=pe}return n=Fu.bind(null,e),r=ie(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&ae(n),e.callbackPriority=2,e.callbackNode=null,2}function Fu(e,t){if(0!==Ic&&5!==Ic)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(xu()&&e.callbackNode!==r)return null;var n=gc;return 0===(n=Ee(e,e===pc?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,n,t),zu(e,le()),null!=e.callbackNode&&e.callbackNode===r?Fu.bind(null,e):null)}function Hu(e,t){if(xu())return null;Xc(e,t,!0)}function Uu(){if(0===Du){var e=Wi;0===e&&(e=Se,0===(261888&(Se<<=1))&&(Se=256)),Du=e}return Du}function Wu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function qu(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Ku=0;Ku<jn.length;Ku++){var Vu=jn[Ku];kn(Vu.toLowerCase(),"on"+(Vu[0].toUpperCase()+Vu.slice(1)))}kn(gn,"onAnimationEnd"),kn(vn,"onAnimationIteration"),kn(yn,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(bn,"onTransitionRun"),kn(xn,"onTransitionStart"),kn(_n,"onTransitionCancel"),kn(wn,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yu));function Xu(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var s=n.length-1;0<=s;s--){var o=n[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Cn(u)}i.currentTarget=null,a=l}else for(s=0;s<n.length;s++){if(l=(o=n[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Cn(u)}i.currentTarget=null,a=l}}}}function $u(e,t){var r=t[qe];void 0===r&&(r=t[qe]=new Set);var n=e+"__bubble";r.has(n)||(ed(t,e,2,!1),r.add(n))}function Ju(e,t,r){var n=0;t&&(n|=4),ed(r,e,n,t)}var Qu="_reactListening"+Math.random().toString(36).slice(2);function Zu(e){if(!e[Qu]){e[Qu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Gu.has(t)||Ju(t,!1,e),Ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qu]||(t[Qu]=!0,Ju("selectionchange",!1,t))}}function ed(e,t,r,n){switch(Ch(t)){case 2:var i=xh;break;case 8:i=_h;break;default:i=wh}r=i.bind(null,t,r,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function td(e,t,r,n,i){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var o=n.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=n.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=$e(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){n=a=s;continue e}o=o.parentNode}}n=n.return}zt(function(){var n=a,i=Dt(r),s=[];e:{var o=Sn.get(e);if(void 0!==o){var c=rr,u=e;switch(e){case"keypress":if(0===Gt(r))break e;case"keydown":case"keyup":c=vr;break;case"focusin":u="focus",c=lr;break;case"focusout":u="blur",c=lr;break;case"beforeblur":case"afterblur":c=lr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=sr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=or;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=br;break;case gn:case vn:case yn:c=cr;break;case wn:c=xr;break;case"scroll":case"scrollend":c=ir;break;case"wheel":c=_r;break;case"copy":case"cut":case"paste":c=ur;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=yr;break;case"toggle":case"beforetoggle":c=wr}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=n;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ft(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,r,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||r===Rt||!(u=r.relatedTarget||r.fromElement)||!$e(u)&&!u[We])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=n,null!==(u=(u=r.relatedTarget||r.toElement)?$e(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=n),c!==u)){if(d=sr,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=yr,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Qe(c),p=null==u?o:Qe(u),(o=new d(g,m+"leave",c,r,i)).target=h,o.relatedTarget=p,g=null,$e(i)===n&&((d=new d(f,m+"enter",u,r,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=id,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var v=m;v;v=d(v))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&ad(s,o,c,d,!1),null!==u&&null!==h&&ad(s,h,u,d,!0)}if("select"===(c=(o=n?Qe(n):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Fr;else if(Dr(o))if(Hr)y=$r;else{y=Gr;var b=Yr}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?n&&Ot(n.elementType)&&(y=Fr):y=Xr;switch(y&&(y=y(e,n))?Lr(s,y,r,i):(b&&b(e,o,n),"focusout"===e&&n&&"number"===o.type&&null!=n.memoizedProps.value&&xt(o,"number",o.value)),b=n?Qe(n):window,e){case"focusin":(Dr(b)||"true"===b.contentEditable)&&(sn=b,on=n,ln=null);break;case"focusout":ln=on=sn=null;break;case"mousedown":cn=!0;break;case"contextmenu":case"mouseup":case"dragend":cn=!1,un(s,r,i);break;case"selectionchange":if(an)break;case"keydown":case"keyup":un(s,r,i)}var x;if(jr)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Tr?Nr(e,r)&&(_="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(_="onCompositionStart");_&&(Er&&"ko"!==r.locale&&(Tr||"onCompositionStart"!==_?"onCompositionEnd"===_&&Tr&&(x=Yt()):(Kt="value"in(qt=i)?qt.value:qt.textContent,Tr=!0)),0<(b=nd(n,_)).length&&(_=new dr(_,e,null,r,i),s.push({event:_,listeners:b}),x?_.data=x:null!==(x=Ar(r))&&(_.data=x))),(x=Cr?function(e,t){switch(e){case"compositionend":return Ar(t);case"keypress":return 32!==t.which?null:(Pr=!0,Or);case"textInput":return(e=t.data)===Or&&Pr?null:e;default:return null}}(e,r):function(e,t){if(Tr)return"compositionend"===e||!jr&&Nr(e,t)?(e=Yt(),Vt=Kt=qt=null,Tr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Er&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(_=nd(n,"onBeforeInput")).length&&(b=new dr("onBeforeInput","beforeinput",null,r,i),s.push({event:b,listeners:_}),b.data=x)),function(e,t,r,n,i){if("submit"===t&&r&&r.stateNode===i){var a=Wu((i[Ue]||null).action),s=n.submitter;s&&null!==(t=(t=s[Ue]||null)?Wu(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new rr("action","action",null,n,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==Du){var e=s?qu(i,s):new FormData(i);eo(r,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?qu(i,s):new FormData(i),eo(r,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,n,r,i)}Xu(s,t)})}function rd(e,t,r){return{instance:e,listener:t,currentTarget:r}}function nd(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ft(e,r))&&n.unshift(rd(e,i,a)),null!=(i=Ft(e,t))&&n.push(rd(e,i,a))),3===e.tag)return n;e=e.return}return[]}function id(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function ad(e,t,r,n,i){for(var a=t._reactName,s=[];null!==r&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===n)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ft(r,a))&&s.unshift(rd(r,c,l)):i||null!=(c=Ft(r,a))&&s.push(rd(r,c,l))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var sd=/\r\n?/g,od=/\u0000|\uFFFD/g;function ld(e){return("string"===typeof e?e:""+e).replace(sd,"\n").replace(od,"")}function cd(e,t){return t=ld(t),ld(e)===t}function ud(e,t,r,n,i,a){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||jt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&jt(e,""+n);break;case"className":ct(e,"class",n);break;case"tabIndex":ct(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,r,n);break;case"style":Et(e,n,a);break;case"data":if("object"!==t){ct(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=At(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===r?("input"!==t&&ud(e,t,"name",i.name,i,null),ud(e,t,"formEncType",i.formEncType,i,null),ud(e,t,"formMethod",i.formMethod,i,null),ud(e,t,"formTarget",i.formTarget,i,null)):(ud(e,t,"encType",i.encType,i,null),ud(e,t,"method",i.method,i,null),ud(e,t,"target",i.target,i,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=At(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Tt);break;case"onScroll":null!=n&&$u("scroll",e);break;case"onScrollEnd":null!=n&&$u("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(s(61));if(null!=(r=n.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=At(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":$u("beforetoggle",e),$u("toggle",e),lt(e,"popover",n);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":lt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&lt(e,r=Pt.get(r)||r,n)}}function dd(e,t,r,n,i,a){switch(r){case"style":Et(e,n,a);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(s(61));if(null!=(r=n.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=r}}break;case"children":"string"===typeof n?jt(e,n):("number"===typeof n||"bigint"===typeof n)&&jt(e,""+n);break;case"onScroll":null!=n&&$u("scroll",e);break;case"onScrollEnd":null!=n&&$u("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Tt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:rt.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(i=r.endsWith("Capture"),t=r.slice(2,i?r.length-7:void 0),"function"===typeof(a=null!=(a=e[Ue]||null)?a[r]:null)&&e.removeEventListener(t,a,i),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):lt(e,r,n):("function"!==typeof a&&null!==a&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,i)))}}function hd(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$u("error",e),$u("load",e);var n,i=!1,a=!1;for(n in r)if(r.hasOwnProperty(n)){var o=r[n];if(null!=o)switch(n){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,n,o,r,null)}}return a&&ud(e,t,"srcSet",r.srcSet,r,null),void(i&&ud(e,t,"src",r.src,r,null));case"input":$u("invalid",e);var l=n=o=a=null,c=null,u=null;for(i in r)if(r.hasOwnProperty(i)){var d=r[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":n=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:ud(e,t,i,d,r,null)}}return void bt(e,n,l,c,u,o,a,!1);case"select":for(a in $u("invalid",e),i=o=n=null,r)if(r.hasOwnProperty(a)&&null!=(l=r[a]))switch(a){case"value":n=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:ud(e,t,a,l,r,null)}return t=n,r=o,e.multiple=!!i,void(null!=t?_t(e,!!i,t,!1):null!=r&&_t(e,!!i,r,!0));case"textarea":for(o in $u("invalid",e),n=a=i=null,r)if(r.hasOwnProperty(o)&&null!=(l=r[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":n=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:ud(e,t,o,l,r,null)}return void St(e,i,a,n);case"option":for(c in r)if(r.hasOwnProperty(c)&&null!=(i=r[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else ud(e,t,c,i,r,null);return;case"dialog":$u("beforetoggle",e),$u("toggle",e),$u("cancel",e),$u("close",e);break;case"iframe":case"object":$u("load",e);break;case"video":case"audio":for(i=0;i<Yu.length;i++)$u(Yu[i],e);break;case"image":$u("error",e),$u("load",e);break;case"details":$u("toggle",e);break;case"embed":case"source":case"link":$u("error",e),$u("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&null!=(i=r[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:ud(e,t,u,i,r,null)}return;default:if(Ot(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(i=r[d])&&dd(e,t,d,i,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(null!=(i=r[l])&&ud(e,t,l,i,r,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var pd=null,md=null;function gd(e){return 9===e.nodeType?e:e.ownerDocument}function vd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function yd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function bd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var _d="function"===typeof setTimeout?setTimeout:void 0,wd="function"===typeof clearTimeout?clearTimeout:void 0,Sd="function"===typeof Promise?Promise:void 0,jd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Sd?function(e){return Sd.resolve(null).then(e).catch(kd)}:_d;function kd(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function Ed(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)||"/&"===r){if(0===n)return e.removeChild(i),void qh(t);n--}else if("$"===r||"$?"===r||"$~"===r||"$!"===r||"&"===r)n++;else if("html"===r)Bd(e.ownerDocument.documentElement);else if("head"===r){Bd(r=e.ownerDocument.head);for(var a=r.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Ge]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===a.rel.toLowerCase()||r.removeChild(a),a=s}}else"body"===r&&Bd(e.ownerDocument.body);r=i}while(r);qh(t)}function Od(e,t){var r=e;e=0;do{var n=r.nextSibling;if(1===r.nodeType?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",""===r.getAttribute("style")&&r.removeAttribute("style")):3===r.nodeType&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&8===n.nodeType)if("/$"===(r=n.data)){if(0===e)break;e--}else"$"!==r&&"$?"!==r&&"$~"!==r&&"$!"!==r||e++;r=n}while(r)}function Pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Pd(r),Xe(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function Nd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}function Ad(e){return"$?"===e.data||"$~"===e.data}function Td(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Dd=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r||"/&"===r){if(0===t)return Rd(e.nextSibling);t--}else"$"!==r&&"$!"!==r&&"$?"!==r&&"$~"!==r&&"&"!==r||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r||"$~"===r||"&"===r){if(0===t)return e;t--}else"/$"!==r&&"/&"!==r||t++}e=e.previousSibling}return null}function Id(e,t,r){switch(t=gd(r),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Bd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Xe(e)}var zd=new Map,Fd=new Set;function Hd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ud=L.d;L.d={f:function(){var e=Ud.f(),t=Zc();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):Ud.r(e)},D:function(e){Ud.D(e),qd("dns-prefetch",e,null)},C:function(e,t){Ud.C(e,t),qd("preconnect",e,t)},L:function(e,t,r){Ud.L(e,t,r);var n=Wd;if(n&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(i+='[imagesrcset="'+vt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(i+='[imagesizes="'+vt(r.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var a=i;switch(t){case"style":a=Vd(e);break;case"script":a=Xd(e)}zd.has(a)||(e=f({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),zd.set(a,e),null!==n.querySelector(i)||"style"===t&&n.querySelector(Yd(a))||"script"===t&&n.querySelector($d(a))||(hd(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}},m:function(e,t){Ud.m(e,t);var r=Wd;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(n)+'"][href="'+vt(e)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Xd(e)}if(!zd.has(a)&&(e=f({rel:"modulepreload",href:e},t),zd.set(a,e),null===r.querySelector(i))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector($d(a)))return}hd(n=r.createElement("link"),"link",e),et(n),r.head.appendChild(n)}}},X:function(e,t){Ud.X(e,t);var r=Wd;if(r&&e){var n=Ze(r).hoistableScripts,i=Xd(e),a=n.get(i);a||((a=r.querySelector($d(i)))||(e=f({src:e,async:!0},t),(t=zd.get(i))&&eh(e,t),et(a=r.createElement("script")),hd(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}},S:function(e,t,r){Ud.S(e,t,r);var n=Wd;if(n&&e){var i=Ze(n).hoistableStyles,a=Vd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=n.querySelector(Yd(a)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},r),(r=zd.get(a))&&Zd(e,r);var l=s=n.createElement("link");et(l),hd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Qd(s,t,n)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){Ud.M(e,t);var r=Wd;if(r&&e){var n=Ze(r).hoistableScripts,i=Xd(e),a=n.get(i);a||((a=r.querySelector($d(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=zd.get(i))&&eh(e,t),et(a=r.createElement("script")),hd(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}};var Wd="undefined"===typeof document?null:document;function qd(e,t,r){var n=Wd;if(n&&"string"===typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof r&&(i+='[crossorigin="'+r+'"]'),Fd.has(i)||(Fd.add(i),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(i)&&(hd(t=n.createElement("link"),"link",e),et(t),n.head.appendChild(t)))}}function Kd(e,t,r,n){var i,a,o,l,c=(c=V.current)?Hd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Vd(r.href),(n=(r=Ze(c).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Vd(r.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),zd.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},zd.set(e,r),u||(i=c,a=e,o=r,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),hd(a,"link",o),et(a),i.head.appendChild(a))))),t&&null===n)throw Error(s(528,""));return d}if(t&&null!==n)throw Error(s(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Xd(r),(n=(r=Ze(c).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Vd(e){return'href="'+vt(e)+'"'}function Yd(e){return'link[rel="stylesheet"]['+e+"]"}function Gd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function Xd(e){return'[src="'+vt(e)+'"]'}function $d(e){return"script[async]"+e}function Jd(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+vt(r.href)+'"]');if(n)return t.instance=n,et(n),n;var i=f({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return et(n=(e.ownerDocument||e).createElement("style")),hd(n,"style",i),Qd(n,r.precedence,e),t.instance=n;case"stylesheet":i=Vd(r.href);var a=e.querySelector(Yd(i));if(a)return t.state.loading|=4,t.instance=a,et(a),a;n=Gd(r),(i=zd.get(i))&&Zd(n,i),et(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),hd(a,"link",n),t.state.loading|=4,Qd(a,r.precedence,e),t.instance=a;case"script":return a=Xd(r.src),(i=e.querySelector($d(a)))?(t.instance=i,et(i),i):(n=r,(i=zd.get(a))&&eh(n=f({},r),i),et(i=(e=e.ownerDocument||e).createElement("script")),hd(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Qd(n,r.precedence,e));return t.instance}function Qd(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,s=0;s<n.length;s++){var o=n[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Zd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var th=null;function rh(e,t,r){if(null===th){var n=new Map,i=th=new Map;i.set(r,n)}else(n=(i=th).get(r))||(n=new Map,i.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),i=0;i<r.length;i++){var a=r[i];if(!(a[Ge]||a[He]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=n.get(s);o?o.push(a):n.set(s,[a])}}return n}function nh(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function ih(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var ah=0;function sh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)lh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var oh=null;function lh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,oh=new Map,t.forEach(ch,e),oh=null,sh.call(e))}function ch(e,t){if(!(4&t.state.loading)){var r=oh.get(e);if(r)var n=r.get(null);else{r=new Map,oh.set(e,r);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(r.set(s.dataset.precedence,s),n=s)}n&&r.set(null,n)}s=(i=t.instance).getAttribute("data-precedence"),(a=r.get(s)||n)===n&&r.set(null,i),r.set(s,i),this.count++,n=sh.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var uh={$$typeof:_,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function dh(e,t,r,n,i,a,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function hh(e,t,r,n,i,a,s,o,l,c,u,d){return e=new dh(e,t,r,s,l,c,u,d,o),t=1,!0===a&&(t|=24),a=Bn(3,null,null,t),e.current=a,a.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:t},ga(a),e}function fh(e){return e?e=Mn:Mn}function ph(e,t,r,n,i,a){i=fh(i),null===n.context?n.context=i:n.pendingContext=i,(n=ya(t)).payload={element:r},null!==(a=void 0===a?null:a)&&(n.callback=a),null!==(r=ba(e,n,t))&&(Gc(r,0,t),xa(r,e,t))}function mh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function gh(e,t){mh(e,t),(e=e.alternate)&&mh(e,t)}function vh(e){if(13===e.tag||31===e.tag){var t=Rn(e,67108864);null!==t&&Gc(t,0,67108864),gh(e,67108864)}}function yh(e){if(13===e.tag||31===e.tag){var t=Vc(),r=Rn(e,t=Me(t));null!==r&&Gc(r,0,t),gh(e,t)}}var bh=!0;function xh(e,t,r,n){var i=D.T;D.T=null;var a=L.p;try{L.p=2,wh(e,t,r,n)}finally{L.p=a,D.T=i}}function _h(e,t,r,n){var i=D.T;D.T=null;var a=L.p;try{L.p=8,wh(e,t,r,n)}finally{L.p=a,D.T=i}}function wh(e,t,r,n){if(bh){var i=Sh(n);if(null===i)td(e,t,n,jh,r),Lh(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return Oh=Mh(Oh,e,t,r,n,i),!0;case"dragenter":return Ph=Mh(Ph,e,t,r,n,i),!0;case"mouseover":return Nh=Mh(Nh,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return Ah.set(a,Mh(Ah.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,Th.set(a,Mh(Th.get(a)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(Lh(e,n),4&t&&-1<Dh.indexOf(e)){for(;null!==i;){var a=Je(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=Ce(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-xe(s);o.entanglements[1]|=l,s&=~l}Lu(a),0===(6&fc)&&(Dc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(o=Rn(a,2))&&Gc(o,0,2),Zc(),gh(a,2)}if(null===(a=Sh(n))&&td(e,t,n,jh,r),a===i)break;i=a}null!==i&&n.stopPropagation()}else td(e,t,n,null,r)}}function Sh(e){return kh(e=Dt(e))}var jh=null;function kh(e){if(jh=null,null!==(e=$e(e))){var t=l(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=c(t)))return e;e=null}else if(31===r){if(null!==(e=u(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return jh=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Eh=!1,Oh=null,Ph=null,Nh=null,Ah=new Map,Th=new Map,Rh=[],Dh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Oh=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":Nh=null;break;case"pointerover":case"pointerout":Ah.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Th.delete(t.pointerId)}}function Mh(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Je(t))&&vh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ih(e){var t=$e(e.target);if(null!==t){var r=l(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=c(r)))return e.blockedOn=t,void ze(e.priority,function(){yh(r)})}else if(31===t){if(null!==(t=u(r)))return e.blockedOn=t,void ze(e.priority,function(){yh(r)})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Bh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Sh(e.nativeEvent);if(null!==r)return null!==(t=Je(r))&&vh(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Rt=n,r.target.dispatchEvent(n),Rt=null,t.shift()}return!0}function zh(e,t,r){Bh(e)&&r.delete(t)}function Fh(){Eh=!1,null!==Oh&&Bh(Oh)&&(Oh=null),null!==Ph&&Bh(Ph)&&(Ph=null),null!==Nh&&Bh(Nh)&&(Nh=null),Ah.forEach(zh),Th.forEach(zh)}function Hh(e,t){e.blockedOn===t&&(e.blockedOn=null,Eh||(Eh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Fh)))}var Uh=null;function Wh(e){Uh!==e&&(Uh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Uh===e&&(Uh=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],i=e[t+2];if("function"!==typeof n){if(null===kh(n||r))continue;break}var a=Je(r);null!==a&&(e.splice(t,3),t-=3,eo(a,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function qh(e){function t(t){return Hh(t,e)}null!==Oh&&Hh(Oh,e),null!==Ph&&Hh(Ph,e),null!==Nh&&Hh(Nh,e),Ah.forEach(t),Th.forEach(t);for(var r=0;r<Rh.length;r++){var n=Rh[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Rh.length&&null===(r=Rh[0]).blockedOn;)Ih(r),null===r.blockedOn&&Rh.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var i=r[n],a=r[n+1],s=i[Ue]||null;if("function"===typeof a)s||Wh(r);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Ue]||null)o=s.formAction;else if(null!==kh(i))continue}else o=s.action;"function"===typeof o?r[n+1]=o:(r.splice(n,3),n-=3),Wh(r)}}}function Kh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Vh(e){this._internalRoot=e}function Yh(e){this._internalRoot=e}Yh.prototype.render=Vh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));ph(t.current,Vc(),e,t,null,null)},Yh.prototype.unmount=Vh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ph(e.current,2,null,e,null,null),Zc(),t[We]=null}},Yh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Be();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rh.length&&0!==t&&t<Rh[r].priority;r++);Rh.splice(r,0,e),0===r&&Ih(e)}};var Gh=i.version;if("19.2.3"!==Gh)throw Error(s(527,Gh,"19.2.3"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return d(i),e;if(a===n)return d(i),t;a=a.sibling}throw Error(s(188))}if(r.return!==n.return)r=i,n=a;else{for(var o=!1,c=i.child;c;){if(c===r){o=!0,r=i,n=a;break}if(c===n){o=!0,n=i,r=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===r){o=!0,r=a,n=i;break}if(c===n){o=!0,n=a,r=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Xh={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.3"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{ve=$h.inject(Xh),ye=$h}catch(Qh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var r=!1,n="",i=jo,a=ko,l=Co;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=hh(e,1,!1,null,0,r,n,null,i,a,l,Kh),e[We]=t.current,Zu(e),new Vh(t)},t.hydrateRoot=function(e,t,r){if(!o(e))throw Error(s(299));var n=!1,i="",a=jo,l=ko,c=Co,u=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onUncaughtError&&(a=r.onUncaughtError),void 0!==r.onCaughtError&&(l=r.onCaughtError),void 0!==r.onRecoverableError&&(c=r.onRecoverableError),void 0!==r.formState&&(u=r.formState)),(t=hh(e,1,!0,t,0,n,i,u,a,l,c,Kh)).context=fh(null),r=t.current,(i=ya(n=Me(n=Vc()))).callback=null,ba(r,i,n),r=n,t.current.lanes=r,Te(t,r),Lu(t),e[We]=t.current,Zu(e),new Yh(t)},t.version="19.2.3"},7043(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2777),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;t.isKey=function(e,t){return!Array.isArray(e)&&(!("number"!==typeof e&&"boolean"!==typeof e&&null!=e&&!n.isSymbol(e))||("string"===typeof e&&(a.test(e)||!i.test(e))||null!=t&&Object.hasOwn(t,e)))}},7231(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(3799),i=r(4879);t.range=function(e,t,r){r&&"number"!==typeof r&&n.isIterateeCall(e,t,r)&&(t=r=void 0),e=i.toFinite(e),void 0===t?(t=e,e=0):t=i.toFinite(t),r=void 0===r?e<t?1:-1:i.toFinite(r);const a=Math.max(Math.ceil((t-e)/(r||1)),0),s=new Array(a);for(let n=0;n<a;n++)s[n]=e,e+=r;return s}},7237(e,t,r){"use strict";r(8365)},7260(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isUnsafeProperty=function(e){return"__proto__"===e}},7312(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.flatten=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const r=[],n=Math.floor(t),i=(e,t)=>{for(let a=0;a<e.length;a++){const s=e[a];Array.isArray(s)&&t<n?i(s,t+1):r.push(s)}};return i(e,0),r}},7330(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(9323);t.property=function(e){return function(t){return n.get(t,e)}}},7599(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.argumentsTag="[object Arguments]",t.arrayBufferTag="[object ArrayBuffer]",t.arrayTag="[object Array]",t.bigInt64ArrayTag="[object BigInt64Array]",t.bigUint64ArrayTag="[object BigUint64Array]",t.booleanTag="[object Boolean]",t.dataViewTag="[object DataView]",t.dateTag="[object Date]",t.errorTag="[object Error]",t.float32ArrayTag="[object Float32Array]",t.float64ArrayTag="[object Float64Array]",t.functionTag="[object Function]",t.int16ArrayTag="[object Int16Array]",t.int32ArrayTag="[object Int32Array]",t.int8ArrayTag="[object Int8Array]",t.mapTag="[object Map]",t.numberTag="[object Number]",t.objectTag="[object Object]",t.regexpTag="[object RegExp]",t.setTag="[object Set]",t.stringTag="[object String]",t.symbolTag="[object Symbol]",t.uint16ArrayTag="[object Uint16Array]",t.uint32ArrayTag="[object Uint32Array]",t.uint8ArrayTag="[object Uint8Array]",t.uint8ClampedArrayTag="[object Uint8ClampedArray]"},7736(e,t,r){var n=r(3738).default,i=r(9045);e.exports=function(e){var t=i(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},7770(e,t,r){e.exports=r(9323).get},7820(e,t,r){e.exports=r(5414).throttle},7950(e,t,r){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(6672)},8210(e,t,r){var n;!function(){"use strict";var i,a=1e9,s={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},o=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),v={};function y(e,t){var r,n,i,a,s,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),o?O(t,h):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=s,l=c.length),a>(l=(s=Math.ceil(h/7))>l?s+1:l+1)&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/p|0,c[a]%=p;for(r&&(c.unshift(r),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,o?O(t,h):t}function b(e,t,r){if(e!==~~e||e<t||e>r)throw Error(c+e)}function x(e){var t,r,n,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)(r=7-(n=e[t]+"").length)&&(a+=k(r)),a+=n;(r=7-(n=(s=e[t])+"").length)&&(a+=k(r))}else if(0===s)return"0";for(;s%10===0;)s/=10;return a+s}v.absoluteValue=v.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},v.comparedTo=v.cmp=function(e){var t,r,n,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,r=(n=a.d.length)<(i=e.d.length)?n:i;t<r;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1},v.decimalPlaces=v.dp=function(){var e=this,t=e.d.length-1,r=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)r--;return r<0?0:r},v.dividedBy=v.div=function(e){return _(this,new this.constructor(e))},v.dividedToIntegerBy=v.idiv=function(e){var t=this.constructor;return O(_(this,new t(e),0,1),t.precision)},v.equals=v.eq=function(e){return!this.cmp(e)},v.exponent=function(){return S(this)},v.greaterThan=v.gt=function(e){return this.cmp(e)>0},v.greaterThanOrEqualTo=v.gte=function(e){return this.cmp(e)>=0},v.isInteger=v.isint=function(){return this.e>this.d.length-2},v.isNegative=v.isneg=function(){return this.s<0},v.isPositive=v.ispos=function(){return this.s>0},v.isZero=function(){return 0===this.s},v.lessThan=v.lt=function(e){return this.cmp(e)<0},v.lessThanOrEqualTo=v.lte=function(e){return this.cmp(e)<1},v.logarithm=v.log=function(e){var t,r=this,n=r.constructor,a=n.precision,s=a+5;if(void 0===e)e=new n(10);else if((e=new n(e)).s<1||e.eq(i))throw Error(l+"NaN");if(r.s<1)throw Error(l+(r.s?"NaN":"-Infinity"));return r.eq(i)?new n(0):(o=!1,t=_(C(r,s),C(e,s),s),o=!0,O(t,a))},v.minus=v.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?P(t,e):y(t,(e.s=-e.s,e))},v.modulo=v.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(!(e=new n(e)).s)throw Error(l+"NaN");return r.s?(o=!1,t=_(r,e,0,1).times(e),o=!0,r.minus(t)):O(new n(r),i)},v.naturalExponential=v.exp=function(){return w(this)},v.naturalLogarithm=v.ln=function(){return C(this)},v.negated=v.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},v.plus=v.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y(t,e):P(t,(e.s=-e.s,e))},v.precision=v.sd=function(e){var t,r,n,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(i)+1,r=7*(n=i.d.length-1)+1,n=i.d[n]){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r},v.squareRoot=v.sqrt=function(){var e,t,r,n,i,a,s,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),o=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),n=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):n=new u(i.toString()),i=s=(r=u.precision)+3;;)if(n=(a=n).plus(_(c,a,s+2)).times(.5),x(a.d).slice(0,s)===(t=x(n.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&"4999"==t){if(O(a,r+1,0),a.times(a).eq(c)){n=a;break}}else if("9999"!=t)break;s+=4}return o=!0,O(n,r)},v.times=v.mul=function(e){var t,r,n,i,a,s,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,r=d.e+e.e,(c=f.length)<(u=m.length)&&(a=f,f=m,m=a,s=c,c=u,u=s),a=[],n=s=c+u;n--;)a.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=a[i]+m[n]*f[i-n-1]+t,a[i--]=l%p|0,t=l/p|0;a[i]=(a[i]+t)%p|0}for(;!a[--s];)a.pop();return t?++r:a.shift(),e.d=a,e.e=r,o?O(e,h.precision):e},v.toDecimalPlaces=v.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),void 0===e?r:(b(e,0,a),void 0===t?t=n.rounding:b(t,0,8),O(r,e+S(r)+1,t))},v.toExponential=function(e,t){var r,n=this,i=n.constructor;return void 0===e?r=N(n,!0):(b(e,0,a),void 0===t?t=i.rounding:b(t,0,8),r=N(n=O(new i(n),e+1,t),!0,e+1)),r},v.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return void 0===e?N(i):(b(e,0,a),void 0===t?t=s.rounding:b(t,0,8),r=N((n=O(new s(i),e+S(i)+1,t)).abs(),!1,e+S(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)},v.toInteger=v.toint=function(){var e=this,t=e.constructor;return O(new t(e),S(e)+1,t.rounding)},v.toNumber=function(){return+this},v.toPower=v.pow=function(e){var t,r,n,a,s,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(n=h.precision,e.eq(i))return O(u,n);if(c=(t=e.e)>=(r=e.d.length-1),s=u.s,c){if((r=f<0?-f:f)<=m){for(a=new h(i),t=Math.ceil(n/7+4),o=!1;r%2&&A((a=a.times(u)).d,t),0!==(r=d(r/2));)A((u=u.times(u)).d,t);return o=!0,e.s<0?new h(i).div(a):O(a,n)}}else if(s<0)throw Error(l+"NaN");return s=s<0&&1&e.d[Math.max(t,r)]?-1:1,u.s=1,o=!1,a=e.times(C(u,n+12)),o=!0,(a=w(a)).s=s,a},v.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return void 0===e?n=N(i,(r=S(i))<=s.toExpNeg||r>=s.toExpPos):(b(e,1,a),void 0===t?t=s.rounding:b(t,0,8),n=N(i=O(new s(i),e,t),e<=(r=S(i))||r<=s.toExpNeg,e)),n},v.toSignificantDigits=v.tosd=function(e,t){var r=this.constructor;return void 0===e?(e=r.precision,t=r.rounding):(b(e,1,a),void 0===t?t=r.rounding:b(t,0,8)),O(new r(this),e,t)},v.toString=v.valueOf=v.val=v.toJSON=function(){var e=this,t=S(e),r=e.constructor;return N(e,t<=r.toExpNeg||t>=r.toExpPos)};var _=function(){function e(e,t){var r,n=0,i=e.length;for(e=e.slice();i--;)r=e[i]*t+n,e[i]=r%p|0,n=r/p|0;return n&&e.unshift(n),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r){for(var n=0;r--;)e[r]-=n,n=e[r]<t[r]?1:0,e[r]=n*p+e[r]-t[r];for(;!e[0]&&e.length>1;)e.shift()}return function(n,i,a,s){var o,c,u,d,h,f,m,g,v,y,b,x,_,w,j,k,C,E,P=n.constructor,N=n.s==i.s?1:-1,A=n.d,T=i.d;if(!n.s)return new P(n);if(!i.s)throw Error(l+"Division by zero");for(c=n.e-i.e,C=T.length,j=A.length,g=(m=new P(N)).d=[],u=0;T[u]==(A[u]||0);)++u;if(T[u]>(A[u]||0)&&--c,(x=null==a?a=P.precision:s?a+(S(n)-S(i))+1:a)<0)return new P(0);if(x=x/7+2|0,u=0,1==C)for(d=0,T=T[0],x++;(u<j||d)&&x--;u++)_=d*p+(A[u]||0),g[u]=_/T|0,d=_%T|0;else{for((d=p/(T[0]+1)|0)>1&&(T=e(T,d),A=e(A,d),C=T.length,j=A.length),w=C,y=(v=A.slice(0,C)).length;y<C;)v[y++]=0;(E=T.slice()).unshift(0),k=T[0],T[1]>=p/2&&++k;do{d=0,(o=t(T,v,C,y))<0?(b=v[0],C!=y&&(b=b*p+(v[1]||0)),(d=b/k|0)>1?(d>=p&&(d=p-1),1==(o=t(h=e(T,d),v,f=h.length,y=v.length))&&(d--,r(h,C<f?E:T,f))):(0==d&&(o=d=1),h=T.slice()),(f=h.length)<y&&h.unshift(0),r(v,h,y),-1==o&&(o=t(T,v,C,y=v.length))<1&&(d++,r(v,C<y?E:T,y)),y=v.length):0===o&&(d++,v=[0]),g[u++]=d,o&&v[0]?v[y++]=A[w]||0:(v=[A[w]],y=1)}while((w++<j||void 0!==v[0])&&x--)}return g[0]||g.shift(),m.e=c,O(m,s?a+S(m)+1:a)}}();function w(e,t){var r,n,a,s,l,c=0,d=0,f=e.constructor,p=f.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new f(i);for(null==t?(o=!1,l=p):l=t,s=new f(.03125);e.abs().gte(.1);)e=e.times(s),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,r=n=a=new f(i),f.precision=l;;){if(n=O(n.times(e),l),r=r.times(++c),x((s=a.plus(_(n,r,l))).d).slice(0,l)===x(a.d).slice(0,l)){for(;d--;)a=O(a.times(a),l);return f.precision=p,null==t?(o=!0,O(a,p)):a}a=s}}function S(e){for(var t=7*e.e,r=e.d[0];r>=10;r/=10)t++;return t}function j(e,t,r){if(t>e.LN10.sd())throw o=!0,r&&(e.precision=r),Error(l+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function k(e){for(var t="";e--;)t+="0";return t}function C(e,t){var r,n,a,s,c,u,d,h,f,p=1,m=e,g=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new v(0);if(null==t?(o=!1,h=y):h=t,m.eq(10))return null==t&&(o=!0),j(v,h);if(h+=10,v.precision=h,n=(r=x(g)).charAt(0),s=S(m),!(Math.abs(s)<15e14))return d=j(v,h+2,y).times(s+""),m=C(new v(n+"."+r.slice(1)),h-10).plus(d),v.precision=y,null==t?(o=!0,O(m,y)):m;for(;n<7&&1!=n||1==n&&r.charAt(1)>3;)n=(r=x((m=m.times(e)).d)).charAt(0),p++;for(s=S(m),n>1?(m=new v("0."+r),s++):m=new v(n+"."+r.slice(1)),u=c=m=_(m.minus(i),m.plus(i),h),f=O(m.times(m),h),a=3;;){if(c=O(c.times(f),h),x((d=u.plus(_(c,new v(a),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==s&&(u=u.plus(j(v,h+2,y).times(s+""))),u=_(u,new v(p),h),v.precision=y,null==t?(o=!0,O(u,y)):u;u=d,a+=2}}function E(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;48===t.charCodeAt(n);)++n;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(n,i)){if(i-=n,r=r-n-1,e.e=d(r/7),e.d=[],n=(r+1)%7,r<0&&(n+=7),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=7;n<i;)e.d.push(+t.slice(n,n+=7));n=7-(t=t.slice(n)).length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),o&&(e.e>g||e.e<-g))throw Error(u+r)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,r){var n,i,a,s,l,c,f,m,v=e.d;for(s=1,a=v[0];a>=10;a/=10)s++;if((n=t-s)<0)n+=7,i=t,f=v[m=0];else{if((m=Math.ceil((n+1)/7))>=(a=v.length))return e;for(f=a=v[m],s=1;a>=10;a/=10)s++;i=(n%=7)-7+s}if(void 0!==r&&(l=f/(a=h(10,s-i-1))%10|0,c=t<0||void 0!==v[m+1]||f%a,c=r<4?(l||c)&&(0==r||r==(e.s<0?3:2)):l>5||5==l&&(4==r||c||6==r&&(n>0?i>0?f/h(10,s-i):0:v[m-1])%10&1||r==(e.s<0?8:7))),t<1||!v[0])return c?(a=S(e),v.length=1,t=t-a-1,v[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(0==n?(v.length=m,a=1,m--):(v.length=m+1,a=h(10,7-n),v[m]=i>0?(f/h(10,s-i)%h(10,i)|0)*a:0),c)for(;;){if(0==m){(v[0]+=a)==p&&(v[0]=1,++e.e);break}if(v[m]+=a,v[m]!=p)break;v[m--]=0,a=1}for(n=v.length;0===v[--n];)v.pop();if(o&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function P(e,t){var r,n,i,a,s,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),o?O(t,m):t;if(c=e.d,h=t.d,n=t.e,u=e.e,c=c.slice(),s=u-n){for((d=s<0)?(r=c,s=-s,l=h.length):(r=h,n=u,l=c.length),s>(i=Math.max(Math.ceil(m/7),l)+2)&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}s=0}for(d&&(r=c,c=h,h=r,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>s;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=p-1;--c[a],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--n;return c[0]?(t.d=c,t.e=n,o?O(t,m):t):new f(0)}function N(e,t,r){var n,i=S(e),a=x(e.d),s=a.length;return t?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+k(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+k(-i-1)+a,r&&(n=r-s)>0&&(a+=k(n))):i>=s?(a+=k(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+k(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=k(n))),e.s<0?"-"+a:a}function A(e,t){if(e.length>t)return e.length=t,!0}function T(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,r,n,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(n=e[r=i[t]])){if(!(d(n)===n&&n>=i[t+1]&&n<=i[t+2]))throw Error(c+r+": "+n);this[r]=n}if(void 0!==(n=e[r="LN10"])){if(n!=Math.LN10)throw Error(c+r+": "+n);this[r]=new this(n)}return this}s=function e(t){var r,n,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):E(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);E(t,e)}if(a.prototype=v,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=T,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],r=0;r<i.length;)t.hasOwnProperty(n=i[r++])||(t[n]=this[n]);return a.config(t),a}(s),s.default=s.Decimal=s,i=new s(1),void 0===(n=function(){return s}.call(t,r,t,e))||(e.exports=n)}()},8268(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(2132);t.isMatch=function(e,t){return n.isMatchWith(e,t,()=>{})}},8346(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.toArray=function(e){return Array.isArray(e)?e:Array.from(e)}},8365(e,t,r){"use strict";var n=r(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=n.useSyncExternalStore,s=n.useRef,o=n.useEffect,l=n.useMemo,c=n.useDebugValue},8396(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(5508);t.cloneDeep=function(e){return n.cloneDeepWith(e)}},8420(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isLength=function(e){return Number.isSafeInteger(e)&&e>=0}},8443(e,t,r){"use strict";e.exports=r(9717)},8499(e){"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(e,t,n,a,s){if("function"!==typeof n)throw new TypeError("The listener must be a function");var o=new i(n,a||e,s),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function o(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),o.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},o.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,a=n.length,s=new Array(a);i<a;i++)s[i]=n[i].fn;return s},o.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},o.prototype.emit=function(e,t,n,i,a,s){var o=r?r+e:e;if(!this._events[o])return!1;var l,c,u=this._events[o],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,i),!0;case 5:return u.fn.call(u.context,t,n,i,a),!0;case 6:return u.fn.call(u.context,t,n,i,a,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},o.prototype.on=function(e,t,r){return a(this,e,t,r,!1)},o.prototype.once=function(e,t,r){return a(this,e,t,r,!0)},o.prototype.removeListener=function(e,t,n,i){var a=r?r+e:e;if(!this._events[a])return this;if(!t)return s(this,a),this;var o=this._events[a];if(o.fn)o.fn!==t||i&&!o.once||n&&o.context!==n||s(this,a);else{for(var l=0,c=[],u=o.length;l<u;l++)(o[l].fn!==t||i&&!o[l].once||n&&o[l].context!==n)&&c.push(o[l]);c.length?this._events[a]=1===c.length?c[0]:c:s(this,a)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,e.exports=o},8845(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(8268),i=r(3272),a=r(8396),s=r(9323),o=r(5303);t.matchesProperty=function(e,t){switch(typeof e){case"object":var r;Object.is(null===(r=e)||void 0===r?void 0:r.valueOf(),-0)&&(e="-0");break;case"number":e=i.toKey(e)}return t=a.cloneDeep(t),function(r){const i=s.get(r,e);return void 0===i?o.has(r,e):void 0===t?void 0===i:n.isMatch(i,t)}}},8853(e,t,r){"use strict";e.exports=r(5896)},9045(e,t,r){var n=r(3738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},9323(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(7260),i=r(2489),a=r(3272),s=r(1444);t.get=function e(t,r,o){if(null==t)return o;switch(typeof r){case"string":{if(n.isUnsafeProperty(r))return o;const a=t[r];return void 0===a?i.isDeepKey(r)?e(t,s.toPath(r),o):o:a}case"number":case"symbol":{"number"===typeof r&&(r=a.toKey(r));const e=t[r];return void 0===e?o:e}default:{var l;if(Array.isArray(r))return function(e,t,r){if(0===t.length)return r;let i=e;for(let a=0;a<t.length;a++){if(null==i)return r;if(n.isUnsafeProperty(t[a]))return r;i=i[t[a]]}if(void 0===i)return r;return i}(t,r,o);if(r=Object.is(null===(l=r)||void 0===l?void 0:l.valueOf(),-0)?"-0":String(r),n.isUnsafeProperty(r))return o;const e=t[r];return void 0===e?o:e}}}},9397(e,t,r){e.exports=r(2682).isPlainObject},9461(e,t,r){"use strict";e.exports=r(2330)},9599(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.identity=function(e){return e}},9645(e,t,r){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const n=r(6392),i=r(8346),a=r(1203);t.last=function(e){if(a.isArrayLike(e))return n.last(i.toArray(e))}},9709(e,t){"use strict";function r(e){return"symbol"===typeof e?1:null===e?2:void 0===e?3:e!==e?4:0}Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});t.compareValues=(e,t,n)=>{if(e!==t){const i=r(e),a=r(t);if(i===a&&0===i){if(e<t)return"desc"===n?1:-1;if(e>t)return"desc"===n?-1:1}return"desc"===n?a-i:i-a}return 0}},9717(e,t,r){"use strict";var n=r(5043),i=r(9461);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=i.useSyncExternalStore,o=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var d=o(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c(function(){function e(e){if(!l){if(l=!0,s=e,e=n(e),void 0!==i&&h.hasValue){var t=h.value;if(i(t,e))return o=t}return o=e}if(t=o,a(s,e))return t;var r=n(e);return void 0!==i&&i(t,r)?(s=e,t):(s=e,o=r)}var s,o,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,r,n,i]);var f=s(e,d[0],d[1]);return l(function(){h.hasValue=!0,h.value=f},[f]),u(f),f}},9859(e,t,r){e.exports=r(7231).range},9903(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.ary=function(e,t){return function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.apply(this,n.slice(0,t))}}},9921(e,t){"use strict";Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),t.isObjectLike=function(e){return"object"===typeof e&&null!==e}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.m=e,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var a=Object.create(null);r.r(a);var s={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&n;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>s[e]=()=>n[e]);return s.default=()=>n,r.d(a,s),a}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,n)=>(r.f[n](e,t),t),[])),r.u=e=>"static/js/"+e+".ecb2e5ab.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="admin-panel:";r.l=(n,i,a,s)=>{if(e[n])e[n].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+a),o.src=n),e[n]=[i];var h=(t,r)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[n];if(delete e[n],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(r)),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var a=new Promise((r,n)=>i=e[t]=[r,n]);n.push(i[2]=a);var s=r.p+r.u(t),o=new Error;r.l(s,n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}},"chunk-"+t,t)}};var t=(t,n)=>{var i,a,[s,o,l]=n,c=0;if(s.some(t=>0!==e[t])){for(i in o)r.o(o,i)&&(r.m[i]=o[i]);if(l)l(r)}for(t&&t(n);c<s.length;c++)a=s[c],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0},n=self.webpackChunkadmin_panel=self.webpackChunkadmin_panel||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{scaleBand:()=>jh,scaleDiverging:()=>bv,scaleDivergingLog:()=>xv,scaleDivergingPow:()=>wv,scaleDivergingSqrt:()=>Sv,scaleDivergingSymlog:()=>_v,scaleIdentity:()=>fp,scaleImplicit:()=>wh,scaleLinear:()=>hp,scaleLog:()=>wp,scaleOrdinal:()=>Sh,scalePoint:()=>Ch,scalePow:()=>Ap,scaleQuantile:()=>Wp,scaleQuantize:()=>qp,scaleRadial:()=>Dp,scaleSequential:()=>hv,scaleSequentialLog:()=>fv,scaleSequentialPow:()=>mv,scaleSequentialQuantile:()=>vv,scaleSequentialSqrt:()=>gv,scaleSequentialSymlog:()=>pv,scaleSqrt:()=>Tp,scaleSymlog:()=>Cp,scaleThreshold:()=>Kp,scaleTime:()=>lv,scaleUtc:()=>cv,tickFormat:()=>up});var t=r(5043),n=r.t(t,2),i=r(4391);function a(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=s(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function l(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){l(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const d=["sri"],h=["page"],f=["page","matches"],p=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"],m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition","unstable_defaultShouldRevalidate"];var v="popstate";function y(){return k(function(e,t){let{pathname:r,search:n,hash:i}=e.location;return w("",{pathname:r,search:n,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:S(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function b(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function x(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function _(e,t){return{usr:e.state,key:e.key,idx:t}}function w(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return u(u({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?j(t):t),{},{state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)})}function S(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function j(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function k(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",l=null,c=d();function d(){return(s.state||{idx:null}).idx}function h(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:p.location,delta:t})}function f(e){return C(e)}null==c&&(c=0,s.replaceState(u(u({},s.state),{},{idx:c}),""));let p={get action(){return o},get location(){return e(i,s)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(v,h),l=e,()=>{i.removeEventListener(v,h),l=null}},createHref:e=>t(i,e),createURL:f,encodeLocation(e){let t=f(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let n=w(p.location,e,t);r&&r(n,e),c=d()+1;let u=_(n,c),h=p.createHref(n);try{s.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;i.location.assign(h)}a&&l&&l({action:o,location:p.location,delta:1})},replace:function(e,t){o="REPLACE";let n=w(p.location,e,t);r&&r(n,e),c=d();let i=_(n,c),u=p.createHref(n);s.replaceState(i,"",u),a&&l&&l({action:o,location:p.location,delta:0})},go:e=>s.go(e)};return p}function C(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="http://localhost";"undefined"!==typeof window&&(r="null"!==window.location.origin?window.location.origin:window.location.href),b(r,"No window.location.(origin|href) available to create URL");let n="string"===typeof e?e:S(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}new WeakMap;function E(e,t){return O(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function O(e,t,r,n){let i=W(("string"===typeof t?j(t):t).pathname||"/",r);if(null==i)return null;let a=P(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every((e,r)=>e===t[r]);return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let s=null;for(let o=0;null==s&&o<a.length;++o){let e=U(i);s=z(a[o],e,n)}return s}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(n)&&s)return;b(l.relativePath.startsWith(n),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(n,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(n.length)}let c=J([n,l.relativePath]),u=r.concat(l);e.children&&e.children.length>0&&(b(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),P(e.children,t,u,c,s)),(null!=e.path||e.index)&&t.push({path:c,score:B(c,e.index),routesMeta:u})};return e.forEach((e,t)=>{var r;if(""!==e.path&&null!==(r=e.path)&&void 0!==r&&r.includes("?"))for(let n of N(e.path))a(e,t,!0,n);else a(e,t)}),t}function N(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===n.length)return i?[a,""]:[a];let s=N(n.join("/")),o=[];return o.push(...s.map(e=>""===e?a:[a,e].join("/"))),i&&o.push(...s),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var A=/^:[\w-]+$/,T=3,R=2,D=1,L=10,M=-2,I=e=>"*"===e;function B(e,t){let r=e.split("/"),n=r.length;return r.some(I)&&(n+=M),t&&(n+=R),r.filter(e=>!I(e)).reduce((e,t)=>e+(A.test(t)?T:""===t?D:L),n)}function z(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,i={},a="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],l=o===n.length-1,c="/"===a?t:t.slice(a.length)||"/",u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=F({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:J([a,u.pathname]),pathnameBase:Q(J([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=J([a,u.pathnameBase]))}return s}function F(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=H(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1),l=n.reduce((e,t,r)=>{let{paramName:n,isOptional:i}=t;if("*"===n){let e=o[r]||"";s=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[r];return e[n]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:s,pattern:e}}function H(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];x("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function U(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return x(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}var q=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K=e=>q.test(e);function V(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}function Y(e,t,r,n){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(n),"].  Please separate it out to the `to.").concat(r,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function G(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function X(e){let t=G(e);return t.map((e,r)=>r===t.length-1?e.pathname:e.pathnameBase)}function $(e,t,r){let n,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=j(e):(n=u({},e),b(!n.pathname||!n.pathname.includes("?"),Y("?","pathname","search",n)),b(!n.pathname||!n.pathname.includes("#"),Y("#","pathname","hash",n)),b(!n.search||!n.search.includes("#"),Y("#","search","hash",n)));let a,s=""===e||""===n.pathname,o=s?"/":n.pathname;if(null==o)a=r;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:i="",hash:a=""}="string"===typeof e?j(e):e;if(n)if(K(n))t=n;else{if(n.includes("//")){let e=n;n=n.replace(/\/\/+/g,"/"),x(!1,"Pathnames cannot have embedded double slashes - normalizing ".concat(e," -> ").concat(n))}t=n.startsWith("/")?V(n.substring(1),"/"):V(n,r)}else t=r;return{pathname:t,search:Z(i),hash:ee(a)}}(n,a),c=o&&"/"!==o&&o.endsWith("/"),d=(s||"."===o)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var J=e=>e.join("/").replace(/\/\/+/g,"/"),Q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ee=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";var te=class{constructor(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function re(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}function ne(e){return e.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;function ae(e,t){let r=e;if("string"!==typeof r||!q.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(ie)try{let e=new URL(window.location.href),n=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=W(n.pathname,t);n.origin===e.origin&&null!=a?r=a+n.search+n.hash:i=!0}catch(a){x(!1,'<Link to="'.concat(r,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}return{absoluteURL:n,isExternal:i,to:r}}Symbol("Uninstrumented");Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var se=["POST","PUT","PATCH","DELETE"],oe=(new Set(se),["GET",...se]);new Set(oe),Symbol("ResetLoaderData");var le=t.createContext(null);le.displayName="DataRouter";var ce=t.createContext(null);ce.displayName="DataRouterState";var ue=t.createContext(!1);function de(){return t.useContext(ue)}var he=t.createContext({isTransitioning:!1});he.displayName="ViewTransition";var fe=t.createContext(new Map);fe.displayName="Fetchers";var pe=t.createContext(null);pe.displayName="Await";var me=t.createContext(null);me.displayName="Navigation";var ge=t.createContext(null);ge.displayName="Location";var ve=t.createContext({outlet:null,matches:[],isDataRoute:!1});ve.displayName="Route";var ye=t.createContext(null);ye.displayName="RouteError";var be="REACT_ROUTER_ERROR";function xe(){return null!=t.useContext(ge)}function _e(){return b(xe(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(ge).location}var we="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Se(e){t.useContext(me).static||t.useLayoutEffect(e)}function je(){let{isDataRoute:e}=t.useContext(ve);return e?function(){let{router:e}=Ie("useNavigate"),r=ze("useNavigate"),n=t.useRef(!1);Se(()=>{n.current=!0});let i=t.useCallback(async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};x(n.current,we),n.current&&("number"===typeof t?await e.navigate(t):await e.navigate(t,u({fromRouteId:r},i)))},[e,r]);return i}():function(){b(xe(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(le),{basename:r,navigator:n}=t.useContext(me),{matches:i}=t.useContext(ve),{pathname:a}=_e(),s=JSON.stringify(X(i)),o=t.useRef(!1);Se(()=>{o.current=!0});let l=t.useCallback(function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(x(o.current,we),!o.current)return;if("number"===typeof t)return void n.go(t);let l=$(t,JSON.parse(s),a,"path"===i.relative);null==e&&"/"!==r&&(l.pathname="/"===l.pathname?r:J([r,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)},[r,n,s,a,e]);return l}()}var ke=t.createContext(null);function Ce(){let{matches:e}=t.useContext(ve),r=e[e.length-1];return r?r.params:{}}function Ee(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=t.useContext(ve),{pathname:i}=_e(),a=JSON.stringify(X(n));return t.useMemo(()=>$(e,JSON.parse(a),i,"path"===r),[e,a,i,r])}function Oe(e,r,n,i,a){b(xe(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=t.useContext(me),{matches:o}=t.useContext(ve),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",f=l&&l.route;{let e=f&&f.path||"";Ue(d,!f||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let p,m=_e();if(r){var g;let e="string"===typeof r?j(r):r;b("/"===h||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(h)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(h,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),p=e}else p=m;let v=p.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let _=E(e,{pathname:y});x(f||null!=_,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),x(null==_||void 0!==_[_.length-1].route.element||void 0!==_[_.length-1].route.Component||void 0!==_[_.length-1].route.lazy,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let w=Le(_&&_.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:J([h,s.encodeLocation?s.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:J([h,s.encodeLocation?s.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,n,i,a);return r&&w?t.createElement(ge.Provider,{value:{location:u({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:"POP"}},w):w}function Pe(){let e=Fe(),r=re(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:s},"ErrorBoundary")," or"," ",t.createElement("code",{style:s},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:a},n):null,o)}var Ne=t.createElement(Pe,null),Ae=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&"object"===typeof e&&e&&"digest"in e&&"string"===typeof e.digest){const t=function(e){if(e.startsWith("".concat(be,":").concat("ROUTE_ERROR_RESPONSE",":{")))try{let t=JSON.parse(e.slice(40));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText)return new te(t.status,t.statusText,t.data)}catch(t){}}(e.digest);t&&(e=t)}let r=void 0!==e?t.createElement(ve.Provider,{value:this.props.routeContext},t.createElement(ye.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?t.createElement(Re,{error:e},r):r}};Ae.contextType=ue;var Te=new WeakMap;function Re(e){let{children:r,error:n}=e,{basename:i}=t.useContext(me);if("object"===typeof n&&n&&"digest"in n&&"string"===typeof n.digest){let e=function(e){if(e.startsWith("".concat(be,":").concat("REDIRECT",":{")))try{let t=JSON.parse(e.slice(28));if("object"===typeof t&&t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"string"===typeof t.location&&"boolean"===typeof t.reloadDocument&&"boolean"===typeof t.replace)return t}catch(t){}}(n.digest);if(e){let r=Te.get(n);if(r)throw r;let a=ae(e.location,i);if(ie&&!Te.get(n)){if(!a.isExternal&&!e.reloadDocument){const t=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:e.replace}));throw Te.set(n,t),t}window.location.href=a.absoluteURL||a.to}return t.createElement("meta",{httpEquiv:"refresh",content:"0;url=".concat(a.absoluteURL||a.to)})}}return r}function De(e){let{routeContext:r,match:n,children:i}=e,a=t.useContext(le);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(ve.Provider,{value:r},i)}function Le(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==r.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let a=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=a.findIndex(e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id]));b(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(n)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}let c=n&&i?(e,t)=>{var r,a;i(e,{location:n.location,params:null!==(r=null===(a=n.matches)||void 0===a||null===(a=a[0])||void 0===a?void 0:a.params)&&void 0!==r?r:{},unstable_pattern:ne(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,i,u)=>{let d,h=!1,f=null,p=null;n&&(d=s&&i.route.id?s[i.route.id]:void 0,f=i.route.errorElement||Ne,o&&(l<0&&0===u?(Ue("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):l===u&&(h=!0,p=i.route.hydrateFallbackElement||null)));let m=r.concat(a.slice(0,u+1)),g=()=>{let r;return r=d?f:h?p:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(De,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:r})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===u)?t.createElement(Ae,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):g()},null)}function Me(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ie(e){let r=t.useContext(le);return b(r,Me(e)),r}function Be(e){let r=t.useContext(ce);return b(r,Me(e)),r}function ze(e){let r=function(e){let r=t.useContext(ve);return b(r,Me(e)),r}(e),n=r.matches[r.matches.length-1];return b(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function Fe(){var e;let r=t.useContext(ye),n=Be("useRouteError"),i=ze("useRouteError");return void 0!==r?r:null===(e=n.errors)||void 0===e?void 0:e[i]}var He={};function Ue(e,t,r){t||He[e]||(He[e]=!0,x(!1,r))}var We={};function qe(e,t){e||We[t]||(We[t]=!0,console.warn(t))}n.useOptimistic;t.memo(function(e){let{routes:t,future:r,state:n,onError:i}=e;return Oe(t,void 0,n,i,r)});function Ke(e){let{to:r,replace:n,state:i,relative:a}=e;b(xe(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=t.useContext(me);x(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=t.useContext(ve),{pathname:l}=_e(),c=je(),u=$(r,X(o),l,"path"===a),d=JSON.stringify(u);return t.useEffect(()=>{c(JSON.parse(d),{replace:n,state:i,relative:a})},[c,d,a,n,i]),null}function Ve(e){return function(e){let r=t.useContext(ve).outlet;return t.useMemo(()=>r&&t.createElement(ke.Provider,{value:e},r),[r,e])}(e.context)}function Ye(e){b(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ge(e){let{basename:r="/",children:n=null,location:i,navigationType:a="POP",navigator:s,static:o=!1,unstable_useTransitions:l}=e;b(!xe(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=r.replace(/^\/*/,"/"),u=t.useMemo(()=>({basename:c,navigator:s,static:o,unstable_useTransitions:l,future:{}}),[c,s,o,l]);"string"===typeof i&&(i=j(i));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=i,g=t.useMemo(()=>{let e=W(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:a}},[c,d,h,f,p,m,a]);return x(null!=g,'<Router basename="'.concat(c,'"> is not able to match the URL "').concat(d).concat(h).concat(f,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:t.createElement(me.Provider,{value:u},t.createElement(ge.Provider,{children:n,value:g}))}function Xe(e){let{children:t,location:r}=e;return Oe($e(t),r)}t.Component;function $e(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.Children.forEach(e,(e,i)=>{if(!t.isValidElement(e))return;let a=[...r,i];if(e.type===t.Fragment)return void n.push.apply(n,$e(e.props.children,a));b(e.type===Ye,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),b(!e.props.index||!e.props.children,"An index route cannot have child routes.");let s={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=$e(e.props.children,a)),n.push(s)}),n}var Je="get",Qe="application/x-www-form-urlencoded";function Ze(e){return"undefined"!==typeof HTMLElement&&e instanceof HTMLElement}function et(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(e=>[r,e]):[[r,n]])},[]))}var tt=null;var rt=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nt(e){return null==e||rt.has(e)?e:(x(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Qe,'"')),null)}function it(e,t){let r,n,i,a,s;if(function(e){return Ze(e)&&"form"===e.tagName.toLowerCase()}(e)){let s=e.getAttribute("action");n=s?W(s,t):null,r=e.getAttribute("method")||Je,i=nt(e.getAttribute("enctype"))||Qe,a=new FormData(e)}else if(function(e){return Ze(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Ze(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||s.getAttribute("action");if(n=o?W(o,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||Je,i=nt(e.getAttribute("formenctype"))||nt(s.getAttribute("enctype"))||Qe,a=new FormData(s,e),!function(){if(null===tt)try{new FormData(document.createElement("form"),0),tt=!1}catch(e){tt=!0}return tt}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,n)}}else{if(Ze(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Je,n=null,i=Qe,s=e}return a&&"text/plain"===i&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function at(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function st(e,t,r,n){let i="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return r?i.pathname.endsWith("/")?i.pathname="".concat(i.pathname,"_.").concat(n):i.pathname="".concat(i.pathname,".").concat(n):"/"===i.pathname?i.pathname="_root.".concat(n):t&&"/"===W(i.pathname,t)?i.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):i.pathname="".concat(i.pathname.replace(/\/$/,""),".").concat(n),i}async function ot(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function lt(e){return null!=e&&"string"===typeof e.page}function ct(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function ut(e,t,r,n,i,a){let s=(e,t)=>!r[t]||e.route.id!==r[t].route.id,o=(e,t)=>{var n;return r[t].pathname!==e.pathname||(null===(n=r[t].route.path)||void 0===n?void 0:n.endsWith("*"))&&r[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>s(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=n.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(s(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){var c;let n=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=r[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0}):[]}function dt(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map(e=>{let n=t.routes[e.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i}).flat(1),[...new Set(n)];var n}function ht(e,t){let r=new Set,n=new Set(t);return e.reduce((e,i)=>{if(t&&!lt(i)&&"script"===i.as&&i.href&&n.has(i.href))return e;let a=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(i));return r.has(a)||(r.add(a),e.push({key:a,link:i})),e},[])}function ft(e,t){return"lazy"===e.mode&&!0===t}function pt(){let e=t.useContext(le);return at(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function mt(){let e=t.useContext(ce);return at(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var gt=t.createContext(void 0);function vt(){let e=t.useContext(gt);return at(e,"You must render this element inside a <HydratedRouter> element"),e}function yt(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function bt(e,t,r){if(r&&!St)return[e[0]];if(t){let r=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,r+1)}return e}gt.displayName="FrameworkContext";function xt(e){let{page:r}=e,n=a(e,h),{router:i}=pt(),s=t.useMemo(()=>E(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?t.createElement(wt,u({page:r,matches:s},n)):null}function _t(e){let{manifest:r,routeModules:n}=vt(),[i,a]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,r){return ht((await Promise.all(e.map(async e=>{let n=t.routes[e.route.id];if(n){let e=await ot(n,r);return e.links?e.links():[]}return[]}))).flat(1).filter(ct).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?u(u({},e),{},{rel:"prefetch",as:"style"}):u(u({},e),{},{rel:"prefetch"})))}(e,r,n).then(e=>{t||a(e)}),()=>{t=!0}},[e,r,n]),i}function wt(e){let{page:r,matches:n}=e,i=a(e,f),s=_e(),{future:o,manifest:l,routeModules:c}=vt(),{basename:d}=pt(),{loaderData:h,matches:p}=mt(),m=t.useMemo(()=>ut(r,n,p,l,s,"data"),[r,n,p,l,s]),g=t.useMemo(()=>ut(r,n,p,l,s,"assets"),[r,n,p,l,s]),v=t.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(n.forEach(r=>{var n;let i=l.routes[r.route.id];i&&i.hasLoader&&(!m.some(e=>e.route.id===r.route.id)&&r.route.id in h&&null!==(n=c[r.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?t=!0:e.add(r.route.id))}),0===e.size)return[];let i=st(r,d,o.unstable_trailingSlashAwareDataRequests,"data");return t&&e.size>0&&i.searchParams.set("_routes",n.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[i.pathname+i.search]},[d,o.unstable_trailingSlashAwareDataRequests,h,s,l,m,n,r,c]),y=t.useMemo(()=>dt(g,l),[g,l]),b=_t(g);return t.createElement(t.Fragment,null,v.map(e=>t.createElement("link",u({key:e,rel:"prefetch",as:"fetch",href:e},i))),y.map(e=>t.createElement("link",u({key:e,rel:"modulepreload",href:e},i))),b.map(e=>{let{key:r,link:n}=e;return t.createElement("link",u({key:r,nonce:i.nonce},n))}))}var St=!1;function jt(e){let{manifest:r,serverHandoffString:n,isSpaMode:i,renderMeta:s,routeDiscovery:o,ssr:l}=vt(),{router:c,static:h,staticContext:f}=pt(),{matches:p}=mt(),m=de(),g=ft(o,l);s&&(s.didRenderScripts=!0);let v=bt(p,null,i);t.useEffect(()=>{0},[]);let y=t.useMemo(()=>{var i;if(m)return null;let s=f?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",o=h?"".concat(null!==r.hmr&&void 0!==i&&i.runtime?"import ".concat(JSON.stringify(r.hmr.runtime),";"):"").concat(g?"":"import ".concat(JSON.stringify(r.url)),";\n").concat(v.map((e,t)=>{let n="route".concat(t),i=r.routes[e.route.id];at(i,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:s,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=i,u=[...a?[{module:a,varName:"".concat(n,"_clientAction")}]:[],...s?[{module:s,varName:"".concat(n,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(n,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(n,"_HydrateFallback")}]:[],{module:c,varName:"".concat(n,"_main")}];return 1===u.length?"import * as ".concat(n," from ").concat(JSON.stringify(c),";"):[u.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(n," = {").concat(u.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(g?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:r}=e,n=a(e,d),i=new Set(t.state.matches.map(e=>e.route.id)),s=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(s.pop();s.length>0;)o.push("/".concat(s.join("/"))),s.pop();o.forEach(e=>{let r=E(t.routes,e,t.basename);r&&r.forEach(e=>i.add(e.route.id))});let l=[...i].reduce((e,t)=>Object.assign(e,{[t]:n.routes[t]}),{});return u(u({},n),{},{routes:l,sri:!!r||void 0})}(r,c),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(v.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(r.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:s},type:void 0})),t.createElement("script",u(u({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:o},type:"module",async:!0})))},[]),b=St||m?[]:function(e){return[...new Set(e)]}(r.entry.imports.concat(dt(v,r,{includeHydrateFallback:!0}))),x="object"===typeof r.sri?r.sri:{};return qe(!m,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),St||m?null:t.createElement(t.Fragment,null,"object"===typeof r.sri?t.createElement("script",u(u({},e),{},{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}})):null,g?null:t.createElement("link",{rel:"modulepreload",href:r.url,crossOrigin:e.crossOrigin,integrity:x[r.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:r.entry.module,crossOrigin:e.crossOrigin,integrity:x[r.entry.module],suppressHydrationWarning:!0}),b.map(r=>t.createElement("link",{key:r,rel:"modulepreload",href:r,crossOrigin:e.crossOrigin,integrity:x[r],suppressHydrationWarning:!0})),y)}function kt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function Ct(e){let{error:r,isOutsideRemixApp:n}=e;console.error(r);let i,a=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(re(r))return t.createElement(Et,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},r.status," ",r.statusText),a);if(r instanceof Error)0;else{let e=null==r?"Unknown Error":"object"===typeof r&&"toString"in r?r.toString():JSON.stringify(r);new Error(e)}return t.createElement(Et,{title:"Application Error!",isOutsideRemixApp:n},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),a)}function Et(e){var r;let{title:n,renderScripts:i,isOutsideRemixApp:a,children:s}=e,{routeModules:o}=vt();return null!==o.root&&void 0!==r&&r.Layout&&!a?s:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,i?t.createElement(jt,null):null)))}var Ot="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Ot&&(window.__reactRouterVersion="7.12.0")}catch(YM){}function Pt(e){let{basename:r,children:n,unstable_useTransitions:i,window:a}=e,s=t.useRef();null==s.current&&(s.current=y({window:a,v5Compat:!0}));let o=s.current,[l,c]=t.useState({action:o.action,location:o.location}),u=t.useCallback(e=>{!1===i?c(e):t.startTransition(()=>c(e))},[i]);return t.useLayoutEffect(()=>o.listen(u),[o,u]),t.createElement(Ge,{basename:r,children:n,location:l.location,navigationType:l.action,navigator:o,unstable_useTransitions:i})}var Nt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,At=t.forwardRef(function(e,r){let{onClick:n,discover:i="render",prefetch:s="none",relative:o,reloadDocument:l,replace:c,state:d,target:h,to:f,preventScrollReset:m,viewTransition:g,unstable_defaultShouldRevalidate:v}=e,y=a(e,p),{basename:x,unstable_useTransitions:_}=t.useContext(me),w="string"===typeof f&&Nt.test(f),j=ae(f,x);f=j.to;let k=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(xe(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=t.useContext(me),{hash:a,pathname:s,search:o}=Ee(e,{relative:r}),l=s;return"/"!==n&&(l="/"===s?n:J([n,s])),i.createHref({pathname:l,search:o,hash:a})}(f,{relative:o}),[C,E,O]=function(e,r){let n=t.useContext(gt),[i,a]=t.useState(!1),[s,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:d,onTouchStart:h}=r,f=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(i){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[i]);let p=()=>{a(!0)},m=()=>{a(!1),o(!1)};return n?"intent"!==e?[s,f,{}]:[s,f,{onFocus:yt(l,p),onBlur:yt(c,m),onMouseEnter:yt(u,p),onMouseLeave:yt(d,m),onTouchStart:yt(h,p)}]:[!1,f,{}]}(s,y),P=function(e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:c}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=je(),d=_e(),h=Ee(e,{relative:s});return t.useCallback(f=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(f,r)){f.preventDefault();let r=void 0!==n?n:S(d)===S(h),p=()=>u(e,{replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:l});c?t.startTransition(()=>p()):p()}},[d,u,h,n,i,r,e,a,s,o,l,c])}(f,{replace:c,state:d,target:h,preventScrollReset:m,relative:o,viewTransition:g,unstable_defaultShouldRevalidate:v,unstable_useTransitions:_});let N=t.createElement("a",u(u(u({},y),O),{},{href:j.absoluteURL||k,onClick:j.isExternal||l?n:function(e){n&&n(e),e.defaultPrevented||P(e)},ref:kt(r,E),target:h,"data-discover":w||"render"!==i?void 0:"true"}));return C&&!w?t.createElement(t.Fragment,null,N,t.createElement(xt,{page:k})):N});At.displayName="Link";var Tt=t.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:d,children:h}=e,f=a(e,m),p=Ee(c,{relative:f.relative}),g=_e(),v=t.useContext(ce),{navigator:y,basename:x}=t.useContext(me),_=null!=v&&function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useContext(he);b(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Lt("useViewTransitionState"),a=Ee(e,{relative:r});if(!n.isTransitioning)return!1;let s=W(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=W(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=F(a.pathname,o)||null!=F(a.pathname,s)}(p)&&!0===d,w=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,S=g.pathname,j=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(S=S.toLowerCase(),j=j?j.toLowerCase():null,w=w.toLowerCase()),j&&x&&(j=W(j,x)||j);const k="/"!==w&&w.endsWith("/")?w.length-1:w.length;let C,E=S===w||!o&&S.startsWith(w)&&"/"===S.charAt(k),O=null!=j&&(j===w||!o&&j.startsWith(w)&&"/"===j.charAt(w.length)),P={isActive:E,isPending:O,isTransitioning:_},N=E?n:void 0;C="function"===typeof s?s(P):[s,E?"active":null,O?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let A="function"===typeof l?l(P):l;return t.createElement(At,u(u({},f),{},{"aria-current":N,className:C,ref:r,style:A,to:c,viewTransition:d}),"function"===typeof h?h(P):h)});Tt.displayName="NavLink";var Rt=t.forwardRef((e,r)=>{let{discover:n="render",fetcherKey:i,navigate:s,reloadDocument:o,replace:l,state:c,method:d=Je,action:h,onSubmit:f,relative:p,preventScrollReset:m,viewTransition:v,unstable_defaultShouldRevalidate:y}=e,x=a(e,g),{unstable_useTransitions:_}=t.useContext(me),w=zt(),j=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=t.useContext(me),i=t.useContext(ve);b(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),s=u({},Ee(e||".",{relative:r})),o=_e();if(null==e){s.search=o.search;let e=new URLSearchParams(s.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let r=e.toString();s.search=r?"?".concat(r):""}}e&&"."!==e||!a.route.index||(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(s.pathname="/"===s.pathname?n:J([n,s.pathname]));return S(s)}(h,{relative:p}),k="get"===d.toLowerCase()?"get":"post",C="string"===typeof h&&Nt.test(h);return t.createElement("form",u(u({ref:r,method:k,action:j,onSubmit:o?f:e=>{if(f&&f(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,n=(null===r||void 0===r?void 0:r.getAttribute("formmethod"))||d,a=()=>w(r||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:l,state:c,relative:p,preventScrollReset:m,viewTransition:v,unstable_defaultShouldRevalidate:y});_&&!1!==s?t.startTransition(()=>a()):a()}},x),{},{"data-discover":C||"render"!==n?void 0:"true"}))});function Dt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Lt(e){let r=t.useContext(le);return b(r,Dt(e)),r}function Mt(e){x("undefined"!==typeof URLSearchParams,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=t.useRef(et(e)),n=t.useRef(!1),i=_e(),a=t.useMemo(()=>function(e,t){let r=et(e);return t&&t.forEach((e,n)=>{r.has(n)||t.getAll(n).forEach(e=>{r.append(n,e)})}),r}(i.search,n.current?null:r.current),[i.search]),s=je(),o=t.useCallback((e,t)=>{const r=et("function"===typeof e?e(new URLSearchParams(a)):e);n.current=!0,s("?"+r,t)},[s,a]);return[a,o]}Rt.displayName="Form";var It=0,Bt=()=>"__".concat(String(++It),"__");function zt(){let{router:e}=Lt("useSubmit"),{basename:r}=t.useContext(me),n=ze("useRouteId"),i=e.fetch,a=e.navigate;return t.useCallback(async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:l,formData:c,body:u}=it(e,r);if(!1===t.navigate){let e=t.fetcherKey||Bt();await i(e,n,t.action||s,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:c,body:u,formMethod:t.method||o,formEncType:t.encType||l,flushSync:t.flushSync})}else await a(t.action||s,{unstable_defaultShouldRevalidate:t.unstable_defaultShouldRevalidate,preventScrollReset:t.preventScrollReset,formData:c,body:u,formMethod:t.method||o,formEncType:t.encType||l,replace:t.replace,state:t.state,fromRouteId:n,flushSync:t.flushSync,viewTransition:t.viewTransition})},[i,a,r,n])}var Ft=r(579);const Ht=(0,t.createContext)(null),Ut=e=>{let{children:r}=e;const[n,i]=(0,t.useState)(null),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)("uah"),[c,u]=(0,t.useState)(null),[d,h]=(0,t.useState)(!0);(0,t.useEffect)(()=>{const e=localStorage.getItem("userToken"),t=localStorage.getItem("userRole"),r=localStorage.getItem("userCurrency");if(e&&t){i(e),s(t);(async()=>{try{const t=await fetch("/api/client/me?force_refresh=true",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const n=await t.json(),i=n.response||n;if(i)if(u(i),r){if(l(r),i.preferred_currency!==r)try{await fetch("/api/client/settings",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({preferred_currency:r})})}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0432\u0430\u043b\u044e\u0442\u044b:",YM)}}else i.preferred_currency&&(l(i.preferred_currency),localStorage.setItem("userCurrency",i.preferred_currency))}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u0440\u0438 \u0438\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438:",YM),r&&l(r)}finally{h(!1)}})()}else h(!1),r&&l(r)},[]);const f={token:n,role:a,user:c,setUser:u,setToken:i,setRole:s,login:async(e,t)=>{const r=await fetch("/api/public/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})}),n=await r.json();if(!r.ok){if(403===r.status&&"NOT_VERIFIED"===n.code)throw new Error("NOT_VERIFIED");throw new Error(n.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430")}const a=n.token,o=n.role;if(a&&o){i(a),s(o),localStorage.setItem("userToken",a),localStorage.setItem("userRole",o);try{const e=await fetch("/api/client/me?force_refresh=true",{headers:{Authorization:"Bearer ".concat(a)}});if(e.ok){const t=await e.json(),r=t.response||t;r&&(u(r),r.preferred_currency&&(l(r.preferred_currency),localStorage.setItem("userCurrency",r.preferred_currency)))}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e\u0441\u043b\u0435 \u043b\u043e\u0433\u0438\u043d\u0430:",YM)}return{token:a,role:o}}throw new Error("\u0422\u043e\u043a\u0435\u043d \u0438\u043b\u0438 \u0440\u043e\u043b\u044c \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b")},logout:()=>{i(null),s(null),u(null),l("uah"),localStorage.removeItem("userToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userCurrency"),localStorage.removeItem("userLang")},register:async(e,t,r)=>{const n=await fetch("/api/public/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,ref_code:r})}),i=await n.json();if(!n.ok){const e=i.errors?i.errors[0].message:i.message;throw new Error(e||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438")}return i},telegramLogin:async e=>{const t=await fetch("/api/public/telegram-login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 Telegram");const n=r.token,a=r.role;if(n&&a){i(n),s(a),localStorage.setItem("userToken",n),localStorage.setItem("userRole",a);try{await new Promise(e=>setTimeout(e,100));const e=await fetch("/api/client/me?force_refresh=true",{headers:{Authorization:"Bearer ".concat(n)}});if(e.ok){const t=await e.json(),r=t.response||t;if(r)return u(r),r.preferred_currency&&(l(r.preferred_currency),localStorage.setItem("userCurrency",r.preferred_currency)),{token:n,role:a,user:r}}else if(401===e.status){console.warn("\u041f\u043e\u043b\u0443\u0447\u0435\u043d 401 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u0430\u044f \u043f\u043e\u043f\u044b\u0442\u043a\u0430 \u0447\u0435\u0440\u0435\u0437 300ms..."),await new Promise(e=>setTimeout(e,300));const e=await fetch("/api/client/me?force_refresh=true",{headers:{Authorization:"Bearer ".concat(n)}});if(e.ok){const t=await e.json(),r=t.response||t;if(r)return u(r),r.preferred_currency&&(l(r.preferred_currency),localStorage.setItem("userCurrency",r.preferred_currency)),{token:n,role:a,user:r}}}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043f\u043e\u0441\u043b\u0435 Telegram \u043b\u043e\u0433\u0438\u043d\u0430:",YM)}return{token:n,role:a}}throw new Error("\u0422\u043e\u043a\u0435\u043d \u0438\u043b\u0438 \u0440\u043e\u043b\u044c \u043d\u0435 \u0431\u044b\u043b\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u044b")},loading:d,currency:o,setCurrency:l};return(0,Ft.jsx)(Ht.Provider,{value:f,children:r})},Wt=()=>(0,t.useContext)(Ht),qt=e=>"string"===typeof e,Kt=()=>{let e,t;const r=new Promise((r,n)=>{e=r,t=n});return r.resolve=e,r.reject=t,r},Vt=e=>null==e?"":""+e,Yt=/###/g,Gt=e=>e&&e.indexOf("###")>-1?e.replace(Yt,"."):e,Xt=e=>!e||qt(e),$t=(e,t,r)=>{const n=qt(t)?t.split("."):t;let i=0;for(;i<n.length-1;){if(Xt(e))return{};const t=Gt(n[i]);!e[t]&&r&&(e[t]=new r),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return Xt(e)?{}:{obj:e,k:Gt(n[i])}},Jt=(e,t,r)=>{const{obj:n,k:i}=$t(e,t,Object);if(void 0!==n||1===t.length)return void(n[i]=r);let a=t[t.length-1],s=t.slice(0,t.length-1),o=$t(e,s,Object);for(;void 0===o.obj&&s.length;){var l;a="".concat(s[s.length-1],".").concat(a),s=s.slice(0,s.length-1),o=$t(e,s,Object),null!==(l=o)&&void 0!==l&&l.obj&&"undefined"!==typeof o.obj["".concat(o.k,".").concat(a)]&&(o.obj=void 0)}o.obj["".concat(o.k,".").concat(a)]=r},Qt=(e,t)=>{const{obj:r,k:n}=$t(e,t);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},Zt=(e,t,r)=>{for(const n in t)"__proto__"!==n&&"constructor"!==n&&(n in e?qt(e[n])||e[n]instanceof String||qt(t[n])||t[n]instanceof String?r&&(e[n]=t[n]):Zt(e[n],t[n],r):e[n]=t[n]);return e},er=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var tr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const rr=e=>qt(e)?e.replace(/[&<>"'\/]/g,e=>tr[e]):e;const nr=[" ",",","?","!",";"],ir=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}(20),ar=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const n=t.split(r);let i=e;for(let a=0;a<n.length;){if(!i||"object"!==typeof i)return;let e,t="";for(let s=a;s<n.length;++s)if(s!==a&&(t+=r),t+=n[s],e=i[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&s<n.length-1)continue;a+=s-a+1;break}i=e}return i},sr=e=>null===e||void 0===e?void 0:e.replace("_","-"),or={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var r,n;null===(r=console)||void 0===r||null===(r=r[e])||void 0===r||null===(n=r.apply)||void 0===n||n.call(r,console,t)}};class lr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||or,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,n){return n&&!this.debug?null:(qt(e[0])&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new lr(this.logger,u(u({},{prefix:"".concat(this.prefix,":").concat(e,":")}),this.options))}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new lr(this.logger,e)}}var cr=new lr;class ur{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const r=this.observers[e].get(t)||0;this.observers[e].set(t,r+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(e=>{let[t,n]=e;for(let i=0;i<n;i++)t(...r)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(t=>{let[n,i]=t;for(let a=0;a<i;a++)n.apply(n,[e,...r])})}}}class dr extends ur{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){var n;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,s=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,t],r&&(Array.isArray(r)?o.push(...r):qt(r)&&a?o.push(...r.split(a)):o.push(r)));const l=Qt(this.data,o);return!l&&!t&&!r&&e.indexOf(".")>-1&&(e=o[0],t=o[1],r=o.slice(2).join(".")),!l&&s&&qt(r)?ar(null===(n=this.data)||void 0===n||null===(n=n[e])||void 0===n?void 0:n[t],r,a):l}addResource(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let s=[e,t];r&&(s=s.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(s=e.split("."),n=t,t=s[1]),this.addNamespaces(t),Jt(this.data,s,n),i.silent||this.emit("added",e,t,r,n)}addResources(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in r)(qt(r[i])||Array.isArray(r[i]))&&this.addResource(e,t,i,r[i],{silent:!0});n.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,n,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),n=r,r=t,t=s[1]),this.addNamespaces(t);let o=Qt(this.data,s)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),n?Zt(o,r,i):o=u(u({},o),r),Jt(this.data,s,o),a.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var hr={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,r,n,i){return e.forEach(e=>{var a,s;t=null!==(a=null===(s=this.processors[e])||void 0===s?void 0:s.process(t,r,n,i))&&void 0!==a?a:t}),t}};const fr=Symbol("i18next/PATH_KEY");function pr(e,t){var r;const{[fr]:n}=e(function(){const e=[],t=Object.create(null);let r;return t.get=(n,i)=>{var a,s;return null===(a=r)||void 0===a||null===(s=a.revoke)||void 0===s||s.call(a),i===fr?e:(e.push(i),r=Proxy.revocable(n,t),r.proxy)},Proxy.revocable(Object.create(null),t).proxy}());return n.join(null!==(r=null===t||void 0===t?void 0:t.keySeparator)&&void 0!==r?r:".")}const mr={},gr=e=>!qt(e)&&"boolean"!==typeof e&&"number"!==typeof e;class vr extends ur{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,r)=>{e.forEach(e=>{t[e]&&(r[e]=t[e])})})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=cr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){const t=u({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}});if(null==e)return!1;const r=this.resolve(e,t);if(void 0===(null===r||void 0===r?void 0:r.res))return!1;const n=gr(r.res);return!1!==t.returnObjects||!n}extractFromKey(e,t){let r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");const n=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,r)=>{t=t||"",r=r||"";const n=nr.filter(e=>t.indexOf(e)<0&&r.indexOf(e)<0);if(0===n.length)return!0;const i=ir.getRegExp("(".concat(n.map(e=>"?"===e?"\\?":e).join("|"),")"));let a=!i.test(e);if(!a){const t=e.indexOf(r);t>0&&!i.test(e.substring(0,t))&&(a=!0)}return a})(e,r,n);if(a&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:qt(i)?[i]:i};const a=e.split(r);(r!==n||r===n&&this.options.ns.indexOf(a[0])>-1)&&(i=a.shift()),e=a.join(n)}return{key:e,namespaces:qt(i)?[i]:i}}translate(e,t,r){let n="object"===typeof t?u({},t):t;if("object"!==typeof n&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof n&&(n=u({},n)),n||(n={}),null==e)return"";"function"===typeof e&&(e=pr(e,u(u({},this.options),n))),Array.isArray(e)||(e=[String(e)]);const i=void 0!==n.returnDetails?n.returnDetails:this.options.returnDetails,a=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,{key:s,namespaces:o}=this.extractFromKey(e[e.length-1],n),l=o[o.length-1];let c=void 0!==n.nsSeparator?n.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");const d=n.lng||this.language,h=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null===d||void 0===d?void 0:d.toLowerCase()))return h?i?{res:"".concat(l).concat(c).concat(s),usedKey:s,exactUsedKey:s,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:"".concat(l).concat(c).concat(s):i?{res:s,usedKey:s,exactUsedKey:s,usedLng:d,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:s;const f=this.resolve(e,n);let p=null===f||void 0===f?void 0:f.res;const m=(null===f||void 0===f?void 0:f.usedKey)||s,g=(null===f||void 0===f?void 0:f.exactUsedKey)||s,v=void 0!==n.joinArrays?n.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,b=void 0!==n.count&&!qt(n.count),x=vr.hasDefaultValue(n),_=b?this.pluralResolver.getSuffix(d,n.count,n):"",w=n.ordinal&&b?this.pluralResolver.getSuffix(d,n.count,{ordinal:!1}):"",S=b&&!n.ordinal&&0===n.count,j=S&&n["defaultValue".concat(this.options.pluralSeparator,"zero")]||n["defaultValue".concat(_)]||n["defaultValue".concat(w)]||n.defaultValue;let k=p;y&&!p&&x&&(k=j);const C=gr(k),E=Object.prototype.toString.apply(k);if(!(y&&k&&C&&["[object Number]","[object Function]","[object RegExp]"].indexOf(E)<0)||qt(v)&&Array.isArray(k))if(y&&qt(v)&&Array.isArray(p))p=p.join(v),p&&(p=this.extendTranslation(p,e,n,r));else{let t=!1,i=!1;!this.isValidLookup(p)&&x&&(t=!0,p=j),this.isValidLookup(p)||(i=!0,p=s);const o=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&i?void 0:p,h=x&&j!==p&&this.options.updateMissing;if(i||t||h){if(this.logger.log(h?"updateKey":"missingKey",d,l,s,h?j:p),a){const e=this.resolve(s,u(u({},n),{},{keySeparator:!1}));e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let n=0;n<t.length;n++)e.push(t[n]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(n.lng||this.language):e.push(n.lng||this.language);const r=(e,t,r)=>{var i;const a=x&&r!==p?r:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,a,h,n):null!==(i=this.backendConnector)&&void 0!==i&&i.saveMissing&&this.backendConnector.saveMissing(e,l,t,a,h,n),this.emit("missingKey",e,l,t,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&b?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,n);S&&n["defaultValue".concat(this.options.pluralSeparator,"zero")]&&t.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&t.push("".concat(this.options.pluralSeparator,"zero")),t.forEach(t=>{r([e],s+t,n["defaultValue".concat(t)]||j)})}):r(e,s,j))}p=this.extendTranslation(p,e,n,f,r),i&&p===s&&this.options.appendNamespaceToMissingKey&&(p="".concat(l).concat(c).concat(s)),(i||t)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l).concat(c).concat(s):s,t?p:void 0,n))}else{if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,k,u(u({},n),{},{ns:o})):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");return i?(f.res=e,f.usedParams=this.getUsedParamsDetails(n),f):e}if(a){const e=Array.isArray(k),t=e?[]:{},r=e?g:m;for(const i in k)if(Object.prototype.hasOwnProperty.call(k,i)){const e="".concat(r).concat(a).concat(i);t[i]=x&&!p?this.translate(e,u(u({},n),{},{defaultValue:gr(j)?j[i]:void 0},{joinArrays:!1,ns:o})):this.translate(e,u(u({},n),{joinArrays:!1,ns:o})),t[i]===e&&(t[i]=k[i])}p=t}}return i?(f.res=p,f.usedParams=this.getUsedParamsDetails(n),f):p}extendTranslation(e,t,r,n,i){var a,s=this;if(null!==(a=this.i18nFormat)&&void 0!==a&&a.parse)e=this.i18nFormat.parse(e,u(u({},this.options.interpolation.defaultVariables),r),r.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!r.skipInterpolation){var o;r.interpolation&&this.interpolator.init(u(u({},r),{interpolation:u(u({},this.options.interpolation),r.interpolation)}));const a=qt(e)&&(void 0!==(null===r||void 0===r||null===(o=r.interpolation)||void 0===o?void 0:o.skipOnVariables)?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let l;if(a){const t=e.match(this.interpolator.nestingRegexp);l=t&&t.length}let c=r.replace&&!qt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(c=u(u({},this.options.interpolation.defaultVariables),c)),e=this.interpolator.interpolate(e,c,r.lng||this.language||n.usedLng,r),a){const t=e.match(this.interpolator.nestingRegexp);l<(t&&t.length)&&(r.nest=!1)}!r.lng&&n&&n.res&&(r.lng=this.language||n.usedLng),!1!==r.nest&&(e=this.interpolator.nest(e,function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(null===i||void 0===i?void 0:i[0])!==n[0]||r.context?s.translate(...n,t):(s.logger.warn("It seems you are nesting recursively key: ".concat(n[0]," in key: ").concat(t[0])),null)},r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=qt(l)?[l]:l;return null!=e&&null!==c&&void 0!==c&&c.length&&!1!==r.applyPostProcessor&&(e=hr.handle(c,e,t,this.options&&this.options.postProcessPassResolved?u({i18nResolved:u(u({},n),{},{usedParams:this.getUsedParamsDetails(r)})},r):r,this)),e}resolve(e){let t,r,n,i,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return qt(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(t))return;const o=this.extractFromKey(e,s),l=o.key;r=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==s.count&&!qt(s.count),d=u&&!s.ordinal&&0===s.count,h=void 0!==s.context&&(qt(s.context)||"number"===typeof s.context)&&""!==s.context,f=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach(e=>{var o,c;this.isValidLookup(t)||(a=e,mr["".concat(f[0],"-").concat(e)]||null===(o=this.utils)||void 0===o||!o.hasLoadedNamespace||null!==(c=this.utils)&&void 0!==c&&c.hasLoadedNamespace(a)||(mr["".concat(f[0],"-").concat(e)]=!0,this.logger.warn('key "'.concat(r,'" for languages "').concat(f.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach(r=>{var a;if(this.isValidLookup(t))return;i=r;const o=[l];if(null!==(a=this.i18nFormat)&&void 0!==a&&a.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,r,e,s);else{let e;u&&(e=this.pluralResolver.getSuffix(r,s.count,s));const t="".concat(this.options.pluralSeparator,"zero"),n="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(u&&(s.ordinal&&0===e.indexOf(n)&&o.push(l+e.replace(n,this.options.pluralSeparator)),o.push(l+e),d&&o.push(l+t)),h){const r="".concat(l).concat(this.options.contextSeparator||"_").concat(s.context);o.push(r),u&&(s.ordinal&&0===e.indexOf(n)&&o.push(r+e.replace(n,this.options.pluralSeparator)),o.push(r+e),d&&o.push(r+t))}}let c;for(;c=o.pop();)this.isValidLookup(t)||(n=c,t=this.getResource(r,e,c,s))}))})}),{res:t,usedKey:r,exactUsedKey:n,usedLng:i,usedNS:a}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,r){var n;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return null!==(n=this.i18nFormat)&&void 0!==n&&n.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!qt(e.replace);let n=r?e.replace:e;if(r&&"undefined"!==typeof e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n=u(u({},this.options.interpolation.defaultVariables),n)),!r){n=u({},n);for(const e of t)delete n[e]}return n}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,12)&&void 0!==e[r])return!0;return!1}}class yr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=cr.create("languageUtils")}getScriptPartFromCode(e){if(!(e=sr(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=sr(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(qt(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(YM){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const r=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(r)||(t=r)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const r=this.getScriptPartFromCode(e);if(this.isSupportedCode(r))return t=r;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find(e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),qt(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),n=[],i=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return qt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):qt(e)&&i(this.formatLanguageCode(e)),r.forEach(e=>{n.indexOf(e)<0&&i(this.formatLanguageCode(e))}),n}}const br={zero:0,one:1,two:2,few:3,many:4,other:5},xr={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class _r{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=cr.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=sr("dev"===e?"en":e),n=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:n});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let a;try{a=new Intl.PluralRules(r,{type:n})}catch(s){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),xr;if(!e.match(/-|_/))return xr;const r=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(r,t)}return this.pluralRulesCache[i]=a,a}needsPlural(e){var t;let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),(null===(t=n)||void 0===t?void 0:t.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,r).map(e=>"".concat(t).concat(e))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((e,t)=>br[e]-br[t]).map(e=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(e)):[]}getSuffix(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.getRule(e,r);return n?"".concat(this.options.prepend).concat(r.ordinal?"ordinal".concat(this.options.prepend):"").concat(n.select(t)):(this.logger.warn("no plural rule found for: ".concat(e)),this.getSuffix("dev",t,r))}}const wr=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=((e,t,r)=>{const n=Qt(e,r);return void 0!==n?n:Qt(t,r)})(e,t,r);return!a&&i&&qt(r)&&(a=ar(e,r,n),void 0===a&&(a=ar(t,r,n))),a},Sr=e=>e.replace(/\$/g,"$$$$");class jr{constructor(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=cr.create("interpolator"),this.options=t,this.format=(null===t||void 0===t||null===(e=t.interpolation)||void 0===e?void 0:e.format)||(e=>e),this.init(t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:n,prefix:i,prefixEscaped:a,suffix:s,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:f,nestingSuffixEscaped:p,nestingOptionsSeparator:m,maxReplaces:g,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:rr,this.escapeValue=void 0===r||r,this.useRawValueToEscape=void 0!==n&&n,this.prefix=i?er(i):a||"{{",this.suffix=s?er(s):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?er(d):h||er("$t("),this.nestingSuffix=f?er(f):p||er(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>(null===e||void 0===e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"((?:[^()\"']+|\"[^\"]*\"|'[^']*'|\\((?:[^()]|\"[^\"]*\"|'[^']*')*\\))*?)").concat(this.nestingSuffix))}interpolate(e,t,r,n){var i;let a,s,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(e.indexOf(this.formatSeparator)<0){const i=wr(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,r,u(u(u({},n),t),{},{interpolationkey:e})):i}const i=e.split(this.formatSeparator),a=i.shift().trim(),s=i.join(this.formatSeparator).trim();return this.format(wr(t,l,a,this.options.keySeparator,this.options.ignoreJSONStructure),s,r,u(u(u({},n),t),{},{interpolationkey:a}))};this.resetRegExp();const d=(null===n||void 0===n?void 0:n.missingInterpolationHandler)||this.options.missingInterpolationHandler,h=void 0!==(null===n||void 0===n||null===(i=n.interpolation)||void 0===i?void 0:i.skipOnVariables)?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Sr(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Sr(this.escape(e)):Sr(e)}].forEach(t=>{for(o=0;a=t.regex.exec(e);){const r=a[1].trim();if(s=c(r),void 0===s)if("function"===typeof d){const t=d(e,a,n);s=qt(t)?t:""}else if(n&&Object.prototype.hasOwnProperty.call(n,r))s="";else{if(h){s=a[0];continue}this.logger.warn("missed to pass in variable ".concat(r," for interpolating ").concat(e)),s=""}else qt(s)||this.useRawValueToEscape||(s=Vt(s));const i=t.safeValue(s);if(e=e.replace(a[0],i),h?(t.regex.lastIndex+=s.length,t.regex.lastIndex-=a[0].length):t.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t){let r,n,i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(e,t)=>{var r;const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const a=e.split(new RegExp("".concat(n,"[ ]*{")));let s="{".concat(a[1]);e=a[0],s=this.interpolate(s,i);const o=s.match(/'/g),l=s.match(/"/g);((null!==(r=null===o||void 0===o?void 0:o.length)&&void 0!==r?r:0)%2===0&&!l||l.length%2!==0)&&(s=s.replace(/'/g,'"'));try{i=JSON.parse(s),t&&(i=u(u({},t),i))}catch(YM){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),YM),"".concat(e).concat(n).concat(s)}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;r=this.nestingRegexp.exec(e);){let o=[];i=u({},a),i=i.replace&&!qt(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const l=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(-1!==l&&(o=r[1].slice(l).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),r[1]=r[1].slice(0,l)),n=t(s.call(this,r[1].trim(),i),i),n&&r[0]===e&&!qt(n))return n;qt(n)||(n=Vt(n)),n||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(e)),n=""),o.length&&(n=o.reduce((e,t)=>this.format(e,t,a.lng,u(u({},a),{},{interpolationkey:r[1].trim()})),n.trim())),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}}const kr=e=>{const t={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a=u(u({},a),{},{[i.interpolationkey]:void 0}));const s=n+JSON.stringify(a);let o=t[s];return o||(o=e(sr(n),i),t[s]=o),o(r)}},Cr=e=>(t,r,n)=>e(sr(r),n)(t);class Er{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=cr.create("formatter"),this.options=e,this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?kr:Cr;this.formats={number:r((e,t)=>{const r=new Intl.NumberFormat(e,u({},t));return e=>r.format(e)}),currency:r((e,t)=>{const r=new Intl.NumberFormat(e,u(u({},t),{},{style:"currency"}));return e=>r.format(e)}),datetime:r((e,t)=>{const r=new Intl.DateTimeFormat(e,u({},t));return e=>r.format(e)}),relativetime:r((e,t)=>{const r=new Intl.RelativeTimeFormat(e,u({},t));return e=>r.format(e,t.range||"day")}),list:r((e,t)=>{const r=new Intl.ListFormat(e,u({},t));return e=>r.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=kr(t)}format(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(e=>e.indexOf(")")>-1)){const e=i.findIndex(e=>e.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}return i.reduce((e,t)=>{const{formatName:i,formatOptions:a}=(e=>{let t=e.toLowerCase().trim();const r={};if(e.indexOf("(")>-1){const n=e.split("(");t=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);"currency"===t&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(e=>{if(e){const[t,...n]=e.split(":"),i=n.join(":").trim().replace(/^'+|'+$/g,""),a=t.trim();r[a]||(r[a]=i),"false"===i&&(r[a]=!1),"true"===i&&(r[a]=!0),isNaN(i)||(r[a]=parseInt(i,10))}})}return{formatName:t,formatOptions:r}})(t);if(this.formats[i]){let t=e;try{var s;const o=(null===n||void 0===n||null===(s=n.formatParams)||void 0===s?void 0:s[n.interpolationkey])||{},l=o.locale||o.lng||n.locale||n.lng||r;t=this.formats[i](e,l,u(u(u({},a),n),o))}catch(o){this.logger.warn(o)}return t}return this.logger.warn("there was no format function for ".concat(i)),e},e)}}class Or extends ur{constructor(e,t,r){var n,i;let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=cr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],null===(n=this.backend)||void 0===n||null===(i=n.init)||void 0===i||i.call(n,r,a.backend,a)}queueLoad(e,t,r,n){const i={},a={},s={},o={};return e.forEach(e=>{let n=!0;t.forEach(t=>{const s="".concat(e,"|").concat(t);!r.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===a[s]&&(a[s]=!0):(this.state[s]=1,n=!1,void 0===a[s]&&(a[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===o[t]&&(o[t]=!0)))}),n||(s[e]=!0)}),(Object.keys(i).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(i),pending:Object.keys(a),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(o)}}loaded(e,t,r){const n=e.split("|"),i=n[0],a=n[1];t&&this.emit("failedLoading",i,a,t),!t&&r&&this.store.addResourceBundle(i,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const s={};this.queue.forEach(r=>{((e,t,r)=>{const{obj:n,k:i}=$t(e,t,Object);n[i]=n[i]||[],n[i].push(r)})(r.loaded,[i],a),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(r,e),t&&r.errors.push(t),0!==r.pendingCount||r.done||(Object.keys(r.loaded).forEach(e=>{s[e]||(s[e]={});const t=r.loaded[e];t.length&&t.forEach(t=>{void 0===s[e][t]&&(s[e][t]=!0)})}),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(e=>!e.done)}read(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:r,tried:n,wait:i,callback:a});this.readingCalls++;const s=(s,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&o&&n<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,r,n+1,2*i,a)},i):a(s,o)},o=this.backend[r].bind(this.backend);if(2!==o.length)return o(e,t,s);try{const r=o(e,t);r&&"function"===typeof r.then?r.then(e=>s(null,e)).catch(s):s(null,r)}catch(l){s(l)}}prepareLoading(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();qt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),qt(t)&&(t=[t]);const i=this.queueLoad(e,t,r,n);if(!i.toLoad.length)return i.pending.length||n(),null;i.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e.split("|"),n=r[0],i=r[1];this.read(n,i,"read",void 0,void 0,(r,a)=>{r&&this.logger.warn("".concat(t,"loading namespace ").concat(i," for language ").concat(n," failed"),r),!r&&a&&this.logger.log("".concat(t,"loaded namespace ").concat(i," for language ").concat(n),a),this.loaded(e,r,a)})}saveMissing(e,t,r,n,i){var a,s,o;let l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(null===(a=this.services)||void 0===a||null===(a=a.utils)||void 0===a||!a.hasLoadedNamespace||null!==(s=this.services)&&void 0!==s&&null!==(s=s.utils)&&void 0!==s&&s.hasLoadedNamespace(t)){if(void 0!==r&&null!==r&&""!==r){if(null!==(o=this.backend)&&void 0!==o&&o.create){const a=u(u({},l),{},{isUpdate:i}),s=this.backend.create.bind(this.backend);if(s.length<6)try{let i;i=5===s.length?s(e,t,r,n,a):s(e,t,r,n),i&&"function"===typeof i.then?i.then(e=>c(null,e)).catch(c):c(null,i)}catch(d){c(d)}else s(e,t,r,n,c,a)}e&&e[0]&&this.store.addResource(e[0],t,r,n)}}else this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const Pr=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),qt(e[1])&&(t.defaultValue=e[1]),qt(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const r=e[3]||e[2];Object.keys(r).forEach(e=>{t[e]=r[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Nr=e=>{var t,r;return qt(e.ns)&&(e.ns=[e.ns]),qt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),qt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null===(t=e.supportedLngs)||void 0===t||null===(r=t.indexOf)||void 0===r?void 0:r.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"===typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},Ar=()=>{};class Tr extends ur{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var r;if(super(),this.options=Nr(e),this.services={},this.logger=cr,this.modules={external:[]},r=this,Object.getOwnPropertyNames(Object.getPrototypeOf(r)).forEach(e=>{"function"===typeof r[e]&&(r[e]=r[e].bind(r))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(r=t,t={}),null==t.defaultNS&&t.ns&&(qt(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const n=Pr();this.options=u(u(u({},n),this.options),Nr(t)),this.options.interpolation=u(u({},n.interpolation),this.options.interpolation),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator),"function"!==typeof this.options.overloadTranslationOptionHandler&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler);const i=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?cr.init(i(this.modules.logger),this.options):cr.init(null,this.options),t=this.modules.formatter?this.modules.formatter:Er;const r=new yr(this.options);this.store=new dr(this.options.resources,this.options);const a=this.services;a.logger=cr,a.resourceStore=this.store,a.languageUtils=r,a.pluralResolver=new _r(r,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!t||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(a.formatter=i(t),a.formatter.init&&a.formatter.init(a,this.options),this.options.interpolation.format=a.formatter.format.bind(a.formatter)),a.interpolator=new jr(this.options),a.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},a.backendConnector=new Or(i(this.modules.backend),a.resourceStore,a,this.options),a.backendConnector.on("*",function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e.emit(t,...n)}),this.modules.languageDetector&&(a.languageDetector=i(this.modules.languageDetector),a.languageDetector.init&&a.languageDetector.init(a,this.options.detection,this.options)),this.modules.i18nFormat&&(a.i18nFormat=i(this.modules.i18nFormat),a.i18nFormat.init&&a.i18nFormat.init(this)),this.translator=new vr(this.services,this.options),this.translator.on("*",function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];e.emit(t,...n)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ar),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(t=>{this[t]=function(){return e.store[t](...arguments)}});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(t=>{this[t]=function(){return e.store[t](...arguments),e}});const a=Kt(),s=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(t),r(e,t)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?s():setTimeout(s,0),a}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ar;const r=qt(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){var n,i;if("cimode"===(null===r||void 0===r?void 0:r.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],a=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(r)a(r);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>a(e))}null===(n=this.options.preload)||void 0===n||null===(i=n.forEach)||void 0===i||i.call(n,e=>a(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)})}else t(null)}reloadResources(e,t,r){const n=Kt();return"function"===typeof e&&(r=e,e=void 0),"function"===typeof t&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Ar),this.services.backendConnector.reload(e,t,e=>{n.resolve(),r(e)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&hr.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const n=Kt();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},a=(a,s)=>{s?this.isLanguageChangingTo===e&&(i(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,n.resolve(function(){return r.t(...arguments)}),t&&t(a,function(){return r.t(...arguments)})},s=t=>{e||t||!this.services.languageDetector||(t=[]);const r=qt(t)?t:t&&t[0],n=this.store.hasLanguageSomeTranslations(r)?r:this.services.languageUtils.getBestMatchFromCodes(qt(t)?[t]:t);var s,o;n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),null===(s=this.services.languageDetector)||void 0===s||null===(o=s.cacheUserLanguage)||void 0===o||o.call(s,n));this.loadResources(n,e=>{a(e,n)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),n}getFixedT(e,t,r){var n=this;const i=function(e,t){let a;if("object"!==typeof t){for(var s=arguments.length,o=new Array(s>2?s-2:0),l=2;l<s;l++)o[l-2]=arguments[l];a=n.options.overloadTranslationOptionHandler([e,t].concat(o))}else a=u({},t);a.lng=a.lng||i.lng,a.lngs=a.lngs||i.lngs,a.ns=a.ns||i.ns,""!==a.keyPrefix&&(a.keyPrefix=a.keyPrefix||r||i.keyPrefix);const c=n.options.keySeparator||".";let d;return a.keyPrefix&&Array.isArray(e)?d=e.map(e=>("function"===typeof e&&(e=pr(e,u(u({},n.options),t))),"".concat(a.keyPrefix).concat(c).concat(e))):("function"===typeof e&&(e=pr(e,u(u({},n.options),t))),d=a.keyPrefix?"".concat(a.keyPrefix).concat(c).concat(e):e),n.t(d,a)};return qt(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=r,i}t(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null===(e=this.translator)||void 0===e?void 0:e.translate(...r)}exists(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return null===(e=this.translator)||void 0===e?void 0:e.exists(...r)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===r.toLowerCase())return!0;const a=(e,t)=>{const r=this.services.backendConnector.state["".concat(e,"|").concat(t)];return-1===r||0===r||2===r};if(t.precheck){const e=t.precheck(this,a);if(void 0!==e)return e}return!!this.hasResourceBundle(r,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!a(r,e)||n&&!a(i,e)))}loadNamespaces(e,t){const r=Kt();return this.options.ns?(qt(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Kt();qt(e)&&(e=[e]);const n=this.options.preload||[],i=e.filter(e=>n.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return i.length?(this.options.preload=n.concat(i),this.loadResources(e=>{r.resolve(),t&&t(e)}),r):(t&&t(),Promise.resolve())}dir(e){var t,r;if(e||(e=this.resolvedLanguage||((null===(t=this.languages)||void 0===t?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(YM){}const n=(null===(r=this.services)||void 0===r?void 0:r.languageUtils)||new yr(Pr());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){const e=new Tr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0);return e.createInstance=Tr.createInstance,e}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ar;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const n=u(u(u({},this.options),e),{isClone:!0}),i=new Tr(n);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));if(["store","services","language"].forEach(e=>{i[e]=this[e]}),i.services=u({},this.services),i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]=u({},this.store.data[t]),e[t]=Object.keys(e[t]).reduce((r,n)=>(r[n]=u({},e[t][n]),r),e[t]),e),{});i.store=new dr(e,n),i.services.resourceStore=i.store}if(e.interpolation){const t=u(u(u({},Pr().interpolation),this.options.interpolation),e.interpolation),r=u(u({},n),{},{interpolation:t});i.services.interpolator=new jr(r)}return i.translator=new vr(i.services,n),i.translator.on("*",function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i.emit(e,...r)}),i.init(n,t),i.translator.options=n,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Rr=Tr.createInstance();Rr.createInstance,Rr.dir,Rr.init,Rr.loadResources,Rr.reloadResources,Rr.use,Rr.changeLanguage,Rr.getFixedT,Rr.t,Rr.exists,Rr.setDefaultNamespace,Rr.hasLoadedNamespace,Rr.loadNamespaces,Rr.loadLanguages;r(1844);Object.create(null);const Dr=(e,t,r,n)=>{var i,a,s;const o=[r,u({code:t},n||{})];if(null!==e&&void 0!==e&&null!==(i=e.services)&&void 0!==i&&null!==(i=i.logger)&&void 0!==i&&i.forward)return e.services.logger.forward(o,"warn","react-i18next::",!0);Fr(o[0])&&(o[0]="react-i18next:: ".concat(o[0])),null!==e&&void 0!==e&&null!==(a=e.services)&&void 0!==a&&null!==(a=a.logger)&&void 0!==a&&a.warn?e.services.logger.warn(...o):null!==(s=console)&&void 0!==s&&s.warn&&console.warn(...o)},Lr={},Mr=(e,t,r,n)=>{Fr(r)&&Lr[r]||(Fr(r)&&(Lr[r]=new Date),Dr(e,t,r,n))},Ir=(e,t)=>()=>{if(e.isInitialized)t();else{const r=()=>{setTimeout(()=>{e.off("initialized",r)},0),t()};e.on("initialized",r)}},Br=(e,t,r)=>{e.loadNamespaces(t,Ir(e,r))},zr=(e,t,r,n)=>{if(Fr(r)&&(r=[r]),e.options.preload&&e.options.preload.indexOf(t)>-1)return Br(e,r,n);r.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,Ir(e,n))},Fr=e=>"string"===typeof e,Hr=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Ur={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"\xa9","&#169;":"\xa9","&reg;":"\xae","&#174;":"\xae","&hellip;":"\u2026","&#8230;":"\u2026","&#x2F;":"/","&#47;":"/"},Wr=e=>Ur[e];let qr={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(Hr,Wr),transDefaultProps:void 0};let Kr;const Vr=()=>Kr,Yr={type:"3rdParty",init(e){!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};qr=u(u({},qr),e)}(e.options.react),(e=>{Kr=e})(e)}},Gr=(0,t.createContext)();class Xr{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}class $r extends Error{constructor(e,t,r){super(e),this.name="TranslationParserError",this.position=t,this.translationString=r,Error.captureStackTrace&&Error.captureStackTrace(this,$r)}}const Jr={"&nbsp;":"\xa0","&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&copy;":"\xa9","&reg;":"\xae","&trade;":"\u2122","&hellip;":"\u2026","&ndash;":"\u2013","&mdash;":"\u2014","&lsquo;":"\u2018","&rsquo;":"\u2019","&sbquo;":"\u201a","&ldquo;":"\u201c","&rdquo;":"\u201d","&bdquo;":"\u201e","&dagger;":"\u2020","&Dagger;":"\u2021","&bull;":"\u2022","&prime;":"\u2032","&Prime;":"\u2033","&lsaquo;":"\u2039","&rsaquo;":"\u203a","&sect;":"\xa7","&para;":"\xb6","&middot;":"\xb7","&ensp;":"\u2002","&emsp;":"\u2003","&thinsp;":"\u2009","&euro;":"\u20ac","&pound;":"\xa3","&yen;":"\xa5","&cent;":"\xa2","&curren;":"\xa4","&times;":"\xd7","&divide;":"\xf7","&minus;":"\u2212","&plusmn;":"\xb1","&ne;":"\u2260","&le;":"\u2264","&ge;":"\u2265","&asymp;":"\u2248","&equiv;":"\u2261","&infin;":"\u221e","&int;":"\u222b","&sum;":"\u2211","&prod;":"\u220f","&radic;":"\u221a","&part;":"\u2202","&permil;":"\u2030","&deg;":"\xb0","&micro;":"\xb5","&larr;":"\u2190","&uarr;":"\u2191","&rarr;":"\u2192","&darr;":"\u2193","&harr;":"\u2194","&crarr;":"\u21b5","&lArr;":"\u21d0","&uArr;":"\u21d1","&rArr;":"\u21d2","&dArr;":"\u21d3","&hArr;":"\u21d4","&alpha;":"\u03b1","&beta;":"\u03b2","&gamma;":"\u03b3","&delta;":"\u03b4","&epsilon;":"\u03b5","&zeta;":"\u03b6","&eta;":"\u03b7","&theta;":"\u03b8","&iota;":"\u03b9","&kappa;":"\u03ba","&lambda;":"\u03bb","&mu;":"\u03bc","&nu;":"\u03bd","&xi;":"\u03be","&omicron;":"\u03bf","&pi;":"\u03c0","&rho;":"\u03c1","&sigma;":"\u03c3","&tau;":"\u03c4","&upsilon;":"\u03c5","&phi;":"\u03c6","&chi;":"\u03c7","&psi;":"\u03c8","&omega;":"\u03c9","&Alpha;":"\u0391","&Beta;":"\u0392","&Gamma;":"\u0393","&Delta;":"\u0394","&Epsilon;":"\u0395","&Zeta;":"\u0396","&Eta;":"\u0397","&Theta;":"\u0398","&Iota;":"\u0399","&Kappa;":"\u039a","&Lambda;":"\u039b","&Mu;":"\u039c","&Nu;":"\u039d","&Xi;":"\u039e","&Omicron;":"\u039f","&Pi;":"\u03a0","&Rho;":"\u03a1","&Sigma;":"\u03a3","&Tau;":"\u03a4","&Upsilon;":"\u03a5","&Phi;":"\u03a6","&Chi;":"\u03a7","&Psi;":"\u03a8","&Omega;":"\u03a9","&Agrave;":"\xc0","&Aacute;":"\xc1","&Acirc;":"\xc2","&Atilde;":"\xc3","&Auml;":"\xc4","&Aring;":"\xc5","&AElig;":"\xc6","&Ccedil;":"\xc7","&Egrave;":"\xc8","&Eacute;":"\xc9","&Ecirc;":"\xca","&Euml;":"\xcb","&Igrave;":"\xcc","&Iacute;":"\xcd","&Icirc;":"\xce","&Iuml;":"\xcf","&ETH;":"\xd0","&Ntilde;":"\xd1","&Ograve;":"\xd2","&Oacute;":"\xd3","&Ocirc;":"\xd4","&Otilde;":"\xd5","&Ouml;":"\xd6","&Oslash;":"\xd8","&Ugrave;":"\xd9","&Uacute;":"\xda","&Ucirc;":"\xdb","&Uuml;":"\xdc","&Yacute;":"\xdd","&THORN;":"\xde","&szlig;":"\xdf","&agrave;":"\xe0","&aacute;":"\xe1","&acirc;":"\xe2","&atilde;":"\xe3","&auml;":"\xe4","&aring;":"\xe5","&aelig;":"\xe6","&ccedil;":"\xe7","&egrave;":"\xe8","&eacute;":"\xe9","&ecirc;":"\xea","&euml;":"\xeb","&igrave;":"\xec","&iacute;":"\xed","&icirc;":"\xee","&iuml;":"\xef","&eth;":"\xf0","&ntilde;":"\xf1","&ograve;":"\xf2","&oacute;":"\xf3","&ocirc;":"\xf4","&otilde;":"\xf5","&ouml;":"\xf6","&oslash;":"\xf8","&ugrave;":"\xf9","&uacute;":"\xfa","&ucirc;":"\xfb","&uuml;":"\xfc","&yacute;":"\xfd","&thorn;":"\xfe","&yuml;":"\xff","&iexcl;":"\xa1","&iquest;":"\xbf","&fnof;":"\u0192","&circ;":"\u02c6","&tilde;":"\u02dc","&OElig;":"\u0152","&oelig;":"\u0153","&Scaron;":"\u0160","&scaron;":"\u0161","&Yuml;":"\u0178","&ordf;":"\xaa","&ordm;":"\xba","&macr;":"\xaf","&acute;":"\xb4","&cedil;":"\xb8","&sup1;":"\xb9","&sup2;":"\xb2","&sup3;":"\xb3","&frac14;":"\xbc","&frac12;":"\xbd","&frac34;":"\xbe","&spades;":"\u2660","&clubs;":"\u2663","&hearts;":"\u2665","&diams;":"\u2666","&loz;":"\u25ca","&oline;":"\u203e","&frasl;":"\u2044","&weierp;":"\u2118","&image;":"\u2111","&real;":"\u211c","&alefsym;":"\u2135"},Qr=new RegExp(Object.keys(Jr).map(e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"),"g"),Zr=["children"],en=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!e)return[];const n=(e=>{const t=[];let r=0,n="";const i=()=>{n&&(t.push({type:"Text",value:n,position:r-n.length}),n="")};for(;r<e.length;){const a=e[r];if("<"===a){const s=e.slice(r).match(/^<(\d+)>/);if(s)i(),t.push({type:"TagOpen",value:s[0],position:r,tagNumber:parseInt(s[1],10)}),r+=s[0].length;else{const s=e.slice(r).match(/^<\/(\d+)>/);s?(i(),t.push({type:"TagClose",value:s[0],position:r,tagNumber:parseInt(s[1],10)}),r+=s[0].length):(n+=a,r+=1)}}else n+=a,r+=1}return i(),t})(e),i=[],s=[],o=new Set;if(n.forEach(n=>{switch(n.type){case"Text":{const e=n.value.replace(Qr,e=>Jr[e]).replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(parseInt(t,10))).replace(/&#x([0-9a-fA-F]+);/g,(e,t)=>String.fromCharCode(parseInt(t,16)));(s.length>0?s[s.length-1].children:i).push(e)}break;case"TagOpen":{const{tagNumber:e}=n,t=(()=>{var e;if(0===s.length)return r;const t=s[s.length-1];return null!==(e=t.declaration.props)&&void 0!==e&&e.children&&Array.isArray(t.declaration.props.children)?t.declaration.props.children:t.declarations})(),a=t[e];if(!a){o.add(e);const t="<".concat(e,">");(s.length>0?s[s.length-1].children:i).push(t);break}s.push({tagNumber:e,children:[],position:n.position,declaration:a,declarations:t})}break;case"TagClose":{const{tagNumber:r}=n;if(o.has(r)){const e="</".concat(r,">");(s.length>0?s[s.length-1].children:i).push(e),o.delete(r);break}if(0===s.length)throw new $r("Unexpected closing tag </".concat(r,"> at position ").concat(n.position),n.position,e);const l=s.pop();if(l.tagNumber!==r)throw new $r("Mismatched tags: expected </".concat(l.tagNumber,"> but got </").concat(r,"> at position ").concat(n.position),n.position,e);const c=((e,r,n)=>{const{type:i,props:s={}}=e;if(s.children&&Array.isArray(s.children)&&n){const{children:e}=s,n=a(s,Zr);return t.createElement(i,n,...r)}return 0===r.length?t.createElement(i,s):1===r.length?t.createElement(i,s,r[0]):t.createElement(i,s,...r)})(l.declaration,l.children,l.declarations);(s.length>0?s[s.length-1].children:i).push(c)}}}),s.length>0){const t=s[s.length-1];throw new $r("Unclosed tag <".concat(t.tagNumber,"> at position ").concat(t.position),t.position,e)}return i};function tn(e){var r,n,i;let{i18nKey:a,defaultTranslation:s,content:o,ns:l,values:c={},i18n:d,t:h}=e;const f=d||Vr();if(!f)return Mr(f,"NO_I18NEXT_INSTANCE","IcuTrans: You need to pass in an i18next instance using i18nextReactModule",{i18nKey:a}),t.createElement(t.Fragment,{},s);const p=h||(null===(r=f.t)||void 0===r?void 0:r.bind(f))||(e=>e);let m=l||p.ns||(null===(n=f.options)||void 0===n?void 0:n.defaultNS);m=Fr(m)?[m]:m||["translation"];let g=c;null!==(i=f.options)&&void 0!==i&&null!==(i=i.interpolation)&&void 0!==i&&i.defaultVariables&&(g=c&&Object.keys(c).length>0?u(u({},c),f.options.interpolation.defaultVariables):u({},f.options.interpolation.defaultVariables));const v=p(a,u(u({defaultValue:s},g),{},{ns:m}));try{const e=en(v,o);return t.createElement(t.Fragment,{},...e)}catch(y){return Dr(f,"ICU_TRANS_RENDER_ERROR",'IcuTrans component error for key "'.concat(a,'": ').concat(y.message),{i18nKey:a,error:y}),t.createElement(t.Fragment,{},v)}}tn.displayName="IcuTransWithoutContext";var rn=r(9461);const nn={t:(e,t)=>{return Fr(t)?t:"object"===typeof(r=t)&&null!==r&&Fr(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var r},ready:!1},an=()=>()=>{},sn=function(e){var r,n,i;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{i18n:s}=a,{i18n:o,defaultNS:l}=(0,t.useContext)(Gr)||{},c=s||o||Vr();c&&!c.reportNamespaces&&(c.reportNamespaces=new Xr),c||Mr(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const d=(0,t.useMemo)(()=>{var e;return u(u(u({},qr),null===c||void 0===c||null===(e=c.options)||void 0===e?void 0:e.react),a)},[c,a]),{useSuspense:h,keyPrefix:f}=d,p=e||l||(null===c||void 0===c||null===(r=c.options)||void 0===r?void 0:r.defaultNS),m=Fr(p)?[p]:p||["translation"],g=(0,t.useMemo)(()=>m,m);null===c||void 0===c||null===(n=c.reportNamespaces)||void 0===n||null===(i=n.addUsedNamespaces)||void 0===i||i.call(n,g);const v=(0,t.useRef)(0),y=(0,t.useCallback)(e=>{if(!c)return an;const{bindI18n:t,bindI18nStore:r}=d,n=()=>{v.current+=1,e()};return t&&c.on(t,n),r&&c.store.on(r,n),()=>{t&&t.split(" ").forEach(e=>c.off(e,n)),r&&r.split(" ").forEach(e=>c.store.off(e,n))}},[c,d]),b=(0,t.useRef)(),x=(0,t.useCallback)(()=>{if(!c)return nn;const e=!(!c.isInitialized&&!c.initializedStoreOnce)&&g.every(e=>function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:r.lng,precheck:(t,n)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!n(t.isLanguageChangingTo,e))return!1}}):(Mr(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0)}(e,c,d)),t=a.lng||c.language,r=v.current,n=b.current;if(n&&n.ready===e&&n.lng===t&&n.keyPrefix===f&&n.revision===r)return n;const i={t:c.getFixedT(t,"fallback"===d.nsMode?g:g[0],f),ready:e,lng:t,keyPrefix:f,revision:r};return b.current=i,i},[c,g,f,d,a.lng]),[_,w]=(0,t.useState)(0),{t:S,ready:j}=(0,rn.useSyncExternalStore)(y,x,x);(0,t.useEffect)(()=>{if(c&&!j&&!h){const e=()=>w(e=>e+1);a.lng?zr(c,a.lng,g,e):Br(c,g,e)}},[c,a.lng,g,j,h,_]);const k=c||{},C=(0,t.useRef)(null),E=(0,t.useRef)(),O=e=>{const t=Object.getOwnPropertyDescriptors(e);t.__original&&delete t.__original;const r=Object.create(Object.getPrototypeOf(e),t);if(!Object.prototype.hasOwnProperty.call(r,"__original"))try{Object.defineProperty(r,"__original",{value:e,writable:!1,enumerable:!1,configurable:!1})}catch(n){}return r},P=(0,t.useMemo)(()=>{const e=k,t=null===e||void 0===e?void 0:e.language;let r=e;e&&(C.current&&C.current.__original===e?E.current!==t?(r=O(e),C.current=r,E.current=t):r=C.current:(r=O(e),C.current=r,E.current=t));const n=[S,r,j];return n.t=S,n.i18n=r,n.ready=j,n},[S,k,j,k.resolvedLanguage,k.language,k.languages]);if(c&&h&&!j)throw new Promise(e=>{const t=()=>e();a.lng?zr(c,a.lng,g,t):Br(c,g,t)});return P};var on={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ln=t.createContext&&t.createContext(on),cn=["attr","size","title"];function un(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dn(){return dn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dn.apply(this,arguments)}function hn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(r),!0).forEach(function(t){pn(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hn(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pn(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mn(e){return e&&e.map((e,r)=>t.createElement(e.tag,fn({key:r},e.attr),mn(e.child)))}function gn(e){return r=>t.createElement(vn,dn({attr:fn({},e.attr)},r),mn(e.child))}function vn(e){var r=r=>{var n,{attr:i,size:a,title:s}=e,o=un(e,cn),l=a||r.size||"1em";return r.className&&(n=r.className),e.className&&(n=(n?n+" ":"")+e.className),t.createElement("svg",dn({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,i,o,{className:n,style:fn(fn({color:e.color||r.color},r.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&t.createElement("title",null,s),e.children)};return void 0!==ln?t.createElement(ln.Consumer,null,e=>r(e)):r(on)}function yn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"},child:[]}]})(e)}function bn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"m12 5 7 7-7 7"},child:[]}]})(e)}function xn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"m4.9 4.9 14.2 14.2"},child:[]}]})(e)}function _n(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"12",x:"2",y:"6",rx:"2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"2"},child:[]},{tag:"path",attr:{d:"M6 12h.01M18 12h.01"},child:[]}]})(e)}function wn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 8V4H8"},child:[]},{tag:"rect",attr:{width:"16",height:"12",x:"4",y:"8",rx:"2"},child:[]},{tag:"path",attr:{d:"M2 14h2"},child:[]},{tag:"path",attr:{d:"M20 14h2"},child:[]},{tag:"path",attr:{d:"M15 13v2"},child:[]},{tag:"path",attr:{d:"M9 13v2"},child:[]}]})(e)}function Sn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M8 2v4"},child:[]},{tag:"path",attr:{d:"M16 2v4"},child:[]},{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"M3 10h18"},child:[]}]})(e)}function jn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 3v16a2 2 0 0 0 2 2h16"},child:[]},{tag:"path",attr:{d:"M7 16h8"},child:[]},{tag:"path",attr:{d:"M7 11h12"},child:[]},{tag:"path",attr:{d:"M7 6h3"},child:[]}]})(e)}function kn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 6 9 17l-5-5"},child:[]}]})(e)}function Cn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m6 9 6 6 6-6"},child:[]}]})(e)}function En(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m9 18 6-6-6-6"},child:[]}]})(e)}function On(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"m9 12 2 2 4-4"},child:[]}]})(e)}function Pn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"m15 9-6 6"},child:[]},{tag:"path",attr:{d:"m9 9 6 6"},child:[]}]})(e)}function Nn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function An(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"},child:[]}]})(e)}function Tn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"16",height:"16",x:"4",y:"4",rx:"2"},child:[]},{tag:"rect",attr:{width:"6",height:"6",x:"9",y:"9",rx:"1"},child:[]},{tag:"path",attr:{d:"M15 2v2"},child:[]},{tag:"path",attr:{d:"M15 20v2"},child:[]},{tag:"path",attr:{d:"M2 15h2"},child:[]},{tag:"path",attr:{d:"M2 9h2"},child:[]},{tag:"path",attr:{d:"M20 15h2"},child:[]},{tag:"path",attr:{d:"M20 9h2"},child:[]},{tag:"path",attr:{d:"M9 2v2"},child:[]},{tag:"path",attr:{d:"M9 20v2"},child:[]}]})(e)}function Rn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"14",x:"2",y:"5",rx:"2"},child:[]},{tag:"line",attr:{x1:"2",x2:"22",y1:"10",y2:"10"},child:[]}]})(e)}function Dn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"ellipse",attr:{cx:"12",cy:"5",rx:"9",ry:"3"},child:[]},{tag:"path",attr:{d:"M3 5V19A9 3 0 0 0 21 19V5"},child:[]},{tag:"path",attr:{d:"M3 12A9 3 0 0 0 21 12"},child:[]}]})(e)}function Ln(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",x2:"12",y1:"2",y2:"22"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function Mn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",x2:"12",y1:"15",y2:"3"},child:[]}]})(e)}function In(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function Bn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z"},child:[]},{tag:"path",attr:{d:"M14 2v4a2 2 0 0 0 2 2h4"},child:[]},{tag:"path",attr:{d:"M10 9H8"},child:[]},{tag:"path",attr:{d:"M16 13H8"},child:[]},{tag:"path",attr:{d:"M16 17H8"},child:[]}]})(e)}function zn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"8",width:"18",height:"4",rx:"1"},child:[]},{tag:"path",attr:{d:"M12 8v13"},child:[]},{tag:"path",attr:{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7"},child:[]},{tag:"path",attr:{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5"},child:[]}]})(e)}function Fn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"},child:[]},{tag:"path",attr:{d:"M2 12h20"},child:[]}]})(e)}function Hn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"9",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"9",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"9",cy:"19",r:"1"},child:[]},{tag:"circle",attr:{cx:"15",cy:"12",r:"1"},child:[]},{tag:"circle",attr:{cx:"15",cy:"5",r:"1"},child:[]},{tag:"circle",attr:{cx:"15",cy:"19",r:"1"},child:[]}]})(e)}function Un(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"22",x2:"2",y1:"12",y2:"12"},child:[]},{tag:"path",attr:{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z"},child:[]},{tag:"line",attr:{x1:"6",x2:"6.01",y1:"16",y2:"16"},child:[]},{tag:"line",attr:{x1:"10",x2:"10.01",y1:"16",y2:"16"},child:[]}]})(e)}function Wn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 22h14"},child:[]},{tag:"path",attr:{d:"M5 2h14"},child:[]},{tag:"path",attr:{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22"},child:[]},{tag:"path",attr:{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2"},child:[]}]})(e)}function qn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4"},child:[]},{tag:"path",attr:{d:"m21 2-9.6 9.6"},child:[]},{tag:"circle",attr:{cx:"7.5",cy:"15.5",r:"5.5"},child:[]}]})(e)}function Kn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m5 8 6 6"},child:[]},{tag:"path",attr:{d:"m4 14 6-6 2-3"},child:[]},{tag:"path",attr:{d:"M2 5h12"},child:[]},{tag:"path",attr:{d:"M7 2h1"},child:[]},{tag:"path",attr:{d:"m22 22-5-10-5 10"},child:[]},{tag:"path",attr:{d:"M14 18h6"},child:[]}]})(e)}function Vn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"7",height:"9",x:"3",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"5",x:"14",y:"3",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"9",x:"14",y:"12",rx:"1"},child:[]},{tag:"rect",attr:{width:"7",height:"5",x:"3",y:"16",rx:"1"},child:[]}]})(e)}function Yn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 4.24 4.24"},child:[]},{tag:"path",attr:{d:"m14.83 9.17 4.24-4.24"},child:[]},{tag:"path",attr:{d:"m14.83 14.83 4.24 4.24"},child:[]},{tag:"path",attr:{d:"m9.17 14.83-4.24 4.24"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]}]})(e)}function Gn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"},child:[]},{tag:"path",attr:{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"},child:[]}]})(e)}function Xn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(e)}function $n(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",x2:"9",y1:"12",y2:"12"},child:[]}]})(e)}function Jn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"16",x:"2",y:"4",rx:"2"},child:[]},{tag:"path",attr:{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"},child:[]}]})(e)}function Qn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",x2:"20",y1:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"6",y2:"6"},child:[]},{tag:"line",attr:{x1:"4",x2:"20",y1:"18",y2:"18"},child:[]}]})(e)}function Zn(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"},child:[]}]})(e)}function ei(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"},child:[]}]})(e)}function ti(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z"},child:[]},{tag:"path",attr:{d:"M12 22V12"},child:[]},{tag:"path",attr:{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7"},child:[]},{tag:"path",attr:{d:"m7.5 4.27 9 5.15"},child:[]}]})(e)}function ri(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"m14.622 17.897-10.68-2.913"},child:[]},{tag:"path",attr:{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z"},child:[]},{tag:"path",attr:{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15"},child:[]}]})(e)}function ni(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor"},child:[]},{tag:"circle",attr:{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor"},child:[]},{tag:"path",attr:{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"},child:[]}]})(e)}function ii(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"},child:[]},{tag:"path",attr:{d:"m15 5 4 4"},child:[]}]})(e)}function ai(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"6 3 20 12 6 21 6 3"},child:[]}]})(e)}function si(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M5 12h14"},child:[]},{tag:"path",attr:{d:"M12 5v14"},child:[]}]})(e)}function oi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 2v10"},child:[]},{tag:"path",attr:{d:"M18.4 6.6a9 9 0 1 1-12.77.04"},child:[]}]})(e)}function li(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"},child:[]},{tag:"path",attr:{d:"M21 3v5h-5"},child:[]},{tag:"path",attr:{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"},child:[]},{tag:"path",attr:{d:"M8 16H3v5"},child:[]}]})(e)}function ci(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"},child:[]},{tag:"path",attr:{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"},child:[]},{tag:"path",attr:{d:"M7 3v4a1 1 0 0 0 1 1h7"},child:[]}]})(e)}function ui(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z"},child:[]},{tag:"path",attr:{d:"m21.854 2.147-10.94 10.939"},child:[]}]})(e)}function di(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2"},child:[]},{tag:"rect",attr:{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2"},child:[]},{tag:"line",attr:{x1:"6",x2:"6.01",y1:"6",y2:"6"},child:[]},{tag:"line",attr:{x1:"6",x2:"6.01",y1:"18",y2:"18"},child:[]}]})(e)}function hi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(e)}function fi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"},child:[]},{tag:"path",attr:{d:"m9 12 2 2 4-4"},child:[]}]})(e)}function pi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 20h.01"},child:[]},{tag:"path",attr:{d:"M7 20v-4"},child:[]},{tag:"path",attr:{d:"M12 20v-8"},child:[]},{tag:"path",attr:{d:"M17 20V8"},child:[]}]})(e)}function mi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M12 18h.01"},child:[]}]})(e)}function gi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z"},child:[]},{tag:"path",attr:{d:"M20 3v4"},child:[]},{tag:"path",attr:{d:"M22 5h-4"},child:[]},{tag:"path",attr:{d:"M4 17v2"},child:[]},{tag:"path",attr:{d:"M5 18H3"},child:[]}]})(e)}function vi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"18",height:"18",x:"3",y:"3",rx:"2"},child:[]}]})(e)}function yi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"4"},child:[]},{tag:"path",attr:{d:"M12 2v2"},child:[]},{tag:"path",attr:{d:"M12 20v2"},child:[]},{tag:"path",attr:{d:"m4.93 4.93 1.41 1.41"},child:[]},{tag:"path",attr:{d:"m17.66 17.66 1.41 1.41"},child:[]},{tag:"path",attr:{d:"M2 12h2"},child:[]},{tag:"path",attr:{d:"M20 12h2"},child:[]},{tag:"path",attr:{d:"m6.34 17.66-1.41 1.41"},child:[]},{tag:"path",attr:{d:"m19.07 4.93-1.41 1.41"},child:[]}]})(e)}function bi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"4 17 10 11 4 5"},child:[]},{tag:"line",attr:{x1:"12",x2:"20",y1:"19",y2:"19"},child:[]}]})(e)}function xi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z"},child:[]},{tag:"path",attr:{d:"M13 5v2"},child:[]},{tag:"path",attr:{d:"M13 17v2"},child:[]},{tag:"path",attr:{d:"M13 11v2"},child:[]}]})(e)}function _i(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6"},child:[]},{tag:"circle",attr:{cx:"8",cy:"12",r:"2"},child:[]}]})(e)}function wi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6"},child:[]},{tag:"circle",attr:{cx:"16",cy:"12",r:"2"},child:[]}]})(e)}function Si(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 6h18"},child:[]},{tag:"path",attr:{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"},child:[]},{tag:"path",attr:{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",x2:"10",y1:"11",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",x2:"14",y1:"11",y2:"17"},child:[]}]})(e)}function ji(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 17 13.5 8.5 8.5 13.5 2 7"},child:[]},{tag:"polyline",attr:{points:"16 17 22 17 22 11"},child:[]}]})(e)}function ki(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"22 7 13.5 15.5 8.5 10.5 2 17"},child:[]},{tag:"polyline",attr:{points:"16 7 22 7 22 13"},child:[]}]})(e)}function Ci(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(e)}function Ei(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M22 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}function Oi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"},child:[]},{tag:"path",attr:{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"},child:[]}]})(e)}function Pi(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 6 6 18"},child:[]},{tag:"path",attr:{d:"m6 6 12 12"},child:[]}]})(e)}function Ni(e){return gn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z"},child:[]}]})(e)}const Ai=e=>{let{onLogin:r}=e;const{t:n}=sn(),[i,a]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(!1),{login:h,telegramLogin:f}=Wt(),[p,m]=(0,t.useState)(!1),[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(!1),[x,_]=(0,t.useState)(!1),[w,S]=(0,t.useState)(""),[j,k]=(0,t.useState)(!1),[C,E]=(0,t.useState)(!1),O=async e=>{if(e&&(e.preventDefault(),e.stopPropagation()),console.log("[FORGOT PASSWORD] ========== \u041d\u0410\u0427\u0410\u041b\u041e \u041e\u0411\u0420\u0410\u0411\u041e\u0422\u041a\u0418 =========="),console.log("[FORGOT PASSWORD] Email:",w),w&&w.trim()){c(null),E(!1),k(!0);try{const e="/api/public/forgot-password",r={email:w.trim().toLowerCase()};console.log("[FORGOT PASSWORD] \u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430:",e),console.log("[FORGOT PASSWORD] Body:",r),console.log("[FORGOT PASSWORD] Full URL \u0431\u0443\u0434\u0435\u0442:",window.location.origin+e);const n=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r),credentials:"same-origin"});console.log("[FORGOT PASSWORD] \u041e\u0442\u0432\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d, status:",n.status),console.log("[FORGOT PASSWORD] Response ok:",n.ok),console.log("[FORGOT PASSWORD] Response headers:",Object.fromEntries(n.headers.entries()));const i=n.headers.get("content-type");let a;if(console.log("[FORGOT PASSWORD] Content-Type:",i),i&&i.includes("application/json"))a=await n.json(),console.log("[FORGOT PASSWORD] \u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 (JSON):",a);else{const e=await n.text();console.log("[FORGOT PASSWORD] \u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0442\u0432\u0435\u0442\u0430 (\u0442\u0435\u043a\u0441\u0442):",e);try{a=JSON.parse(e)}catch(t){a={message:e||"Unknown response"}}}if(!n.ok)throw console.error("[FORGOT PASSWORD] \u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u0432\u0435\u0442\u0430, status:",n.status),console.error("[FORGOT PASSWORD] \u0414\u0430\u043d\u043d\u044b\u0435 \u043e\u0448\u0438\u0431\u043a\u0438:",a),new Error(a.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(n.status));console.log("[FORGOT PASSWORD] \u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0439 \u043e\u0442\u0432\u0435\u0442:",a),E(!0),S(""),console.log("[FORGOT PASSWORD] \u0423\u0441\u043f\u0435\u0448\u043d\u043e, \u043f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0435\u043c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0431 \u0443\u0441\u043f\u0435\u0445\u0435")}catch(e){console.error("[FORGOT PASSWORD] ========== \u041e\u0428\u0418\u0411\u041a\u0410 =========="),console.error("[FORGOT PASSWORD] \u041e\u0448\u0438\u0431\u043a\u0430 name:",e.name),console.error("[FORGOT PASSWORD] \u041e\u0448\u0438\u0431\u043a\u0430 message:",e.message),console.error("[FORGOT PASSWORD] \u041e\u0448\u0438\u0431\u043a\u0430 stack:",e.stack);let t=e.message||"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0435 \u0437\u0430\u043f\u0440\u043e\u0441\u0430";"TypeError"===e.name&&e.message.includes("fetch")?t="\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443.":e.message.includes("Failed to fetch")&&(t="\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u0441\u0435\u0440\u0432\u0435\u0440\u0443. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435, \u0447\u0442\u043e \u0441\u0435\u0440\u0432\u0435\u0440 \u0437\u0430\u043f\u0443\u0449\u0435\u043d."),c(t)}finally{k(!1)}}else c("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 email")},[P,N]=(0,t.useState)(!1),[A,T]=(0,t.useState)(null);return(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/public/telegram-auth-enabled");if(e.ok){const t=await e.json();N(t.enabled),T(t.bot_name)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 Telegram \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438:",YM),N(!1)}})()},[]),(0,t.useEffect)(()=>{if(!P||!A)return;const e=document.createElement("script");e.src="https://telegram.org/js/telegram-widget.js?22",e.setAttribute("data-telegram-login",A),e.setAttribute("data-size","large"),e.setAttribute("data-onauth","onTelegramAuth(user)"),e.setAttribute("data-request-access","write"),e.async=!0,window.onTelegramAuth=async e=>{b(!0),c(null);try{if(!e||!e.id)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0438\u0437 Telegram. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043e\u043c\u0435\u043d\u0430 \u0431\u043e\u0442\u0430 \u0432 @BotFather.");const{role:t}=await f(e);await new Promise(e=>setTimeout(e,200)),window.location.href="ADMIN"===t?"/admin":"/dashboard"}catch(t){let e=t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 Telegram";e.includes("domain")||e.includes("invalid")?e="\u041e\u0448\u0438\u0431\u043a\u0430: \u0414\u043e\u043c\u0435\u043d \u043d\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043d \u0432 @BotFather. \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0434\u043e\u043c\u0435\u043d \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0431\u043e\u0442\u0430.":e.includes("\u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u0431\u043e\u0442\u0435")||e.includes("not found in bot")?e="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u0431\u043e\u0442\u0435. \u0423\u0431\u0435\u0434\u0438\u0442\u0435\u0441\u044c, \u0447\u0442\u043e \u0432\u044b \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0447\u0435\u0440\u0435\u0437 Telegram \u0431\u043e\u0442\u0430.":e.includes("API \u0431\u043e\u0442\u0430")||e.includes("Bot API")?e="\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a API \u0431\u043e\u0442\u0430: ".concat(e,". \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 BOT_API_URL \u0438 BOT_API_TOKEN."):e.includes("RemnaWave")&&(e="\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043d\u0430\u0439\u0434\u0435\u043d \u0432 \u0431\u043e\u0442\u0435, \u043d\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d \u0432 RemnaWave. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443."),c(e),b(!1)}},e.onerror=()=>{c("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c Telegram Login Widget. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443.")};const t=document.getElementById("telegram-login-container");return t&&(t.innerHTML="",t.appendChild(e)),()=>{t&&(t.innerHTML=""),delete window.onTelegramAuth}},[f,r,P,A]),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(null),m(!1),v(null),d(!0);try{const{role:e}=await h(i,s);r(e)}catch(t){"NOT_VERIFIED"===t.message?(m(!0),c(n("auth.error_not_verified"))):c(t.message||n("auth.error_login")),d(!1)}},className:"auth-form",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{htmlFor:"email",children:n("auth.email")}),(0,Ft.jsx)("input",{type:"email",id:"email",value:i,onChange:e=>a(e.target.value),required:!0,disabled:u,placeholder:"name@example.com"})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{htmlFor:"password",children:n("auth.password")}),(0,Ft.jsx)("input",{type:"password",id:"password",value:s,onChange:e=>o(e.target.value),required:!0,disabled:u,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,Ft.jsx)("button",{type:"button",className:"forgot-password-link",onClick:()=>{console.log('[FORGOT PASSWORD] \u041a\u043d\u043e\u043f\u043a\u0430 "\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?" \u043d\u0430\u0436\u0430\u0442\u0430'),c(null),S(""),E(!1),_(!0)},style:{background:"none",border:"none",color:"var(--accent-color)",cursor:"pointer",fontSize:"14px",marginTop:"8px",textDecoration:"underline",padding:0},children:n("auth.forgot_password")})]}),l&&!x&&(0,Ft.jsx)("div",{className:"message-error",children:l}),p&&(0,Ft.jsxs)("div",{className:"resend-container",children:[(0,Ft.jsx)("button",{type:"button",className:"btn-resend",disabled:"sending"===g,onClick:async()=>{v("sending"),c(null);try{const e=await fetch("/api/public/resend-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}),t=await e.json();if(!e.ok)throw new Error(t.message);v("success")}catch(YM){c(YM.message),v(null)}},children:n("sending"===g?"auth.resending":"auth.resend_button")}),"success"===g&&(0,Ft.jsxs)("span",{className:"resend-success",children:["\u2705 ",n("auth.resend_success")]})]}),(0,Ft.jsx)("button",{type:"submit",className:"btn btn-primary-glow",disabled:u||"sending"===g,children:u?"...":n("auth.login_button")}),P&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("div",{className:"auth-divider",children:(0,Ft.jsx)("span",{children:n("auth.or","\u0438\u043b\u0438")})}),(0,Ft.jsxs)("div",{id:"telegram-login-container",style:{display:"flex",flexDirection:"column",alignItems:"center",marginTop:"1rem",gap:"0.5rem"},children:[y&&(0,Ft.jsx)("div",{className:"message-info",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f \u0447\u0435\u0440\u0435\u0437 Telegram..."}),!y&&(0,Ft.jsx)("div",{className:"telegram-login-hint",style:{fontSize:"12px",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:"\u0415\u0441\u043b\u0438 \u0432\u0438\u0434\u0436\u0435\u0442 \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f, \u043f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0434\u043e\u043c\u0435\u043d\u0430 \u0432 @BotFather"})]})]}),x&&(0,Ft.jsx)("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:()=>{j||(_(!1),S(""),E(!1),c(null))},children:(0,Ft.jsxs)("div",{className:"modal-content",style:{backgroundColor:"var(--bg-primary)",padding:"30px",borderRadius:"12px",maxWidth:"400px",width:"90%",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.3)"},onClick:e=>e.stopPropagation(),children:[(0,Ft.jsx)("h2",{style:{marginTop:0,marginBottom:"20px"},children:n("auth.forgot_password_title")}),l&&x&&(0,Ft.jsx)("div",{className:"message-error",style:{marginBottom:"20px"},children:l}),C?(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{className:"message-success",style:{marginBottom:"20px"},children:n("auth.forgot_password_success")}),(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>{_(!1),S(""),E(!1)},children:n("auth.close")})]}):(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{htmlFor:"forgot-email",children:n("auth.email")}),(0,Ft.jsx)("input",{type:"email",id:"forgot-email",value:w,onChange:e=>{console.log("[FORGOT PASSWORD] Email \u0438\u0437\u043c\u0435\u043d\u0435\u043d:",e.target.value),S(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&!j&&w&&(e.preventDefault(),console.log("[FORGOT PASSWORD] Enter \u043d\u0430\u0436\u0430\u0442, \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0437\u0430\u043f\u0440\u043e\u0441"),O(e))},required:!0,disabled:j,placeholder:"name@example.com"})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[(0,Ft.jsx)("button",{type:"button",className:"btn btn-primary",disabled:j||!w,onClick:e=>{console.log("[FORGOT PASSWORD] \u041a\u043d\u043e\u043f\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u043d\u0430\u0436\u0430\u0442\u0430, email:",w),e.preventDefault(),e.stopPropagation(),w&&O(e)},children:j?"...":n("auth.send_password")}),(0,Ft.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>{_(!1),S(""),c(null)},disabled:j,children:n("auth.cancel")})]})]})]})})]})},Ti=e=>{let{onRegister:r}=e;const{t:n}=sn(),[i,a]=(0,t.useState)(""),[s,o]=(0,t.useState)(""),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(!1),{register:p}=Wt(),[m]=Mt(),g=m.get("ref");return(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),c(null),d(null),f(!0);try{const e=await p(i,s,g);d(e.message),a(""),o("")}catch(t){c(t.message||n("auth.error_register"))}finally{f(!1)}},className:"auth-form",children:[l&&(0,Ft.jsx)("div",{className:"message-error",children:l}),u&&(0,Ft.jsx)("div",{className:"message-success",children:u}),g&&!u&&(0,Ft.jsxs)("div",{className:"referral-badge",children:[n("auth.invited_by")," ",(0,Ft.jsx)("strong",{children:g})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{htmlFor:"email",children:n("auth.email")}),(0,Ft.jsx)("input",{type:"email",id:"email",value:i,onChange:e=>a(e.target.value),required:!0,disabled:h,placeholder:"name@example.com"})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{htmlFor:"password",children:n("auth.password")}),(0,Ft.jsx)("input",{type:"password",id:"password",value:s,onChange:e=>o(e.target.value),required:!0,disabled:h,placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,Ft.jsx)("button",{type:"submit",className:"btn btn-primary-glow",disabled:h,children:h?"...":n("auth.register_button")})]})};const Ri=function(){const{t:e}=sn(),r=_e(),[n,i]=(0,t.useState)("/login"===r.pathname),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0);(0,t.useEffect)(()=>{i("/login"===r.pathname)},[r.pathname]),(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/public/branding");if(e.ok){const t=await e.json();s(t)}else s({logo_url:"",site_name:"",site_subtitle:"",login_welcome_text:"",register_welcome_text:"",footer_text:""})}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0431\u0440\u0435\u043d\u0434\u0438\u043d\u0433\u0430:",YM),s({logo_url:"",site_name:"",site_subtitle:"",login_welcome_text:"",register_welcome_text:"",footer_text:""})}finally{l(!1)}})()},[]);const c=e=>{window.location.href="ADMIN"===e?"/admin":"/dashboard"};if(o||!a)return(0,Ft.jsx)("div",{className:"auth-page-wrapper",children:(0,Ft.jsx)("div",{className:"auth-card",children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})});const u=n?a.login_welcome_text||a.site_subtitle||"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u0435 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.":a.register_welcome_text||a.site_subtitle||"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u043a \u043d\u0435\u0432\u0438\u0434\u0438\u043c\u043e\u0439 \u0441\u0435\u0442\u0438.",d=a.site_name||"",h=d?d.split(/(NET|VPN|VPN|NET)/i):[],f=h.length>1?h.map((e,t)=>/NET|VPN/i.test(e)?(0,Ft.jsx)("span",{className:"text-accent",children:e},t):e):d;return(0,Ft.jsx)("div",{className:"auth-page-wrapper",children:(0,Ft.jsxs)("div",{className:"auth-card",children:[(0,Ft.jsxs)("div",{className:"auth-header",children:[a.logo_url?(0,Ft.jsx)("div",{className:"auth-logo",children:(0,Ft.jsx)("img",{src:a.logo_url,alt:a.site_name||"",style:{maxWidth:"200px",maxHeight:"60px"}})}):(0,Ft.jsx)("div",{className:"auth-logo",children:(0,Ft.jsx)(fi,{})}),(0,Ft.jsx)("h1",{children:f||""}),(0,Ft.jsx)("p",{className:"auth-subtitle",children:u})]}),(0,Ft.jsxs)("div",{className:"auth-tabs",children:[(0,Ft.jsx)(At,{to:"/login",className:"auth-tab ".concat(n?"active":""),children:e("auth.login")}),(0,Ft.jsx)(At,{to:"/register",state:r.state,search:r.search,className:"auth-tab ".concat(n?"":"active"),children:e("auth.register")})]}),n?(0,Ft.jsx)(Ai,{onLogin:c}):(0,Ft.jsx)(Ti,{onRegister:c}),(0,Ft.jsx)("div",{className:"auth-footer",children:a.footer_text||""})]})})};const Di=function(){const{t:e}=sn(),[r]=Mt(),n=je(),{setToken:i,setRole:a,setUser:s}=Wt(),[o,l]=(0,t.useState)("verifying"),[c,u]=(0,t.useState)("");return(0,t.useEffect)(()=>{const t=r.get("token");if(!t)return l("error"),void u(e("verify.error_no_token"));(async()=>{try{const e=await fetch("/api/public/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:t})}),r=await e.json();if(!e.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438");if(r.token&&r.role){i(r.token),a(r.role),localStorage.setItem("userToken",r.token),localStorage.setItem("userRole",r.role);try{const e=await fetch("/api/client/me",{headers:{Authorization:"Bearer ".concat(r.token)}});if(e.ok){const t=await e.json();s(t)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",YM)}setTimeout(()=>{"admin"===r.role?n("/admin/dashboard"):n("/dashboard/subscription")},1e3)}l("success")}catch(YM){l("error"),u(YM.message)}})()},[r,e,n,i,a,s]),(0,Ft.jsxs)("div",{className:"container",children:["verifying"===o&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("h2",{children:e("verify.verifying_title","\u0412\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f...")}),(0,Ft.jsx)("div",{className:"loading-mini",style:{textAlign:"center"},children:e("verify.verifying_text","\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435...")})]}),"success"===o&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("h2",{style:{color:"var(--accent-green)"},children:["\u2705 ",e("verify.success_title","\u0423\u0441\u043f\u0435\u0448\u043d\u043e!")]}),(0,Ft.jsx)("p",{style:{textAlign:"center"},children:e("verify.success_text","\u0412\u0430\u0448 email \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d. \u041f\u0435\u0440\u0435\u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0432 \u043f\u0430\u043d\u0435\u043b\u044c...")})]}),"error"===o&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("h2",{style:{color:"var(--accent-red)"},children:["\u274c ",e("verify.error_title","\u041e\u0448\u0438\u0431\u043a\u0430")]}),(0,Ft.jsx)("div",{className:"message-error",style:{textAlign:"center"},children:c||e("verify.error_generic","\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430.")}),(0,Ft.jsx)(At,{to:"/login",className:"btn btn-outline",style:{marginTop:"15px"},children:e("verify.go_to_login","\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a\u043e \u0432\u0445\u043e\u0434\u0443")})]})]})};function Li(e){return gn({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M420.55,301.93a24,24,0,1,1,24-24,24,24,0,0,1-24,24m-265.1,0a24,24,0,1,1,24-24,24,24,0,0,1-24,24m273.7-144.48,47.94-83a10,10,0,1,0-17.27-10h0l-48.54,84.07a301.25,301.25,0,0,0-246.56,0L116.18,64.45a10,10,0,1,0-17.27,10h0l47.94,83C64.53,202.22,8.24,285.55,0,384H576c-8.24-98.45-64.54-181.78-146.85-226.55"},child:[]}]})(e)}function Mi(e){return gn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(e)}function Ii(e){return gn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"},child:[]}]})(e)}let Bi={UAH:40,RUB:100,USD:1};(async()=>{try{const e=await fetch("/api/public/currency-rates");if(e.ok){const t=await e.json();Bi=u(u({},Bi),t.rates)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u0443\u0440\u0441\u043e\u0432 \u0432\u0430\u043b\u044e\u0442:",YM)}})();const zi=(e,t)=>{if(!e||0===e)return 0;const r=(t||"usd").toUpperCase();return e*(Bi[r]||1)},Fi=e=>{let{onActivateTrial:r,loading:n,error:i}=e;const{t:a,i18n:s}=sn(),[o,l]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/public/trial-settings");if(e.ok){const t=await e.json();l(t)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0442\u0440\u0438\u0430\u043b\u0430:",YM)}})()},[]);const c=s.language||"ru",u="ua"===c?"ua":"en"===c?"en":"cn"===c?"cn":"ru",d=o&&(o["title_".concat(u)]||o.title_ru)||a("trial.hero_title","\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 3 \u0434\u043d\u044f \u043f\u0440\u0435\u043c\u0438\u0443\u043c"),h=o&&(o["description_".concat(u)]||o.description_ru)||a("trial.cta_desc","\u0414\u0430\u0434\u0438\u043c \u043f\u043e\u043b\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0431\u0435\u0437 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439 \u2014 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0435\u0442\u044c \u043f\u0435\u0440\u0435\u0434 \u043e\u043f\u043b\u0430\u0442\u043e\u0439."),f=o&&(o["button_text_".concat(u)]||o.button_text_ru)||a("trial.cta","\ud83c\udf81 \u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e");return o&&!o.enabled?null:(0,Ft.jsxs)("div",{className:"glass-card trial-card gradient-card",children:[(0,Ft.jsx)("div",{className:"trial-icon-wrapper",children:(0,Ft.jsx)(zn,{})}),(0,Ft.jsxs)("div",{className:"trial-content",children:[(0,Ft.jsx)("p",{className:"eyebrow-text",children:a("trial.no_subscription")}),(0,Ft.jsx)("h3",{children:d}),(0,Ft.jsx)("p",{children:h})]}),(0,Ft.jsx)("div",{className:"trial-actions",children:(0,Ft.jsx)("button",{className:"btn btn-trial",onClick:r,disabled:n,children:n?a("trial.activating"):f})}),i&&(0,Ft.jsx)("div",{className:"message-error",style:{marginTop:"15px"},children:i})]})},Hi=e=>{let{onUpdateUser:r}=e;const{token:n}=Wt(),[i,a]=(0,t.useState)(""),[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null);return(0,Ft.jsxs)("div",{className:"glass-card info-card softer-card promo-card",children:[(0,Ft.jsxs)("h3",{className:"client-widget-title",children:[(0,Ft.jsx)(xi,{style:{marginRight:8}})," \u0410\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u044f \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u0430"]}),(0,Ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim()){o(!0),c(null);try{const e=await fetch("/api/client/activate-promocode",{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({promo_code:i})}),t=await e.json();if(!e.ok)throw new Error(t.message);c({type:"success",msg:t.message}),a(""),setTimeout(()=>window.location.reload(),1500)}catch(t){c({type:"error",msg:t.message})}finally{o(!1)}}},className:"promo-form",children:[(0,Ft.jsxs)("div",{className:"input-with-button",children:[(0,Ft.jsx)("input",{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434...",value:i,onChange:e=>a(e.target.value),disabled:s}),(0,Ft.jsx)("button",{className:"btn-copy",type:"submit",disabled:s,children:s?"...":"OK"})]}),l&&(0,Ft.jsx)("div",{className:"message-".concat(l.type),style:{marginTop:10,fontSize:14},children:l.msg})]})]})},Ui=e=>{let{user:r,isTrulyActive:n,formattedDate:i,squadName:a}=e;const{t:s}=sn(),{currency:o}=Wt(),l=(0,t.useMemo)(()=>{const e=r.balance_usd||r.balance||0;return zi(e,o||r.preferred_currency)},[r.balance_usd,r.balance,o,r.preferred_currency]),c=(0,t.useMemo)(()=>{if(!r.expireAt)return 0;const e=new Date,t=new Date(r.expireAt)-e,n=Math.ceil(t/864e5);return n>0?n:0},[r.expireAt]);return(0,Ft.jsxs)("div",{className:"glass-card info-card accent-card",children:[(0,Ft.jsx)("h3",{className:"client-widget-title",children:s("dashboard.details_title")}),(0,Ft.jsxs)("div",{className:"info-list modern",children:[(0,Ft.jsxs)("div",{className:"info-item modern",children:[(0,Ft.jsxs)("span",{className:"info-label",children:[(0,Ft.jsx)(Ci,{})," Email"]}),(0,Ft.jsx)("span",{className:"info-value",children:r.email})]}),(0,Ft.jsxs)("div",{className:"info-item modern",children:[(0,Ft.jsxs)("span",{className:"info-label",children:[(0,Ft.jsx)(yn,{})," ",s("dashboard.status")]}),n?(0,Ft.jsxs)("span",{className:"status-chip success",children:[(0,Ft.jsx)(On,{})," \u0410\u043a\u0442\u0438\u0432\u043d\u0430"]}):(0,Ft.jsxs)("span",{className:"status-chip danger",children:[(0,Ft.jsx)(Pn,{})," \u041d\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u0430"]})]}),n&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("div",{className:"info-item modern",children:[(0,Ft.jsxs)("span",{className:"info-label",children:[(0,Ft.jsx)(Nn,{})," ",s("dashboard.expires_at")]}),(0,Ft.jsx)("span",{className:"info-value",children:i})]}),(0,Ft.jsxs)("div",{className:"info-item modern",children:[(0,Ft.jsxs)("span",{className:"info-label",children:[(0,Ft.jsx)(Wn,{})," ",s("dashboard.days_left","\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0434\u043d\u0435\u0439")]}),(0,Ft.jsx)("span",{className:"info-value ".concat(c<=3?"text-warning":""),children:c})]})]}),(0,Ft.jsxs)("div",{className:"info-item modern",children:[(0,Ft.jsxs)("span",{className:"info-label",children:[(0,Ft.jsx)(fi,{})," \u0422\u0430\u0440\u0438\u0444"]}),(0,Ft.jsx)("span",{className:"info-value",children:a})]}),(0,Ft.jsxs)("div",{className:"info-item modern",children:[(0,Ft.jsxs)("span",{className:"info-label",children:[(0,Ft.jsx)(Oi,{})," \u0411\u0430\u043b\u0430\u043d\u0441"]}),(0,Ft.jsxs)("span",{className:"info-value",style:{fontWeight:"bold",color:"var(--accent-green)"},children:[l.toFixed(2)," ",(o||r.preferred_currency||"uah").toUpperCase()]})]})]})]})},Wi=e=>{let{user:r,onUpdateUser:n}=e;const{token:i,currency:a}=Wt(),s=(0,t.useMemo)(()=>{const e=r.balance_usd||r.balance||0;return zi(e,a||r.preferred_currency)},[r.balance_usd,r.balance,a,r.preferred_currency]),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/public/available-payment-methods");if(e.ok){const t=await e.json();y(t.available_methods||[])}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432 \u043e\u043f\u043b\u0430\u0442\u044b:",YM)}})()},[]);const b=async e=>{if(!o||parseFloat(o)<=0)return h("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443"),void g(!1);u(!0),h(null),p(null),g(!1);try{const t=await fetch("/api/client/create-payment",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},body:JSON.stringify({tariff_id:null,amount:parseFloat(o),currency:r.preferred_currency||"uah",payment_provider:e,type:"balance_topup"})}),n=await t.json();if(!t.ok)throw new Error(n.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0430");if(!n.payment_url)throw new Error("\u041d\u0435 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043e\u043f\u043b\u0430\u0442\u0443");window.location.href=n.payment_url}catch(t){h(t.message),u(!1)}};return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("div",{className:"glass-card balance-card accent-card",children:[(0,Ft.jsxs)("h3",{className:"client-widget-title",children:[(0,Ft.jsx)(Oi,{})," \u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430"]}),(0,Ft.jsxs)("div",{className:"balance-display",style:{marginBottom:"20px",padding:"15px",backgroundColor:"var(--bg-secondary)",borderRadius:"8px"},children:[(0,Ft.jsx)("p",{style:{margin:0,fontSize:"14px",color:"var(--text-secondary)"},children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441"}),(0,Ft.jsxs)("p",{style:{margin:"5px 0 0 0",fontSize:"24px",fontWeight:"bold",color:"var(--accent-green)"},children:[s.toFixed(2)," ",(a||r.preferred_currency||"uah").toUpperCase()]})]}),(0,Ft.jsxs)("form",{onSubmit:e=>{e.preventDefault(),!o||parseFloat(o)<=0?h("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443"):(g(!0),h(null))},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,Ft.jsxs)("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",color:"var(--text-secondary)"},children:["\u0421\u0443\u043c\u043c\u0430 \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f (",(a||r.preferred_currency||"uah").toUpperCase(),")"]}),(0,Ft.jsx)("input",{type:"number",step:"0.01",min:"0.01",value:o,onChange:e=>l(e.target.value),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",style:{width:"calc(100% - 4px)",padding:"12px",borderRadius:"8px",border:"1px solid var(--glass-border)",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",fontSize:"16px"},required:!0})]}),(0,Ft.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:c,style:{width:"100%"},children:c?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0430...":(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Rn,{})," \u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441"]})}),d&&(0,Ft.jsx)("div",{className:"message-error",style:{marginTop:"15px"},children:d}),f&&(0,Ft.jsx)("div",{className:"message-success",style:{marginTop:"15px"},children:f})]})]}),m&&(0,Ft.jsx)("div",{className:"modal-overlay payment-modal-overlay",onClick:()=>g(!1),children:(0,Ft.jsxs)("div",{className:"modal-content payment-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Ft.jsx)("h3",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"}),(0,Ft.jsxs)("div",{className:"payment-methods-list",children:[v.includes("crystalpay")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("crystalpay"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"CrystalPay"}),v.includes("heleket")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("heleket"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Heleket (\u041a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u044b)"}),v.includes("yookassa")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("yookassa"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"YooKassa (RUB)"}),v.includes("yoomoney")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("yoomoney"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"YooMoney (RUB)"}),v.includes("platega")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("platega"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Platega"}),v.includes("platega_mir")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("platega_mir"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"\u041a\u0430\u0440\u0442\u044b \u041c\u0418\u0420"}),v.includes("mulenpay")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("mulenpay"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Mulenpay"}),v.includes("urlpay")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("urlpay"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"UrlPay"}),v.includes("telegram_stars")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("telegram_stars"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Telegram Stars \u2b50"}),v.includes("monobank")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("monobank"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Monobank \ud83d\udcb3"}),v.includes("btcpayserver")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("btcpayserver"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"BTCPayServer \u20bf (Bitcoin)"}),v.includes("tribute")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("tribute"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Tribute"}),v.includes("robokassa")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("robokassa"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Robokassa"}),v.includes("freekassa")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("freekassa"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Freekassa"}),v.includes("kassa_ai")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>b("kassa_ai"),disabled:c,children:c?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Kassa AI"}),0===v.length&&(0,Ft.jsx)("p",{style:{fontSize:"14px",color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432 \u043e\u043f\u043b\u0430\u0442\u044b. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443."})]})]})})]})},qi=e=>{let{user:t}=e;const{t:r}=sn(),n=function(e){if(!e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB"][t]},i=t.usedTrafficBytes||0,a=t.trafficLimitBytes||0,s=0===a,o=!s&&i>0?Math.min(i/a*100,100):0;return(0,Ft.jsxs)("div",{className:"glass-card info-card softer-card",children:[(0,Ft.jsx)("h3",{className:"client-widget-title",children:r("dashboard.traffic_title")}),s?(0,Ft.jsxs)("div",{className:"traffic-stats unlimited",children:[(0,Ft.jsx)("span",{children:"\u0411\u0435\u0437\u043b\u0438\u043c\u0438\u0442"}),(0,Ft.jsx)(yn,{})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("div",{className:"progress-bar-container",children:(0,Ft.jsx)("div",{className:"progress-bar-fill",style:{width:"".concat(o,"%")}})}),(0,Ft.jsxs)("div",{className:"traffic-stats",children:[(0,Ft.jsx)("span",{children:n(i)}),(0,Ft.jsx)("span",{children:n(a)})]})]}),(0,Ft.jsx)("div",{className:"info-list",style:{marginTop:"20px"},children:(0,Ft.jsxs)("div",{className:"info-item",children:[(0,Ft.jsxs)("span",{className:"info-label",children:[(0,Ft.jsx)(Dn,{})," \u0412\u0441\u0435\u0433\u043e"]}),(0,Ft.jsx)("span",{className:"info-value",children:n(t.lifetimeUsedTrafficBytes||0)})]})})]})},Ki=e=>{let{connectUrl:t,branding:r}=e;const{t:n}=sn();if(r&&!1===r.quick_download_enabled)return null;const i=(null===r||void 0===r?void 0:r.quick_download_profile_deeplink)||"stealthnet://install-config?url=",a=t?"".concat(i).concat(encodeURIComponent(t)):null,s=(null===r||void 0===r?void 0:r.quick_download_windows_url)||"",o=(null===r||void 0===r?void 0:r.quick_download_android_url)||"",l=(null===r||void 0===r?void 0:r.quick_download_macos_url)||"",c=(null===r||void 0===r?void 0:r.quick_download_ios_url)||"";return s||o||l||c||a?(0,Ft.jsxs)("section",{className:"glass-card quick-download-section",children:[(0,Ft.jsx)("h3",{className:"client-widget-title",children:n("dashboard.quick_download_title")}),(0,Ft.jsxs)("div",{className:"quick-download-buttons",children:[s&&(0,Ft.jsxs)("a",{href:s,className:"btn btn-download btn-windows",target:"_blank",rel:"noopener noreferrer",children:[(0,Ft.jsx)(Ii,{})," ",n("dashboard.download_windows")]}),l&&(0,Ft.jsxs)("a",{href:l,className:"btn btn-download btn-macos",target:"_blank",rel:"noopener noreferrer",children:[(0,Ft.jsx)(Mi,{})," ",n("dashboard.download_macos")]}),o&&(0,Ft.jsxs)("a",{href:o,className:"btn btn-download btn-android",target:"_blank",rel:"noopener noreferrer",children:[(0,Ft.jsx)(Li,{})," ",n("dashboard.download_android","\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0434\u043b\u044f Android")]}),c&&(0,Ft.jsxs)("a",{href:c,className:"btn btn-download btn-ios",target:"_blank",rel:"noopener noreferrer",children:[(0,Ft.jsx)(Mi,{})," ",n("dashboard.download_ios","\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0434\u043b\u044f iOS")]}),a?(0,Ft.jsxs)("a",{href:a,className:"btn btn-download btn-profile",children:[(0,Ft.jsx)(si,{})," ",n("dashboard.add_profile")]}):(0,Ft.jsxs)("button",{className:"btn btn-download btn-profile",disabled:!0,children:[(0,Ft.jsx)(si,{})," ",n("dashboard.add_profile")]})]})]}):null},Vi=e=>{let{isTrulyActive:t,formattedDate:r,onUpgrade:n,onActivateTrial:i,trialLoading:a,daysLeft:s,connectUrl:o,onNavigateSupport:l,onNavigateReferrals:c}=e;const{t:u}=sn(),d=u("dashboard.no_subscription","\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438");return(0,Ft.jsx)("section",{className:"hero-card glass-panel gradient-card",children:(0,Ft.jsxs)("div",{className:"hero-container",children:[(0,Ft.jsxs)("div",{className:"hero-main",children:[(0,Ft.jsxs)("p",{className:"eyebrow-text",children:[(0,Ft.jsx)(gi,{})," ",u("dashboard.hero_label","\u0412\u0430\u0448 \u0442\u0440\u0430\u0444\u0438\u043a \u043f\u043e\u0434 \u0437\u0430\u0449\u0438\u0442\u043e\u0439")]}),(0,Ft.jsx)("h2",{children:t?u("dashboard.hero_active","\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u0430"):u("dashboard.hero_inactive","\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438")}),(0,Ft.jsx)("p",{children:t?u("dashboard.hero_active_desc","\u041c\u044b \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c \u0441\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u044b\u043c \u0438 \u0431\u044b\u0441\u0442\u0440\u044b\u043c \u043f\u043e \u0432\u0441\u0435\u043c\u0443 \u043c\u0438\u0440\u0443."):u("dashboard.hero_inactive_desc","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0442\u0430\u0440\u0438\u0444 \u0438\u043b\u0438 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u0442\u0440\u0438\u0430\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439 VPN.")}),(0,Ft.jsxs)("div",{className:"hero-status-row",children:[(0,Ft.jsx)("span",{className:"status-dot ".concat(t?"online":"offline")}),(0,Ft.jsx)("span",{children:t?"".concat(u("dashboard.expires_at")," ").concat(r):d})]}),(0,Ft.jsx)("div",{className:"quick-metrics",children:(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{children:u("dashboard.days_left","\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0434\u043d\u0435\u0439")}),(0,Ft.jsx)("strong",{children:t?s:"\u2014"})]})}),(0,Ft.jsxs)("div",{className:"hero-quick-actions",children:[(0,Ft.jsxs)("button",{className:"chip-btn",onClick:n,children:[(0,Ft.jsx)(fi,{})," ",u("dashboard.hero_plans","\u0422\u0430\u0440\u0438\u0444\u044b")]}),(0,Ft.jsxs)("button",{className:"chip-btn secondary",onClick:l,children:[(0,Ft.jsx)(Yn,{})," ",u("dashboard.hero_support","\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 24/7")]}),(0,Ft.jsxs)("button",{className:"chip-btn secondary",onClick:c,children:[(0,Ft.jsx)(Ei,{})," ",u("dashboard.hero_ref","\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430")]})]})]}),(0,Ft.jsx)("div",{className:"hero-actions",children:t?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("button",{className:"btn btn-primary hero-cta",type:"button",onClick:n,children:[u("dashboard.hero_cta","\u041f\u0440\u043e\u0434\u043b\u0438\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443")," ",(0,Ft.jsx)(bn,{})]}),o&&(0,Ft.jsxs)("div",{className:"hero-connect-block",children:[(0,Ft.jsx)("div",{className:"hero-connect-info",children:(0,Ft.jsx)("span",{children:u("dashboard.connect_desc","\u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u0438 \u0441\u043b\u0435\u0434\u0443\u0439\u0442\u0435 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c")})}),(0,Ft.jsxs)("button",{className:"btn btn-connect hero-connect-btn",type:"button",onClick:()=>{o&&(window.location.href=o)},children:[(0,Ft.jsx)(Mn,{})," ",u("dashboard.connect_button","\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f")]})]})]}):(0,Ft.jsxs)("button",{className:"btn btn-primary hero-cta",type:"button",onClick:n,children:[u("dashboard.hero_plans","\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0442\u0430\u0440\u0438\u0444")," ",(0,Ft.jsx)(bn,{})]})})]})})};function Yi(){var e;const{i18n:r}=sn(),{user:n,setUser:i,token:a}=Wt(),s=je(),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(!0),[p,m]=(0,t.useState)(null);if((0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/public/branding");if(e.ok){const t=await e.json();m(t)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 branding:",YM)}})()},[]),(0,t.useEffect)(()=>{if(n)return void f(!1);if(!a)return void f(!0);let e=!1;return(async()=>{f(!0);try{if(await new Promise(e=>setTimeout(e,50)),e)return;const t=await fetch("/api/client/me?force_refresh=true",{headers:{Authorization:"Bearer ".concat(a)}});if(e)return;if(!t.ok){if(401===t.status){if(await new Promise(e=>setTimeout(e,200)),e)return;const t=await fetch("/api/client/me?force_refresh=true",{headers:{Authorization:"Bearer ".concat(a)}});if(!t.ok){if(401===t.status)return void s("/login");throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445")}const r=await t.json(),n=r.response||r;if(e)return;return i(n),void f(!1)}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445")}const r=await t.json(),n=r.response||r;if(e)return;i(n)}catch(t){e||console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",t)}finally{e||f(!1)}})(),()=>{e=!0}},[a,n,i,s]),h)return(0,Ft.jsx)("main",{className:"client-page-content modern",children:(0,Ft.jsx)("div",{className:"loading-full",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})});if(!n)return(0,Ft.jsx)("main",{className:"client-page-content modern",children:(0,Ft.jsx)("div",{className:"loading-full",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f."})});const g=(null===(e=n.activeInternalSquads)||void 0===e?void 0:e.length)>0,v=new Date(n.expireAt)<new Date,y=g&&!v,b=new Date(n.expireAt).toLocaleDateString(r.language),x=g?n.activeInternalSquads[0].name:"\u041d\u0435\u0442",_=(()=>{if(!n.expireAt)return 0;const e=new Date,t=new Date(n.expireAt)-e,r=Math.ceil(t/864e5);return r>0?r:0})(),w=async()=>{if(!o){l(!0),d(null);try{const e=await fetch("/api/client/activate-trial",{method:"POST",headers:{Authorization:"Bearer ".concat(a)}}),t=await e.json();if(!e.ok)throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438");t.message&&console.log("Trial activated:",t.message);const r=await fetch("/api/client/me",{headers:{Authorization:"Bearer ".concat(a)}});if(r.ok){const e=await r.json();i(e.response||e)}else i(e=>u(u({},e),(null===t||void 0===t?void 0:t.response)||{}));setTimeout(()=>{window.location.reload()},1e3)}catch(e){d(e.message)}finally{l(!1)}}};return(0,Ft.jsxs)("main",{className:"client-page-content modern",children:[(0,Ft.jsx)(Vi,{isTrulyActive:y,formattedDate:b,onUpgrade:()=>s("/dashboard/tariffs"),onActivateTrial:w,trialLoading:o,daysLeft:_,connectUrl:n.subscriptionUrl,onNavigateSupport:()=>s("/dashboard/support"),onNavigateReferrals:()=>s("/dashboard/referrals")}),(0,Ft.jsx)(Ki,{connectUrl:n.subscriptionUrl,branding:p}),y?(0,Ft.jsxs)("div",{className:"client-grid",children:[(0,Ft.jsx)(Ui,{user:n,isTrulyActive:y,formattedDate:b,squadName:x}),(0,Ft.jsx)(qi,{user:n}),(0,Ft.jsx)(Wi,{user:n,onUpdateUser:e=>i(e)}),(0,Ft.jsx)(Hi,{onUpdateUser:e=>i(e)})]}):(0,Ft.jsx)("div",{className:"client-grid no-subscription",children:(0,Ft.jsx)("div",{className:"grid-full",children:(0,Ft.jsx)(Fi,{onActivateTrial:w,loading:o,error:c})})})]})}const Gi={US:"\ud83c\uddfa\ud83c\uddf8",DE:"\ud83c\udde9\ud83c\uddea",NL:"\ud83c\uddf3\ud83c\uddf1",FR:"\ud83c\uddeb\ud83c\uddf7",GB:"\ud83c\uddec\ud83c\udde7",UA:"\ud83c\uddfa\ud83c\udde6",PL:"\ud83c\uddf5\ud83c\uddf1",CA:"\ud83c\udde8\ud83c\udde6",JP:"\ud83c\uddef\ud83c\uddf5",AU:"\ud83c\udde6\ud83c\uddfa"},Xi=["linear-gradient(135deg, rgba(63,105,255,0.18), rgba(14,165,233,0.2))","linear-gradient(135deg, rgba(16,185,129,0.18), rgba(14,116,144,0.2))","linear-gradient(135deg, rgba(251,191,36,0.2), rgba(248,113,113,0.2))","linear-gradient(135deg, rgba(147,51,234,0.18), rgba(59,130,246,0.2))"],$i=e=>{let{load:t}=e;const r=e=>e<40?"var(--accent-primary)":e<70?"var(--accent-yellow)":"var(--accent-red)";return(0,Ft.jsxs)("div",{className:"server-load-bar",children:[(0,Ft.jsxs)("div",{className:"load-bar-header",children:[(0,Ft.jsx)("span",{children:"\u041d\u0430\u0433\u0440\u0443\u0437\u043a\u0430"}),(0,Ft.jsxs)("span",{style:{color:r(t),fontWeight:600},children:[t,"% \u2022 ",(n=t,n<40?"\u041d\u0438\u0437\u043a\u0430\u044f":n<70?"\u0421\u0440\u0435\u0434\u043d\u044f\u044f":"\u0412\u044b\u0441\u043e\u043a\u0430\u044f")]})]}),(0,Ft.jsxs)("div",{className:"load-bar-track",children:[(0,Ft.jsx)("div",{className:"load-bar-fill",style:{width:"".concat(t,"%"),background:r(t),animation:"loadPulse 2s ease-in-out infinite"}}),(0,Ft.jsx)("div",{className:"load-bar-glow",style:{width:"".concat(t,"%"),background:r(t)}})]})]});var n},Ji=e=>{let{token:r}=e;const[n,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)("all");(0,t.useEffect)(()=>{r&&(async()=>{s(!0);try{const t=await fetch("/api/client/nodes",{headers:{Authorization:"Bearer ".concat(r)}});if(t.ok){var e;const r=await t.json();i((null===(e=r.response)||void 0===e?void 0:e.activeNodes)||[])}}catch(YM){console.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0435\u0440\u0432\u0435\u0440\u044b",YM)}finally{s(!1)}})()},[r]);const c=(0,t.useMemo)(()=>{const e=n.map(e=>{var t;return e.regionName||(null===(t=e.countryCode)||void 0===t?void 0:t.toUpperCase())}).filter(Boolean);return Array.from(new Set(e)).slice(0,6)},[n]),u=(0,t.useMemo)(()=>"all"===o?n:n.filter(e=>{var t;return(e.regionName||(null===(t=e.countryCode)||void 0===t?void 0:t.toUpperCase()))===o}),[n,o]);return a?(0,Ft.jsx)("div",{className:"loading-mini",children:"\u041f\u043e\u0434\u0433\u043e\u0442\u0430\u0432\u043b\u0438\u0432\u0430\u0435\u043c \u0441\u043f\u0438\u0441\u043e\u043a \u0443\u0437\u043b\u043e\u0432\u2026"}):n.length?(0,Ft.jsxs)("div",{className:"servers-panel glass-card",children:[(0,Ft.jsxs)("div",{className:"servers-toolbar",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("p",{children:["\u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0443\u0437\u043b\u043e\u0432: ",(0,Ft.jsx)("strong",{children:n.length})]}),(0,Ft.jsxs)("span",{children:["\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e ",new Intl.DateTimeFormat("ru-RU",{hour:"2-digit",minute:"2-digit"}).format(new Date)]})]}),(0,Ft.jsxs)("div",{className:"pill-switch",children:[(0,Ft.jsx)("button",{type:"button",className:"all"===o?"active":"",onClick:()=>l("all"),children:"\u0412\u0441\u0435"}),c.map(e=>(0,Ft.jsx)("button",{type:"button",className:o===e?"active":"",onClick:()=>l(e),children:e},e))]})]}),(0,Ft.jsx)("div",{className:"server-grid modern",children:u.map((e,t)=>{var r,n;const i=Xi[t%Xi.length],a=18+11*t%60,s=17*t%80+15,o=e.city||e.regionName||(null===(r=e.countryCode)||void 0===r?void 0:r.toUpperCase()),l=(null===(n=e.countryCode)||void 0===n?void 0:n.toUpperCase())||"XX";return(0,Ft.jsxs)("article",{className:"server-card",style:{background:i},children:[(0,Ft.jsxs)("div",{className:"server-card-head",children:[(0,Ft.jsx)("span",{className:"flag",children:Gi[l]||l}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"server-location",children:o}),(0,Ft.jsx)("span",{className:"server-region",children:e.nodeName})]}),(0,Ft.jsx)("span",{className:"server-status ".concat(s>70?"warn":""),children:s>70?"\u041f\u0438\u043a\u043e\u0432\u0430\u044f \u043d\u0430\u0433\u0440\u0443\u0437\u043a\u0430":"\u0421\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e"})]}),(0,Ft.jsxs)("div",{className:"server-metrics",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{children:"Ping"}),(0,Ft.jsxs)("strong",{children:[a," ms"]})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{children:"\u0421\u043a\u043e\u0440\u043e\u0441\u0442\u044c"}),(0,Ft.jsx)("strong",{children:s>70?"600 \u041c\u0431\u0438\u0442/\u0441":"1 \u0413\u0431\u0438\u0442/\u0441"})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{children:"\u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b"}),(0,Ft.jsx)("strong",{children:"VLESS"})]})]}),(0,Ft.jsx)($i,{load:s})]},e.uuid||"".concat(l,"-").concat(t))})})]}):(0,Ft.jsx)("div",{className:"empty-state glass-card",children:"\u041d\u0430 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0443\u0437\u043b\u043e\u0432. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u043e\u0437\u0436\u0435."})};function Qi(){var e;const{t:r}=sn(),{token:n,user:i}=Wt(),[a,s]=(0,t.useState)({dashboard_servers_title:"",dashboard_servers_description:""});(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/public/branding");if(e.ok){const t=await e.json();s(t)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0431\u0440\u0435\u043d\u0434\u0438\u043d\u0433\u0430:",YM)}})()},[]);const o=Boolean(null===i||void 0===i||null===(e=i.activeInternalSquads)||void 0===e?void 0:e.length),l=i&&new Date(i.expireAt)<new Date,c=o&&!l,u=a.dashboard_servers_title||"\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c StealthNET",d=a.dashboard_servers_description||"\u0414\u0435\u0440\u0436\u0438\u043c \u043d\u0438\u0437\u043a\u0438\u0439 \u043f\u0438\u043d\u0433 \u0438 \u0432\u044b\u0441\u043e\u043a\u0443\u044e \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c, \u0447\u0442\u043e\u0431\u044b VPN \u0447\u0443\u0432\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0441\u044f \u043a\u0430\u043a \u043f\u0440\u044f\u043c\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435.";return(0,Ft.jsxs)("main",{className:"client-page-content",children:[(0,Ft.jsx)("section",{className:"servers-hero glass-card gradient-card",children:(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"eyebrow-text",children:r("sidebar.servers","\u0421\u0435\u0440\u0432\u0435\u0440\u044b")}),(0,Ft.jsx)("h2",{children:u}),(0,Ft.jsx)("p",{children:d}),(0,Ft.jsxs)("div",{className:"hero-quick-actions",children:[(0,Ft.jsxs)("span",{className:"chip-btn secondary",children:[(0,Ft.jsx)(pi,{})," ",(0,Ft.jsx)("strong",{children:"40+"})," \u043b\u043e\u043a\u0430\u0446\u0438\u0439"]}),(0,Ft.jsxs)("span",{className:"chip-btn secondary",children:[(0,Ft.jsx)(Ni,{})," \u0411\u0435\u0437\u043b\u0438\u043c\u0438\u0442\u043d\u044b\u0439 \u0442\u0440\u0430\u0444\u0438\u043a"]}),(0,Ft.jsxs)("span",{className:"chip-btn secondary",children:[(0,Ft.jsx)(fi,{})," Anti-DPI"]})]})]})}),(0,Ft.jsxs)("section",{className:"servers-section",children:[(0,Ft.jsx)("h2",{children:r("dashboard.servers")}),c?(0,Ft.jsx)(Ji,{token:n}):(0,Ft.jsx)("div",{className:"empty-state glass-card",children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u043d\u0430. \u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435 \u0442\u0440\u0438\u0430\u043b \u0438\u043b\u0438 \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u0435 \u0442\u0430\u0440\u0438\u0444, \u0447\u0442\u043e\u0431\u044b \u0432\u0438\u0434\u0435\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u0438."})]})]})}var Zi=r(7950);const ea={uah:{field:"price_uah",code:"UAH"},rub:{field:"price_rub",code:"RUB"},usd:{field:"price_usd",code:"USD"}};let ta={UAH:40,RUB:100,USD:1};(async()=>{try{const e=await fetch("/api/public/currency-rates");if(e.ok){const t=await e.json();ta=u(u({},ta),t.rates)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u0443\u0440\u0441\u043e\u0432 \u0432\u0430\u043b\u044e\u0442:",YM)}})();const ra={basic:["\u0411\u0435\u0437\u043b\u0438\u043c\u0438\u0442\u043d\u044b\u0439 \u0442\u0440\u0430\u0444\u0438\u043a","\u0414\u043e 5 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432","\u0411\u0430\u0437\u043e\u0432\u044b\u0439 \u0430\u043d\u0442\u0438-DPI"],pro:["\u041f\u0440\u0438\u043e\u0440\u0438\u0442\u0435\u0442\u043d\u0430\u044f \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c","\u0414\u043e 10 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432","\u0420\u043e\u0442\u0430\u0446\u0438\u044f IP-\u0430\u0434\u0440\u0435\u0441\u043e\u0432"],elite:["VIP-\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 24/7","\u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 IP \u043f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443","\u0410\u0432\u0442\u043e\u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043a\u043b\u044e\u0447\u0435\u0439"]},na=e=>{if(e.tier)return String(e.tier).toLowerCase();const t=e.duration_days;return t>=180?"elite":t>=90?"pro":"basic"},ia=(e,t)=>{if("ru"===t){const t=e%10,r=e%100;return r>=11&&r<=19?"\u0434\u043d\u0435\u0439":1===t?"\u0434\u0435\u043d\u044c":t>=2&&t<=4?"\u0434\u043d\u044f":"\u0434\u043d\u0435\u0439"}if("ua"===t){const t=e%10,r=e%100;return r>=11&&r<=19?"\u0434\u043d\u0456\u0432":1===t?"\u0434\u0435\u043d\u044c":t>=2&&t<=4?"\u0434\u043d\u0456":"\u0434\u043d\u0456\u0432"}return"cn"===t?"\u5929":1===e?"day":"days"},aa=(e,t,r)=>{if(!e)return e;const n=[/\d+\s+\u0414\u043d\u0435\u0439/gi,/\d+\s+\u0434\u043d\u0435\u0439/gi,/\d+\s+\u0434\u043d\u044f/gi,/\d+\s+\u0434\u0435\u043d\u044c/gi,/\d+\s+\u0414\u0435\u043d\u044c/gi,/\d+\s+\u0414\u043d\u044f/gi,/\d+\s+\u0414\u043d\u0456\u0432/gi,/\d+\s+\u0434\u043d\u0456\u0432/gi,/\d+\s+\u0434\u043d\u0456/gi,/\d+\s+Days/gi,/\d+\s+days/gi,/\d+\s+Day/gi,/\d+\s+day/gi,/\d+\s+\u5929/gi];for(const i of n)if(i.test(e)){const n=ia(t,r);return"en"===r?e.replace(i,"".concat(t," ").concat(n.charAt(0).toUpperCase()+n.slice(1))):"cn"===r?e.replace(i,"".concat(t," ").concat(n)):e.replace(i,"".concat(t," ").concat(n.charAt(0).toUpperCase()+n.slice(1)))}return e},sa=()=>{const{t:e,i18n:r}=sn(),{currency:n,token:i,user:a}=Wt(),[s,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(ra),[u,d]=(0,t.useState)([]),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(!0),[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(null),[x,_]=(0,t.useState)(""),[w,S]=(0,t.useState)(null),[j,k]=(0,t.useState)(null),[C,E]=(0,t.useState)(null),[O,P]=(0,t.useState)(!1),[N,A]=(0,t.useState)([]),[T,R]=(0,t.useState)([]),[D,L]=(0,t.useState)(null),[M,I]=(0,t.useState)(!1),B=(0,t.useMemo)(()=>((e,t)=>{if(!e||0===e)return 0;const r=(t||"usd").toUpperCase();return e*(ta[r]||1)})((null===a||void 0===a?void 0:a.balance_usd)||(null===a||void 0===a?void 0:a.balance)||0,n||(null===a||void 0===a?void 0:a.preferred_currency)||"uah"),[null===a||void 0===a?void 0:a.balance_usd,null===a||void 0===a?void 0:a.balance,n,null===a||void 0===a?void 0:a.preferred_currency]);(0,t.useEffect)(()=>{(async()=>{m(!0);try{const[e,t,r,n,a]=await Promise.all([fetch("/api/public/tariffs"),fetch("/api/public/tariff-levels",{cache:"no-store",headers:{"Cache-Control":"no-cache"}}),fetch("/api/public/tariff-features",{cache:"no-store",headers:{"Cache-Control":"no-cache"}}),fetch("/api/public/available-payment-methods"),fetch("/api/public/branding")]);if(e.ok){const t=await e.json();console.log("Loaded tariffs:",t),o(t)}if(t.ok){const e=await t.json();d(Array.isArray(e)?e:[])}else d([]);if(r.ok){const e=await r.json();if(console.log("Loaded features from API:",e),e&&"object"===typeof e&&!Array.isArray(e))c(e);else if(Array.isArray(e)){const t={};e.forEach(e=>{if(null!==e&&void 0!==e&&e.tier)try{let r=e.features;"string"===typeof r&&(r=JSON.parse(r)),Array.isArray(r)&&(t[e.tier]=r)}catch(YM){console.error("Error parsing features for tier ".concat(e.tier,":"),YM)}}),c(Object.keys(t).length?t:ra)}else c(ra)}else console.warn("Failed to load features, using defaults"),c(ra);if(n.ok){const e=await n.json();A(e.available_methods||[])}if(a.ok){const e=await a.json();f(e)}if(i)try{const e=await fetch("/api/client/me",{headers:{Authorization:"Bearer ".concat(i)}});e.ok&&await e.json()}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0431\u0430\u043b\u0430\u043d\u0441\u0430:",YM)}}catch(YM){console.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435",YM)}finally{m(!1)}})()},[i]);const z=(0,t.useMemo)(()=>{const e=[...u||[]].sort((e,t)=>{var r,n;return(null!==(r=null===e||void 0===e?void 0:e.display_order)&&void 0!==r?r:0)-(null!==(n=null===t||void 0===t?void 0:t.display_order)&&void 0!==n?n:0)}),t=e.map(e=>null===e||void 0===e?void 0:e.code).filter(Boolean);return t.length?t:["basic","pro","elite"]},[u]),F=z[0]||"basic",H=(0,t.useCallback)(e=>{if(!e)return"";const t=(u||[]).find(t=>(null===t||void 0===t?void 0:t.code)===e);return null!==t&&void 0!==t&&t.name?t.name:h&&e&&h["tariff_tier_".concat(e,"_name")]?h["tariff_tier_".concat(e,"_name")]:e},[u,h]);(0,t.useEffect)(()=>{(async()=>{if(i)try{const e=await fetch("/api/client/configs",{headers:{Authorization:"Bearer ".concat(i)}});if(!e.ok)return;const t=(await e.json()).configs||[];R(t);const r=t.find(e=>e.is_primary)||t[0];r&&r.id&&(L(r.id),I(!1))}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u043e\u043d\u0444\u0438\u0433\u043e\u0432:",YM)}})()},[i]);const U=(0,t.useMemo)(()=>{const e=ea[n]||ea.uah;return new Intl.NumberFormat("ru-RU",{style:"currency",currency:e.code,maximumFractionDigits:0})},[n]),W=e=>{const t=ea[n]||ea.uah,r=Number(e[t.field])||0,i=U.format(r),a=e.duration_days?r/e.duration_days:r;return{formatted:i,perDayFormatted:new Intl.NumberFormat("ru-RU",{style:"currency",currency:t.code,maximumFractionDigits:2}).format(a),value:r}},q=async()=>{if(x.trim()){k(null);try{const e=await fetch("/api/client/check-promocode",{method:"POST",headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"},body:JSON.stringify({promo_code:x.trim().toUpperCase()})}),t=await e.json();e.ok?"PERCENT"===t.promo_type?(S({code:t.code,type:"PERCENT",value:t.value,discount:t.value}),k(null)):"DAYS"===t.promo_type&&(k("\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434 \u043d\u0430 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u043d\u0438 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"),S(null)):(k(t.message||"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"),S(null))}catch(YM){k("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u0430"),S(null)}}else k("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434")},K=async e=>{if(C)if("balance"!==e){v(C),b(null),P(!1);try{const t=await fetch("/api/client/create-payment",{method:"POST",headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"},body:JSON.stringify({tariff_id:C,promo_code:w&&"PERCENT"===w.type?w.code:null,payment_provider:e,config_id:M?null:D,create_new_config:M})}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0441\u0447\u0435\u0442\u0430");window.location.href=r.payment_url}catch(YM){b(YM.message),v(null),P(!0)}}else{v(C),b(null),P(!1);try{const e=await fetch("/api/client/purchase-with-balance",{method:"POST",headers:{Authorization:"Bearer ".concat(i),"Content-Type":"application/json"},body:JSON.stringify({tariff_id:C,promo_code:w&&"PERCENT"===w.type?w.code:null,config_id:M?null:D,create_new_config:M})}),t=await e.json();if(!e.ok)throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0442\u0430\u0440\u0438\u0444\u0430");const r=await fetch("/api/client/me?force_refresh=true",{headers:{Authorization:"Bearer ".concat(i)}});if(r.ok){(await r.json()).response&&window.location.reload()}alert("\u0422\u0430\u0440\u0438\u0444 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d!"),window.location.href="/dashboard/subscription"}catch(YM){b(YM.message),v(null),P(!0)}}},V=(0,t.useMemo)(()=>{const e={};return z.forEach(t=>{e[t]=[]}),s.forEach(t=>{const r=na(t);e[r]||(e[r]=[]),e[r].push(t)}),Object.keys(e).forEach(t=>{e[t].sort((e,t)=>(e.duration_days||0)-(t.duration_days||0))}),e},[s,z]);if(p)return(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c \u0442\u0430\u0440\u0438\u0444\u044b\u2026"});const Y=t=>{const i=g===t.id,a=na(t),s=W(t),o=(e=>{const t=W(e);if(w&&"PERCENT"===w.type){const e=w.value/100*t.value,r=t.value-e,i=ea[n]||ea.uah,a=new Intl.NumberFormat("ru-RU",{style:"currency",currency:i.code,maximumFractionDigits:0});return{original:t.formatted,discounted:a.format(r),discount:w.value}}return null})(t);return(0,Ft.jsxs)("article",{className:"tariff-card ".concat(a," ").concat(a!==F?"featured":""),children:[t.badge&&""!==t.badge.trim()&&(0,Ft.jsx)("span",{className:"tariff-ribbon",title:e("tariffs.badge.".concat(t.badge),"\u0422\u041e\u041f \u043f\u0440\u043e\u0434\u0430\u0436"),children:e("tariffs.badge.".concat(t.badge),"\u0422\u041e\u041f \u043f\u0440\u043e\u0434\u0430\u0436")}),(0,Ft.jsx)("p",{className:"tariff-label",children:H(a)||("basic"===a?"\u0411\u0430\u0437\u043e\u0432\u044b\u0439":"pro"===a?"\u041f\u0440\u0435\u043c\u0438\u0443\u043c":"elite"===a?"\u042d\u043b\u0438\u0442\u043d\u044b\u0439":a)}),(0,Ft.jsx)("h3",{children:aa(e("tariffs.".concat(t.name),t.name),t.duration_days,r.resolvedLanguage||"ru")}),(0,Ft.jsxs)("div",{className:"tariff-price",children:[o?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("span",{style:{textDecoration:"line-through",opacity:.6,marginRight:"8px"},children:o.original}),(0,Ft.jsx)("span",{style:{color:"var(--accent-primary)",fontWeight:"bold"},children:o.discounted}),(0,Ft.jsxs)("span",{style:{fontSize:"0.8em",color:"var(--accent-primary)",marginLeft:"8px"},children:["-",o.discount,"%"]})]}):s.formatted,(0,Ft.jsxs)("span",{children:["/ ",t.duration_days," ",ia(t.duration_days,r.resolvedLanguage||"ru")]})]}),(0,Ft.jsxs)("div",{className:"tariff-meta",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{children:"\u0426\u0435\u043d\u0430 \u0437\u0430 \u0434\u0435\u043d\u044c"}),(0,Ft.jsx)("strong",{children:s.perDayFormatted})]}),Number(t.bonus_days)>0&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("span",{children:"\u0411\u043e\u043d\u0443\u0441"}),(0,Ft.jsxs)("strong",{children:["+",t.bonus_days," \u0434\u043d\u0435\u0439"]})]})]}),(0,Ft.jsx)("ul",{className:"tariff-features",children:(null!==l&&void 0!==l&&l[a]&&Array.isArray(l[a])&&l[a].length>0?l[a]:ra[a]||[]).map((e,t)=>{var r;const n=(null===h||void 0===h||null===(r=h.tariff_features_names)||void 0===r?void 0:r[e])||e;return(0,Ft.jsx)("li",{children:n},"".concat(a,"-").concat(t,"-").concat(e))})}),(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>{return e=t.id,E(e),void P(!0);var e},disabled:i,children:i?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":e("tariffs.select")})]},t.id)};return(0,Ft.jsxs)("div",{className:"tariffs-container",children:[y&&(0,Ft.jsx)("div",{className:"message-error",children:y}),(0,Ft.jsxs)("div",{className:"promo-code-section",children:[(0,Ft.jsx)("h3",{style:{marginTop:0,marginBottom:"15px"},children:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"}),(0,Ft.jsxs)("div",{className:"promo-code-input-wrapper",children:[(0,Ft.jsx)("input",{type:"text",value:x,onChange:e=>_(e.target.value.toUpperCase()),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434",className:"promo-code-input",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),q())}}),(0,Ft.jsx)("button",{onClick:q,className:"btn promo-code-button",children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]}),j&&(0,Ft.jsx)("div",{style:{marginTop:"10px",color:"var(--accent-red)",fontSize:"14px"},children:j}),w&&"PERCENT"===w.type&&(0,Ft.jsxs)("div",{style:{marginTop:"10px",color:"var(--accent-primary)",fontSize:"14px",fontWeight:"600"},children:["\u2713 \u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434 ",w.code," \u043f\u0440\u0438\u043c\u0435\u043d\u0435\u043d! \u0421\u043a\u0438\u0434\u043a\u0430 ",w.value,"%"]})]}),z.map(e=>{const t=(null===V||void 0===V?void 0:V[e])||[];return t.length?(0,Ft.jsxs)("div",{className:"tariff-tier-section",children:[(0,Ft.jsx)("h3",{className:"tariff-tier-title",children:H(e)||e}),(0,Ft.jsx)("div",{className:"tariff-grid modern",children:t.map(Y)})]},e):null}),O&&(0,Zi.createPortal)((0,Ft.jsx)("div",{className:"modal-overlay payment-modal-overlay",onClick:()=>P(!1),children:(0,Ft.jsxs)("div",{className:"modal-content payment-modal-content",onClick:e=>e.stopPropagation(),children:[(0,Ft.jsx)("h3",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b"}),(0,Ft.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,Ft.jsx)("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginBottom:"6px"},children:"\u041a\u043e\u043d\u0444\u0438\u0433 \u0434\u043b\u044f \u043e\u043f\u043b\u0430\u0442\u044b"}),(0,Ft.jsxs)("select",{value:M?"new":null!==D&&void 0!==D?D:"",onChange:e=>{const t=e.target.value;"new"===t?(I(!0),L(null)):(I(!1),L(t?Number(t):null))},style:{width:"100%",padding:"10px 12px",borderRadius:"10px",border:"1px solid var(--glass-border)",background:"var(--glass-bg)",color:"var(--text-primary)"},children:[T.map(e=>(0,Ft.jsx)("option",{value:e.id,children:(e.is_primary?"\u2b50 ":"\ud83e\udde9 ")+(e.config_name||"\u041a\u043e\u043d\u0444\u0438\u0433 ".concat(e.id))},e.id)),(0,Ft.jsx)("option",{value:"new",children:"\u2795 \u041d\u043e\u0432\u044b\u0439 \u043a\u043e\u043d\u0444\u0438\u0433"})]})]}),(0,Ft.jsxs)("div",{className:"payment-methods-list",children:[N.includes("crystalpay")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("crystalpay"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"CrystalPay"}),N.includes("heleket")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("heleket"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Heleket (\u041a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u044b)"}),N.includes("yookassa")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("yookassa"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"YooKassa (RUB)"}),N.includes("yoomoney")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("yoomoney"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"YooMoney (RUB)"}),N.includes("platega")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("platega"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Platega"}),N.includes("platega_mir")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("platega_mir"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"\u041a\u0430\u0440\u0442\u044b \u041c\u0418\u0420"}),N.includes("mulenpay")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("mulenpay"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Mulenpay"}),N.includes("urlpay")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("urlpay"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"UrlPay"}),N.includes("telegram_stars")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("telegram_stars"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Telegram Stars \u2b50"}),N.includes("monobank")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("monobank"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Monobank \ud83d\udcb3"}),N.includes("btcpayserver")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("btcpayserver"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"BTCPayServer \u20bf (Bitcoin)"}),N.includes("tribute")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("tribute"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Tribute"}),N.includes("robokassa")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("robokassa"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Robokassa"}),N.includes("freekassa")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("freekassa"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Freekassa"}),N.includes("kassa_ai")&&(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("kassa_ai"),disabled:g===C,children:g===C?"\u0421\u043e\u0437\u0434\u0430\u0435\u043c \u0441\u0447\u0451\u0442\u2026":"Kassa AI"}),C&&(()=>{const e=s.find(e=>e.id===C);if(!e)return null;const t={uah:e.price_uah,rub:e.price_rub,usd:e.price_usd},r=(null===a||void 0===a?void 0:a.preferred_currency)||n||"uah",i=t[r]||t.uah,o=w&&"PERCENT"===w.type?i*(1-w.value/100):i,l=B>=o;return(0,Ft.jsxs)("div",{style:{marginTop:"15px",paddingTop:"15px",borderTop:"1px solid var(--glass-border)"},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"10px",fontSize:"14px",color:"var(--text-secondary)",textAlign:"center"},children:["\u0411\u0430\u043b\u0430\u043d\u0441: ",(0,Ft.jsxs)("strong",{style:{color:l?"var(--accent-green)":"var(--accent-red)"},children:[B.toFixed(2)," ",r.toUpperCase()]})]}),(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>K("balance"),disabled:g===C||!l,style:{width:"100%",backgroundColor:l?"var(--accent-green)":"var(--accent-red)",opacity:l?1:.6},children:g===C?"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430...":l?"\u041e\u043f\u043b\u0430\u0442\u0438\u0442\u044c \u0441 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 (".concat(o.toFixed(2)," ").concat(r.toUpperCase(),")"):"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0441\u0440\u0435\u0434\u0441\u0442\u0432 (\u043d\u0443\u0436\u043d\u043e ".concat(o.toFixed(2)," ").concat(r.toUpperCase(),")")})]})})(),0===N.length&&!C&&(0,Ft.jsx)("p",{style:{fontSize:"14px",color:"var(--text-secondary)",textAlign:"center",padding:"20px"},children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432 \u043e\u043f\u043b\u0430\u0442\u044b. \u041e\u0431\u0440\u0430\u0442\u0438\u0442\u0435\u0441\u044c \u043a \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0443."}),(0,Ft.jsx)("button",{className:"btn payment-cancel-button",onClick:()=>{P(!1),E(null)},disabled:g===C,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})}),document.body)]})};function oa(){const{t:e}=sn(),[r,n]=(0,t.useState)({dashboard_tariffs_title:"",dashboard_tariffs_description:""});(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/public/branding");if(e.ok){const t=await e.json();n(t)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0431\u0440\u0435\u043d\u0434\u0438\u043d\u0433\u0430:",YM)}})()},[]);const i=r.dashboard_tariffs_title||"\u041f\u0440\u0435\u043c\u0438\u0443\u043c VPN \u0431\u0435\u0437 \u043b\u0438\u043c\u0438\u0442\u043e\u0432",a=r.dashboard_tariffs_description||"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0440\u043e\u043a \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438 \u0438 \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0432\u0441\u0435\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c \u0438 \u043d\u043e\u0432\u043e\u043c\u0443 \u043a\u043b\u044e\u0447\u0443 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f.";return(0,Ft.jsxs)("main",{className:"client-page-content",children:[(0,Ft.jsxs)("section",{className:"tariff-hero glass-card gradient-card",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("p",{className:"eyebrow-text",children:e("dashboard.tariffs")}),(0,Ft.jsx)("h2",{children:i}),(0,Ft.jsx)("p",{children:a})]}),(0,Ft.jsxs)("ul",{className:"tariff-hero-stats",children:[(0,Ft.jsxs)("li",{children:[(0,Ft.jsx)("span",{children:"5+"})," \u0441\u043f\u043e\u0441\u043e\u0431\u043e\u0432 \u043e\u043f\u043b\u0430\u0442\u044b"]}),(0,Ft.jsxs)("li",{children:[(0,Ft.jsx)("span",{children:"24/7"})," \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430"]}),(0,Ft.jsxs)("li",{children:[(0,Ft.jsx)("span",{children:"\u221e"})," \u0442\u0440\u0430\u0444\u0438\u043a"]})]})]}),(0,Ft.jsx)("section",{className:"tariffs-section",children:(0,Ft.jsx)(sa,{})})]})}const la={traffic:{title:"\u0422\u0440\u0430\u0444\u0438\u043a"},devices:{title:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430"},squad:{title:"\u0421\u043a\u0432\u0430\u0434\u044b"}},ca={crystalpay:"CrystalPay",heleket:"Heleket (\u041a\u0440\u0438\u043f\u0442\u043e\u0432\u0430\u043b\u044e\u0442\u044b)",yookassa:"YooKassa (RUB)",yoomoney:"YooMoney (RUB)",platega:"Platega",platega_mir:"\u041a\u0430\u0440\u0442\u044b \u041c\u0418\u0420",mulenpay:"Mulenpay",urlpay:"UrlPay",telegram_stars:"Telegram Stars \u2b50",monobank:"Monobank \ud83d\udcb3",btcpayserver:"BTCPayServer \u20bf (Bitcoin)",tribute:"Tribute",robokassa:"Robokassa",freekassa:"Freekassa",kassa_ai:"Kassa AI",cryptobot:"CryptoBot"};function ua(e){const t=String(e||"").toLowerCase();return"uah"===t?"\u20b4":"rub"===t?"\u20bd":"usd"===t?"$":""}function da(){const{token:e,currency:r,user:n}=Wt(),i=r||(null===n||void 0===n?void 0:n.preferred_currency)||"rub",[a,s]=(0,t.useState)({traffic:[],devices:[],squad:[]}),[o,l]=(0,t.useState)([]),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(!0),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(null),[b,x]=(0,t.useState)(!1),[_,w]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{p(!0),g(null);try{const[e,t]=await Promise.all([fetch("/api/public/purchase-options",{cache:"no-store"}),fetch("/api/public/available-payment-methods")]);if(e.ok){const t=await e.json(),r=(null===t||void 0===t?void 0:t.options)||{};s({traffic:Array.isArray(r.traffic)?r.traffic:[],devices:Array.isArray(r.devices)?r.devices:[],squad:Array.isArray(r.squad)?r.squad:[]})}else s({traffic:[],devices:[],squad:[]});if(t.ok){const e=await t.json();l(Array.isArray(null===e||void 0===e?void 0:e.available_methods)?e.available_methods:[])}else l([])}catch(YM){g(YM.message)}finally{p(!1)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(e)try{const r=await fetch("/api/client/configs",{headers:{Authorization:"Bearer ".concat(e)}});if(r.ok){var t;const e=await r.json(),n=Array.isArray(null===e||void 0===e?void 0:e.configs)?e.configs:[];u(n);const i=n.find(e=>e.is_primary);h((null===i||void 0===i?void 0:i.id)||(null===n||void 0===n||null===(t=n[0])||void 0===t?void 0:t.id)||null)}}catch(r){}})()},[e]);const S=(0,t.useMemo)(()=>{var e,t,r;return((null===(e=a.traffic)||void 0===e?void 0:e.length)||0)+((null===(t=a.devices)||void 0===t?void 0:t.length)||0)+((null===(r=a.squad)||void 0===r?void 0:r.length)||0)},[a]);return(0,Ft.jsxs)("main",{className:"client-page-content",children:[(0,Ft.jsxs)("section",{children:[(0,Ft.jsxs)("h2",{className:"admin-page-title",style:{display:"flex",alignItems:"center",gap:10},children:[(0,Ft.jsx)(ti,{})," \u041e\u043f\u0446\u0438\u0438"]}),(0,Ft.jsxs)("p",{className:"admin-description-text",style:{marginBottom:16},children:["\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u043a\u0438: \u0434\u043e\u043a\u0443\u043f\u0438\u0442\u044c \u0442\u0440\u0430\u0444\u0438\u043a / \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430 / \u0441\u043a\u0432\u0430\u0434. \u0414\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u043e\u043f\u0446\u0438\u0439: ",S,"."]}),m&&(0,Ft.jsx)("div",{className:"message-error",children:m}),c.length>0&&(0,Ft.jsxs)("div",{style:{marginBottom:16,display:"flex",gap:10,alignItems:"center",flexWrap:"wrap"},children:[(0,Ft.jsx)("div",{style:{color:"var(--text-secondary)",fontSize:13},children:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c \u043a \u043a\u043e\u043d\u0444\u0438\u0433\u0443:"}),(0,Ft.jsx)("select",{className:"lang-select",value:d||"",onChange:e=>h(e.target.value?Number(e.target.value):null),style:{minWidth:220},children:c.map(e=>(0,Ft.jsxs)("option",{value:e.id,children:[e.name||e.remnawave_uuid||"Config #".concat(e.id),e.is_primary?" (primary)":""]},e.id))})]}),f?(0,Ft.jsx)("div",{className:"loading-full",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):(0,Ft.jsx)("div",{style:{display:"grid",gap:18},children:Object.keys(la).map(e=>{const t=a[e]||[];return(0,Ft.jsxs)("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:12,padding:16},children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[(0,Ft.jsx)("div",{style:{fontWeight:800,color:"var(--text-primary)"},children:la[e].title}),(0,Ft.jsx)("div",{style:{color:"var(--text-secondary)",fontSize:13},children:t.length})]}),0===t.length?(0,Ft.jsx)("div",{style:{color:"var(--text-secondary)"},children:"\u041d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0445 \u043e\u043f\u0446\u0438\u0439"}):(0,Ft.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(260px, 1fr))",gap:12},children:t.map(e=>{const t=function(e,t){const r=String(t||"").toLowerCase();return Number("uah"===r?e.price_uah||0:"rub"===r?e.price_rub||0:"usd"===r?e.price_usd||0:e.price_rub||0)}(e,i);return(0,Ft.jsxs)("div",{style:{background:"var(--bg-primary)",border:"1px solid var(--border-color)",borderRadius:12,padding:14},children:[(0,Ft.jsxs)("div",{style:{display:"flex",gap:10,alignItems:"center",marginBottom:6},children:[(0,Ft.jsx)("div",{style:{width:36,height:36,borderRadius:12,background:"var(--bg-tertiary)",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid var(--border-color)",fontSize:18},children:e.icon||"\ud83d\udce6"}),(0,Ft.jsxs)("div",{style:{minWidth:0},children:[(0,Ft.jsx)("div",{style:{fontWeight:800,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.name}),(0,Ft.jsxs)("div",{style:{color:"var(--text-secondary)",fontSize:13},children:[e.value,e.unit?" ".concat(e.unit):""]})]})]}),e.description?(0,Ft.jsx)("div",{style:{color:"var(--text-secondary)",fontSize:13,marginBottom:10,minHeight:34,overflow:"hidden"},children:e.description}):(0,Ft.jsx)("div",{style:{minHeight:34}}),(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gap:10},children:[(0,Ft.jsxs)("div",{style:{fontWeight:900},children:[ua(i)," ",t.toFixed(2)]}),(0,Ft.jsxs)("button",{className:"btn",onClick:()=>(e=>{y(e),x(!0)})(e),style:{display:"inline-flex",alignItems:"center",gap:8},children:[(0,Ft.jsx)(Rn,{})," \u041a\u0443\u043f\u0438\u0442\u044c"]})]})]},e.id)})})]},e)})})]}),b&&v&&(0,Ft.jsx)("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:18,zIndex:1e3},onClick:()=>!_&&x(!1),children:(0,Ft.jsxs)("div",{style:{width:"min(560px, 100%)",background:"var(--bg-primary)",border:"1px solid var(--border-color)",borderRadius:14,padding:16},onClick:e=>e.stopPropagation(),children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10},children:[(0,Ft.jsxs)("div",{style:{fontWeight:900},children:["\u041e\u043f\u043b\u0430\u0442\u0430: ",v.name]}),(0,Ft.jsx)("button",{className:"btn-icon",onClick:()=>!_&&x(!1),"aria-label":"Close",children:(0,Ft.jsx)(Pi,{})})]}),(0,Ft.jsx)("div",{style:{color:"var(--text-secondary)",fontSize:13,marginBottom:12},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043f\u043e\u0441\u043e\u0431 \u043e\u043f\u043b\u0430\u0442\u044b."}),(0,Ft.jsx)("div",{style:{display:"grid",gap:10},children:0===o.length?(0,Ft.jsx)("div",{style:{color:"var(--text-secondary)"},children:"\u041c\u0435\u0442\u043e\u0434\u044b \u043e\u043f\u043b\u0430\u0442\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}):o.map(t=>(0,Ft.jsxs)("button",{className:"btn",disabled:_,onClick:()=>(async t=>{if(e&&v){w(!0),g(null);try{const r=await fetch("/api/client/create-option-payment",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({option_id:v.id,payment_provider:t,config_id:d})}),n=await r.json().catch(()=>({}));if(!r.ok)throw new Error(n.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u043b\u0430\u0442\u0435\u0436\u0430");if(!n.payment_url)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043e\u043f\u043b\u0430\u0442\u044b");window.location.href=n.payment_url}catch(YM){g(YM.message)}finally{w(!1),x(!1)}}})(t),style:{justifyContent:"space-between",display:"flex",width:"100%"},children:[(0,Ft.jsx)("span",{children:ca[t]||t}),(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)",fontWeight:700},children:_?"...":"\u2192"})]},t))})]})})]})}function ha(){var e,r;const{user:n,token:i}=Wt(),[a,s]=(0,t.useState)({direct:!1,telegram:!1}),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0);(0,t.useEffect)(()=>{n&&i&&(async()=>{if(i){d(!0);try{const e=await fetch("/api/client/referrals/info",{headers:{Authorization:"Bearer ".concat(i)}});if(e.ok){const t=await e.json();l(t)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438:",YM)}finally{d(!1)}}})()},[n,i]);const h=(e,t)=>{navigator.clipboard.writeText(e),s(u(u({},a),{},{[t]:!0})),setTimeout(()=>{s(u(u({},a),{},{[t]:!1}))},2e3)};if(!n||c)return(0,Ft.jsx)("main",{className:"client-page-content",children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})});if(!o)return(0,Ft.jsx)("main",{className:"client-page-content",children:(0,Ft.jsx)("div",{className:"empty-state",children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"})});const f=o.referral_info||{};return(0,Ft.jsx)("main",{className:"client-page-content",children:(0,Ft.jsxs)("section",{className:"referral-section",children:["DAYS"===f.type?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("div",{className:"card",style:{marginBottom:"20px",background:"linear-gradient(135deg, #2481cc 0%, #1a6ba8 100%)",color:"white",boxShadow:"0 4px 12px rgba(36, 129, 204, 0.3)",border:"none"},children:(0,Ft.jsxs)("div",{style:{padding:"24px"},children:[(0,Ft.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"white",marginBottom:"8px"},children:f.title||"\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u043d\u0430 \u0434\u043d\u0438"}),(0,Ft.jsx)("div",{style:{fontSize:"14px",color:"rgba(255,255,255,0.9)",lineHeight:"1.5"},children:f.description||"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u0439\u0442\u0435 \u0434\u0440\u0443\u0437\u0435\u0439 \u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0439\u0442\u0435 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u043d\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438!"})]})}),(0,Ft.jsx)("div",{className:"card",style:{marginBottom:"12px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",border:"1px solid #fbbf24",borderRadius:"12px"},children:(0,Ft.jsxs)("div",{style:{padding:"20px",display:"flex",alignItems:"center",gap:"16px"},children:[(0,Ft.jsx)("div",{style:{fontSize:"40px"},children:"\ud83c\udf81"}),(0,Ft.jsxs)("div",{style:{flex:1},children:[(0,Ft.jsx)("div",{style:{fontSize:"12px",color:"#92400e",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:"600"},children:"\u0411\u043e\u043d\u0443\u0441 \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u043d\u043e\u043c\u0443"}),(0,Ft.jsx)("div",{style:{fontSize:"20px",fontWeight:"700",color:"#78350f"},children:f.invitee_bonus})]})]})}),(0,Ft.jsx)("div",{className:"card",style:{marginBottom:"20px",background:"linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%)",border:"1px solid #60a5fa",borderRadius:"12px"},children:(0,Ft.jsxs)("div",{style:{padding:"20px",display:"flex",alignItems:"center",gap:"16px"},children:[(0,Ft.jsx)("div",{style:{fontSize:"40px"},children:"\ud83c\udf81"}),(0,Ft.jsxs)("div",{style:{flex:1},children:[(0,Ft.jsx)("div",{style:{fontSize:"12px",color:"#1e40af",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:"600"},children:"\u0412\u0430\u0448 \u0431\u043e\u043d\u0443\u0441"}),(0,Ft.jsx)("div",{style:{fontSize:"20px",fontWeight:"700",color:"#1e3a8a"},children:f.referrer_bonus})]})]})}),(0,Ft.jsx)("div",{className:"card",style:{marginBottom:"20px",border:"1px solid var(--glass-border)",borderRadius:"12px"},children:(0,Ft.jsxs)("div",{style:{padding:"20px"},children:[(0,Ft.jsx)("h3",{style:{marginTop:0,marginBottom:"16px",fontSize:"18px",fontWeight:"700",color:"var(--text-primary)"},children:"\ud83d\udccb \u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442:"}),(0,Ft.jsx)("ul",{style:{margin:0,paddingLeft:"24px",lineHeight:"1.8",color:"var(--text-secondary)"},children:null===(e=f.how_it_works)||void 0===e?void 0:e.map((e,t)=>(0,Ft.jsx)("li",{style:{marginBottom:"12px",paddingLeft:"4px"},children:e},t))})]})})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("div",{className:"card",style:{marginBottom:"20px",background:"linear-gradient(135deg, #2481cc 0%, #1a6ba8 100%)",color:"white",boxShadow:"0 4px 12px rgba(36, 129, 204, 0.3)",border:"none"},children:(0,Ft.jsxs)("div",{style:{padding:"24px"},children:[(0,Ft.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"white",marginBottom:"8px"},children:f.title||"\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430 \u0441 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u0430\u043c\u0438"}),(0,Ft.jsx)("div",{style:{fontSize:"14px",color:"rgba(255,255,255,0.9)",lineHeight:"1.5"},children:f.description||"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u0439\u0442\u0435 \u0434\u0440\u0443\u0437\u0435\u0439 \u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0439\u0442\u0435 \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u0441 \u0438\u0445 \u043f\u043e\u043a\u0443\u043f\u043e\u043a \u043d\u0430 \u0441\u0432\u043e\u0439 \u0431\u0430\u043b\u0430\u043d\u0441!"})]})}),(0,Ft.jsx)("div",{className:"card",style:{marginBottom:"20px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",border:"none"},children:(0,Ft.jsxs)("div",{style:{padding:"24px"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"},children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{style:{fontSize:"14px",color:"rgba(255,255,255,0.8)",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px"},children:"\u0412\u0430\u0448 \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438"}),(0,Ft.jsx)("div",{style:{fontSize:"48px",fontWeight:"700",color:"white",lineHeight:"1"},children:f.your_percent})]}),(0,Ft.jsx)("div",{style:{fontSize:"64px",opacity:"0.2"},children:"\ud83d\udcb0"})]}),(0,Ft.jsx)("div",{style:{fontSize:"12px",color:"rgba(255,255,255,0.7)",marginTop:"12px"},children:"\u0421 \u043a\u0430\u0436\u0434\u043e\u0439 \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u0438 \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0432\u0430\u0448\u0438\u0445 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u043e\u0432"})]})}),(0,Ft.jsx)("div",{className:"card",style:{marginBottom:"20px",border:"1px solid var(--glass-border)",borderRadius:"12px"},children:(0,Ft.jsxs)("div",{style:{padding:"20px"},children:[(0,Ft.jsx)("h3",{style:{marginTop:0,marginBottom:"16px",fontSize:"18px",fontWeight:"700",color:"var(--text-primary)"},children:"\ud83d\udccb \u041a\u0430\u043a \u044d\u0442\u043e \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442:"}),(0,Ft.jsx)("ul",{style:{margin:0,paddingLeft:"24px",lineHeight:"1.8",color:"var(--text-secondary)"},children:null===(r=f.how_it_works)||void 0===r?void 0:r.map((e,t)=>(0,Ft.jsx)("li",{style:{marginBottom:"12px",paddingLeft:"4px"},children:e},t))})]})})]}),(0,Ft.jsx)("div",{className:"card",style:{marginBottom:"20px",background:"linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%)",border:"1px solid #bae6fd",borderRadius:"12px"},children:(0,Ft.jsxs)("div",{style:{padding:"20px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{style:{fontSize:"14px",color:"#0369a1",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:"600"},children:"\ud83d\udc65 \u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u043e \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u043e\u0432"}),(0,Ft.jsx)("div",{style:{fontSize:"36px",fontWeight:"700",color:"#0284c7"},children:o.referrals_count||0})]}),(0,Ft.jsx)("div",{style:{fontSize:"56px",opacity:"0.3"},children:"\ud83d\udc65"})]})}),o.referral_link_direct&&(0,Ft.jsx)("div",{className:"card",style:{marginBottom:"20px",border:"1px solid var(--glass-border)",borderRadius:"12px"},children:(0,Ft.jsxs)("div",{style:{padding:"20px"},children:[(0,Ft.jsx)("h3",{style:{marginTop:0,marginBottom:"12px",fontSize:"16px",fontWeight:"600",color:"var(--text-primary)"},children:"\ud83d\udd17 \u0421\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439 (\u0441\u0430\u0439\u0442)"}),(0,Ft.jsxs)("div",{className:"input-with-button",style:{marginBottom:"8px"},children:[(0,Ft.jsx)("input",{type:"text",value:o.referral_link_direct,readOnly:!0,style:{background:"var(--surface-muted)",color:"var(--text-primary)"}}),(0,Ft.jsx)("button",{className:"btn-copy",onClick:()=>h(o.referral_link_direct,"direct"),title:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:a.direct?(0,Ft.jsx)(kn,{}):(0,Ft.jsx)(An,{})})]}),(0,Ft.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"\u0414\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 \u0441\u0430\u0439\u0442"})]})}),(0,Ft.jsx)("div",{className:"card",style:{marginBottom:"20px",border:"1px solid var(--glass-border)",borderRadius:"12px"},children:(0,Ft.jsxs)("div",{style:{padding:"20px"},children:[(0,Ft.jsx)("h3",{style:{marginTop:0,marginBottom:"12px",fontSize:"16px",fontWeight:"600",color:"var(--text-primary)"},children:"\ud83e\udd16 \u0421\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439 (\u0431\u043e\u0442)"}),(0,Ft.jsxs)("div",{className:"input-with-button",style:{marginBottom:"12px"},children:[(0,Ft.jsx)("input",{type:"text",value:o.referral_link_telegram||"",readOnly:!0,style:{background:"var(--surface-muted)",color:"var(--text-primary)"}}),(0,Ft.jsx)("button",{className:"btn-copy",onClick:()=>h(o.referral_link_telegram,"telegram"),title:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:a.telegram?(0,Ft.jsx)(kn,{}):(0,Ft.jsx)(An,{})})]}),(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>{null!==o&&void 0!==o&&o.referral_link_telegram&&window.open(o.referral_link_telegram,"_blank")},style:{marginTop:"8px",width:"100%",background:"linear-gradient(135deg, #2481cc 0%, #1a6ba8 100%)",border:"none",boxShadow:"0 4px 12px rgba(36, 129, 204, 0.3)"},children:"\ud83d\udce4 \u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0431\u043e\u0442\u0430"}),(0,Ft.jsx)("div",{style:{fontSize:"12px",color:"var(--text-secondary)",marginTop:"8px"},children:"\u0414\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0447\u0435\u0440\u0435\u0437 Telegram \u0431\u043e\u0442\u0430"})]})}),(0,Ft.jsx)("div",{style:{marginTop:"20px",padding:"20px",background:"linear-gradient(135deg, #fef3c7 0%, #fde68a 100%)",borderRadius:"12px",borderLeft:"4px solid #f59e0b"},children:(0,Ft.jsxs)("div",{style:{fontSize:"14px",color:"#92400e",lineHeight:"1.6"},children:["\ud83d\udca1 ",(0,Ft.jsx)("strong",{children:"\u0421\u043e\u0432\u0435\u0442:"})," \u041e\u0442\u043f\u0440\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443 \u0442\u0435\u043c, \u043a\u043e\u0433\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0442\u044c. \u041f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e \u0432\u0430\u0448\u0435\u0439 \u0441\u0441\u044b\u043b\u043a\u0435 \u0432\u044b \u043e\u0431\u0430 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0431\u043e\u043d\u0443\u0441\u044b!"]})})]})})}const fa=e=>{let{ticketId:r,token:n,onReply:i}=e;const[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(""),{user:p}=Wt(),m=(0,t.useCallback)(async()=>{l(!0),d(null);try{const e=await fetch("/api/support-tickets/".concat(r),{headers:{Authorization:"Bearer ".concat(n)}});if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0447\u0430\u0442");const t=await e.json();s(t)}catch(YM){d(YM.message)}finally{l(!1)}},[r,n]);(0,t.useEffect)(()=>{m()},[m]);if(o)return(0,Ft.jsx)("div",{className:"chat-window loading",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0447\u0430\u0442\u0430..."});if(c)return(0,Ft.jsx)("div",{className:"chat-window error",children:c});if(!a)return null;const g=p?p.id:null;return(0,Ft.jsxs)("div",{className:"chat-window",children:[(0,Ft.jsx)("header",{className:"chat-header",children:(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{children:a.subject}),(0,Ft.jsx)("span",{className:"status-badge-small status-".concat(a.status),children:a.status})]})}),(0,Ft.jsx)("div",{className:"chat-messages",children:a.messages.map(e=>(0,Ft.jsxs)("div",{className:"chat-bubble ".concat(e.sender_id===g?"me":"them"),children:[(0,Ft.jsx)("div",{className:"bubble-sender",children:e.sender_email}),(0,Ft.jsx)("div",{className:"bubble-message",children:e.message}),(0,Ft.jsx)("div",{className:"bubble-time",children:new Date(e.created_at).toLocaleTimeString("ru-RU")})]},e.id))}),(0,Ft.jsxs)("form",{className:"chat-input-form",onSubmit:async e=>{if(e.preventDefault(),h.trim())try{const e=await fetch("/api/support-tickets/".concat(r,"/reply"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({message:h})}),t=await e.json();if(!e.ok)throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438");s(e=>u(u({},e),{},{messages:[...e.messages,t]})),f(""),i()}catch(e){alert(e.message)}},children:[(0,Ft.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442...",value:h,onChange:e=>f(e.target.value),disabled:"CLOSED"===a.status}),(0,Ft.jsx)("button",{type:"submit",className:"btn-send",disabled:"CLOSED"===a.status,children:(0,Ft.jsx)(ui,{})})]})]})},pa=e=>{let{token:r,onTicketCreated:n}=e;const{t:i}=sn(),[a,s]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,u]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null);return(0,Ft.jsxs)("section",{style:{width:"100%",padding:"28px",margin:"0",boxSizing:"border-box"},children:[(0,Ft.jsx)("h2",{style:{marginTop:"0",marginBottom:"24px"},children:i("support.create_title","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0442\u0438\u043a\u0435\u0442")}),(0,Ft.jsxs)("form",{className:"support-form",onSubmit:async e=>{e.preventDefault(),u(!0),h(null);try{const e=await fetch("/api/client/support-tickets",{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify({subject:a,message:o})}),t=await e.json();if(!e.ok)throw new Error(t.message||i("support.error_generic"));n(t.ticket_id)}catch(t){h(t.message),u(!1)}},style:{width:"100%"},children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:i("support.subject","\u0422\u0435\u043c\u0430")}),(0,Ft.jsx)("input",{type:"text",value:a,onChange:e=>s(e.target.value),required:!0,style:{width:"100%",boxSizing:"border-box"}})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:i("support.message_label")}),(0,Ft.jsx)("textarea",{rows:"6",value:o,onChange:e=>l(e.target.value),placeholder:i("support.placeholder"),required:!0,style:{width:"100%",boxSizing:"border-box",minHeight:"120px"}})]}),d&&(0,Ft.jsx)("div",{className:"message-error",children:d}),(0,Ft.jsx)("button",{type:"submit",className:"btn",style:{maxWidth:"200px",width:"auto"},disabled:c,children:c?i("support.sending"):i("support.create_button","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0438\u043a\u0435\u0442")})]})]})};function ma(){const{t:e}=sn(),[r,n]=(0,t.useState)([]),[i,a]=(0,t.useState)(!0),[s,o]=(0,t.useState)(null),{token:l}=Wt(),{ticketId:c}=Ce(),u=je(),d=(0,t.useCallback)(async()=>{a(!0),o(null);try{const e=await fetch("/api/client/support-tickets",{headers:{Authorization:"Bearer ".concat(l)}});if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0442\u0438\u043a\u0435\u0442\u044b");const t=await e.json();n(t)}catch(YM){o(YM.message)}finally{a(!1)}},[l]);(0,t.useEffect)(()=>{d()},[d]);const h=e=>{d(),e&&u("/dashboard/support/".concat(e))};return(0,Ft.jsx)("main",{className:"client-page-content",children:(0,Ft.jsxs)("div",{className:"support-chat-layout",children:[(0,Ft.jsxs)("div",{className:"chat-list-sidebar",children:[(0,Ft.jsx)("div",{className:"chat-list-header",children:(0,Ft.jsx)("h2",{children:e("support.my_tickets","\u041c\u043e\u0438 \u0442\u0438\u043a\u0435\u0442\u044b")})}),i&&(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),s&&(0,Ft.jsx)("div",{className:"message-error",children:s}),(0,Ft.jsx)("div",{className:"chat-list-items",children:r.map(t=>{return(0,Ft.jsxs)("div",{className:"chat-list-item ".concat(t.id===parseInt(c)?"active":""," ").concat("CLOSED"===t.status?"closed":""),onClick:()=>u("/dashboard/support/".concat(t.id)),children:[(0,Ft.jsxs)("div",{className:"item-header",children:[(0,Ft.jsxs)("span",{className:"item-email",children:[e("support.ticket_num","\u0422\u0438\u043a\u0435\u0442 #"),t.id]}),(0,Ft.jsx)("span",{className:"item-date",children:(r=t.created_at,new Date(r).toLocaleDateString("ru-RU"))})]}),(0,Ft.jsx)("div",{className:"item-subject",children:t.subject}),(0,Ft.jsx)("span",{className:"status-badge-small status-".concat(t.status),children:t.status})]},t.id);var r})}),(0,Ft.jsx)("button",{className:"btn",style:{margin:"15px",width:"auto"},onClick:()=>u("/dashboard/support"),children:e("support.create_new","+ \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0438\u043a\u0435\u0442")})]}),(0,Ft.jsx)("div",{className:"chat-window-wrapper",children:c?(0,Ft.jsx)(fa,{ticketId:c,token:l,onReply:h}):(0,Ft.jsx)("div",{className:"chat-window empty",children:(0,Ft.jsx)(pa,{token:l,onTicketCreated:h})})})]})})}function ga(){const{token:e,user:r,setUser:n}=Wt(),[i,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(!1),[d,h]=(0,t.useState)({new_password:"",confirm_password:""}),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(!1),[v,y]=(0,t.useState)({current_password:"",new_password:"",confirm_password:""}),[b,x]=(0,t.useState)(!1),[_,w]=(0,t.useState)({telegram_id:"",telegram_username:""}),[S,j]=(0,t.useState)(!1);(0,t.useEffect)(()=>{!r||r.password_hash&&""!==r.password_hash||c(!0)},[r]);return(0,Ft.jsxs)("main",{className:"client-page-content modern",children:[i&&(0,Ft.jsxs)("div",{className:"alert alert-error",style:{marginBottom:"20px"},children:["\u26a0\ufe0f ",i]}),s&&(0,Ft.jsxs)("div",{className:"alert alert-success",style:{marginBottom:"20px"},children:[(0,Ft.jsx)(kn,{})," ",s]}),(0,Ft.jsxs)("div",{className:"glass-card info-card accent-card",style:{marginBottom:"20px"},children:[(0,Ft.jsxs)("h3",{className:"client-widget-title",children:[(0,Ft.jsx)(Ci,{})," \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435"]}),(0,Ft.jsxs)("div",{className:"info-list modern",children:[(0,Ft.jsxs)("div",{className:"info-item modern",children:[(0,Ft.jsx)("span",{className:"info-label",children:"\ud83d\udce7 Email:"}),(0,Ft.jsx)("span",{className:"info-value",children:(null===r||void 0===r?void 0:r.email)||"\u041d\u0435 \u0443\u043a\u0430\u0437\u0430\u043d"})]}),(0,Ft.jsxs)("div",{className:"info-item modern",children:[(0,Ft.jsx)("span",{className:"info-label",children:"\ud83d\udcac Telegram ID:"}),(0,Ft.jsx)("span",{className:"info-value",children:null!==r&&void 0!==r&&r.telegram_id?(0,Ft.jsxs)(Ft.Fragment,{children:[r.telegram_id,r.telegram_username&&" (@".concat(r.telegram_username,")"),(0,Ft.jsx)("span",{className:"status-chip success",style:{marginLeft:"8px"},children:"\u0421\u0432\u044f\u0437\u0430\u043d"})]}):(0,Ft.jsx)("span",{className:"text-muted",children:"\u041d\u0435 \u0441\u0432\u044f\u0437\u0430\u043d"})})]}),(0,Ft.jsxs)("div",{className:"info-item modern",children:[(0,Ft.jsx)("span",{className:"info-label",children:"\ud83d\udd11 \u041f\u0430\u0440\u043e\u043b\u044c:"}),(0,Ft.jsx)("span",{className:"info-value",children:null!==r&&void 0!==r&&r.password_hash&&""!==r.password_hash?(0,Ft.jsx)("span",{className:"status-chip success",children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d"}):(0,Ft.jsx)("span",{className:"status-chip danger",children:"\u041d\u0435 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d"})})]})]})]}),(!(null!==r&&void 0!==r&&r.password_hash)||""===r.password_hash)&&(0,Ft.jsxs)("div",{className:"glass-card info-card softer-card",style:{marginBottom:"20px"},children:[(0,Ft.jsxs)("h3",{className:"client-widget-title",children:[(0,Ft.jsx)(qn,{})," \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"]}),(0,Ft.jsx)("p",{style:{color:"var(--text-secondary)",marginBottom:"20px",fontSize:"14px"},children:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0430\u0440\u043e\u043b\u044f. \u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435."}),l?(0,Ft.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),p(!0),a(null),o(null),d.new_password!==d.confirm_password)return a("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),void p(!1);if(d.new_password.length<6)return a("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),void p(!1);try{const t=await fetch("/api/client/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({new_password:d.new_password})}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043f\u0430\u0440\u043e\u043b\u044f");o("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d"),c(!1),h({new_password:"",confirm_password:""});const i=await fetch("/api/client/me",{headers:{Authorization:"Bearer ".concat(e)}});if(i.ok){const e=await i.json();n(e.response||e)}}catch(r){a(r.message)}finally{p(!1)}},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,Ft.jsx)("input",{type:"password",value:d.new_password,onChange:e=>h(u(u({},d),{},{new_password:e.target.value})),required:!0,minLength:6,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px"}})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,Ft.jsx)("input",{type:"password",value:d.confirm_password,onChange:e=>h(u(u({},d),{},{confirm_password:e.target.value})),required:!0,minLength:6,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px"}})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"stretch"},children:[(0,Ft.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:f,style:{flex:"1 1 auto",minWidth:"140px"},children:f?"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430...":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,Ft.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>c(!1),style:{flex:"0 0 auto",minWidth:"100px",width:"auto"},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]}):(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>c(!0),children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]}),(null===r||void 0===r?void 0:r.password_hash)&&""!==r.password_hash&&(0,Ft.jsxs)("div",{className:"glass-card info-card softer-card",style:{marginBottom:"20px"},children:[(0,Ft.jsxs)("h3",{className:"client-widget-title",children:[(0,Ft.jsx)(qn,{})," \u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"]}),m?(0,Ft.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),p(!0),a(null),o(null),v.new_password!==v.confirm_password)return a("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442"),void p(!1);if(v.new_password.length<6)return a("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"),void p(!1);try{const t=await fetch("/api/client/change-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({current_password:v.current_password,new_password:v.new_password})}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043c\u0435\u043d\u044b \u043f\u0430\u0440\u043e\u043b\u044f");o("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d"),g(!1),y({current_password:"",new_password:"",confirm_password:""})}catch(r){a(r.message)}finally{p(!1)}},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,Ft.jsx)("input",{type:"password",value:v.current_password,onChange:e=>y(u(u({},v),{},{current_password:e.target.value})),required:!0,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px"}})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,Ft.jsx)("input",{type:"password",value:v.new_password,onChange:e=>y(u(u({},v),{},{new_password:e.target.value})),required:!0,minLength:6,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px"}})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,Ft.jsx)("input",{type:"password",value:v.confirm_password,onChange:e=>y(u(u({},v),{},{confirm_password:e.target.value})),required:!0,minLength:6,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px"}})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"stretch"},children:[(0,Ft.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:f,style:{flex:"1 1 auto",minWidth:"140px"},children:f?"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435...":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"}),(0,Ft.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>g(!1),style:{flex:"0 0 auto",minWidth:"100px",width:"auto"},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]}):(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>g(!0),children:"\u0421\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]}),!(null!==r&&void 0!==r&&r.telegram_id)&&(0,Ft.jsxs)("div",{className:"glass-card info-card softer-card",style:{marginBottom:"20px"},children:[(0,Ft.jsxs)("h3",{className:"client-widget-title",children:[(0,Ft.jsx)(Gn,{})," \u0421\u0432\u044f\u0437\u0430\u0442\u044c \u0441 Telegram"]}),(0,Ft.jsx)("p",{style:{color:"var(--text-secondary)",marginBottom:"20px",fontSize:"14px"},children:"\u0421\u0432\u044f\u0436\u0438\u0442\u0435 \u0432\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0441 Telegram \u0434\u043b\u044f \u0432\u0445\u043e\u0434\u0430 \u0447\u0435\u0440\u0435\u0437 \u0431\u043e\u0442\u0430."}),b?(0,Ft.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),j(!0),a(null),o(null),!_.telegram_id)return a("Telegram ID \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d"),void j(!1);try{const t=await fetch("/api/client/link-telegram",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({telegram_id:_.telegram_id,telegram_username:_.telegram_username})}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0432\u044f\u0437\u0438 \u0441 Telegram");o("\u0410\u043a\u043a\u0430\u0443\u043d\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0432\u044f\u0437\u0430\u043d \u0441 Telegram"),x(!1),w({telegram_id:"",telegram_username:""});const i=await fetch("/api/client/me",{headers:{Authorization:"Bearer ".concat(e)}});if(i.ok){const e=await i.json();n(e.response||e)}}catch(r){a(r.message)}finally{j(!1)}},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"Telegram ID *"}),(0,Ft.jsx)("input",{type:"text",value:_.telegram_id,onChange:e=>w(u(u({},_),{},{telegram_id:e.target.value})),required:!0,placeholder:"123456789",style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px"}}),(0,Ft.jsx)("small",{style:{display:"block",marginTop:"6px",fontSize:"12px",color:"var(--text-secondary)"},children:"\u0412\u0430\u0448 Telegram ID \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0443 \u0431\u043e\u0442\u0430 @userinfobot"})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"Telegram Username (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"}),(0,Ft.jsx)("input",{type:"text",value:_.telegram_username,onChange:e=>w(u(u({},_),{},{telegram_username:e.target.value})),placeholder:"@username",style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px"}})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"stretch"},children:[(0,Ft.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:S,style:{flex:"1 1 auto",minWidth:"140px"},children:S?"\u0421\u0432\u044f\u0437\u044b\u0432\u0430\u043d\u0438\u0435...":"\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),(0,Ft.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:()=>x(!1),style:{flex:"0 0 auto",minWidth:"100px",width:"auto"},children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]}):(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>x(!0),children:"\u0421\u0432\u044f\u0437\u0430\u0442\u044c \u0441 Telegram"})]})]})}const va=function(){const{token:e,logout:r}=Wt(),n=je(),[i,a]=(0,t.useState)(null),[s,o]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{if(e)try{const t=await fetch("/api/client/me",{headers:{Authorization:"Bearer ".concat(e)}});if(403===t.status){const e=await t.json();if("ACCOUNT_BLOCKED"===e.code)return a({reason:e.block_reason||"\u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d",blocked_at:e.blocked_at}),void o(!1)}t.ok&&n("/dashboard")}catch(YM){console.error("Error fetching block info:",YM)}finally{o(!1)}else n("/login")})()},[e,n]),s?(0,Ft.jsx)("div",{className:"blocked-page",children:(0,Ft.jsx)("div",{className:"blocked-container",children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}):i?(0,Ft.jsx)("div",{className:"blocked-page",children:(0,Ft.jsxs)("div",{className:"blocked-container",children:[(0,Ft.jsx)("div",{className:"blocked-icon",children:"\ud83d\udeab"}),(0,Ft.jsx)("h1",{className:"blocked-title",children:"\u0412\u0430\u0448 \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"}),(0,Ft.jsxs)("div",{className:"blocked-reason",children:[(0,Ft.jsx)("h2",{children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438:"}),(0,Ft.jsx)("p",{children:i.reason})]}),(0,Ft.jsx)("div",{className:"blocked-warning",children:(0,Ft.jsx)("p",{children:"\u26a0\ufe0f \u0415\u0441\u043b\u0438 \u0432\u044b \u0441\u0447\u0438\u0442\u0430\u0435\u0442\u0435, \u0447\u0442\u043e \u0432\u0430\u0441 \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043e\u0447\u043d\u043e, \u0441\u0432\u044f\u0436\u0438\u0442\u0435\u0441\u044c \u0441 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439."})}),(0,Ft.jsxs)("div",{className:"blocked-actions",children:[(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>n("/dashboard/support"),children:"\ud83d\udcac \u0421\u0432\u044f\u0437\u0430\u0442\u044c\u0441\u044f \u0441 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439"}),(0,Ft.jsx)("button",{className:"btn btn-secondary",onClick:()=>{r(),n("/login")},children:"\u0412\u044b\u0439\u0442\u0438 \u0438\u0437 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430"})]})]})}):null},ya=e=>{let{title:t,value:r,icon:n,currency:i=""}=e;return(0,Ft.jsx)("div",{className:"stat-card",children:(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",width:"100%"},children:[(0,Ft.jsx)("div",{className:"stat-icon",children:n}),(0,Ft.jsxs)("div",{className:"stat-content",children:[(0,Ft.jsx)("h3",{className:"stat-title",children:t}),(0,Ft.jsxs)("div",{className:"stat-value",children:[i,(e=>{const t=parseFloat(e);return isNaN(t)?e:t%1===0?t>=1e3?"".concat((t/1e3).toFixed(1),"k"):t:t.toFixed(2)})(r)]})]})]})})},ba=e=>{let{users:t}=e;const r=t.slice(0,5);return(0,Ft.jsxs)("div",{className:"widget-card",children:[(0,Ft.jsx)("h3",{className:"widget-title",children:"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438"}),(0,Ft.jsxs)("div",{className:"widget-content",children:[0===r.length&&(0,Ft.jsx)("div",{className:"loading-mini",children:"\u041d\u0435\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439..."}),(0,Ft.jsx)("ul",{className:"user-widget-list",children:r.map(e=>(0,Ft.jsxs)("li",{className:"user-widget-item",children:[(0,Ft.jsx)("span",{className:"user-widget-email",children:e.email}),(0,Ft.jsx)("span",{className:"role-badge role-".concat(e.role),children:e.role})]},e.id))}),(0,Ft.jsx)(At,{to:"/admin/users",className:"widget-footer-link",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435\u0445 \u2192"})]})]})},xa=e=>{let{sales:t,loading:r}=e;const n=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})};return(0,Ft.jsxs)("div",{className:"widget-card",style:{width:"100%",marginTop:"20px"},children:[(0,Ft.jsx)("h3",{className:"widget-title",children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u0440\u043e\u0434\u0430\u0436"}),(0,Ft.jsxs)("div",{className:"widget-content",children:[r&&(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),!r&&0===t.length&&(0,Ft.jsx)("div",{className:"loading-mini",children:"\u041f\u0440\u043e\u0434\u0430\u0436\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}),!r&&t.length>0&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("div",{className:"sales-table-wrapper",children:(0,Ft.jsxs)("table",{className:"sales-table",children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("th",{children:"\u0414\u0430\u0442\u0430"}),(0,Ft.jsx)("th",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),(0,Ft.jsx)("th",{children:"\u0422\u0430\u0440\u0438\u0444"}),(0,Ft.jsx)("th",{children:"\u0421\u0443\u043c\u043c\u0430"}),(0,Ft.jsx)("th",{children:"\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440"}),(0,Ft.jsx)("th",{children:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"})]})}),(0,Ft.jsx)("tbody",{children:t.map(e=>{var t,r,i,a,s,o,l;return(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("td",{children:n(e.date)}),(0,Ft.jsx)("td",{children:(0,Ft.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,Ft.jsx)("span",{style:{fontWeight:500},children:(null===(t=e.user)||void 0===t?void 0:t.email)||"N/A"}),(null===(r=e.user)||void 0===r?void 0:r.telegram_username)&&(0,Ft.jsxs)("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:["@",e.user.telegram_username]})]})}),(0,Ft.jsx)("td",{children:e.is_balance_topup?(0,Ft.jsx)("span",{style:{color:"#10b981",fontWeight:500,fontSize:"13px"},children:"\ud83d\udcb0 \u041f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430"}):(0,Ft.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,Ft.jsx)("span",{style:{fontWeight:500},children:(null===(i=e.tariff)||void 0===i?void 0:i.name)||"N/A"}),(null===(a=e.tariff)||void 0===a?void 0:a.duration_days)&&(0,Ft.jsxs)("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[e.tariff.duration_days," \u0434\u043d."]})]})}),(0,Ft.jsx)("td",{style:{fontWeight:600},children:(o=e.amount,l=e.currency,"".concat({USD:"$",UAH:"\u20b4",RUB:"\u20bd"}[l]||l).concat(parseFloat(o).toFixed(2)))}),(0,Ft.jsx)("td",{children:(0,Ft.jsx)("span",{className:"provider-badge",children:(s=e.payment_provider,{crystalpay:"CrystalPay",heleket:"Heleket",yookassa:"YooKassa",platega:"Platega",mulenpay:"Mulenpay",urlpay:"UrlPay",telegram_stars:"Telegram Stars",balance:"\u0411\u0430\u043b\u0430\u043d\u0441"}[s]||s||"N/A")})}),(0,Ft.jsx)("td",{children:e.promo_code?(0,Ft.jsx)("span",{className:"promo-badge",children:e.promo_code}):(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u2014"})})]},e.id)})})]})}),(0,Ft.jsx)(At,{to:"/admin/sales",className:"widget-footer-link",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435 \u043e\u0442\u0447\u0435\u0442\u044b \u043f\u043e \u043f\u0440\u043e\u0434\u0430\u0436\u0430\u043c \u2192"})]})]})]})},_a=e=>{let{nodes:t,loading:r}=e;const n=e=>{if(!e||0===e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,t)).toFixed(1))," ").concat(["B","KB","MB","GB","TB"][t])},i=e=>{if(!e)return"N/A";const t=parseInt(e,10),r=Math.floor(t/86400),n=Math.floor(t%86400/3600);return r>0?"".concat(r,"\u0434 ").concat(n,"\u0447"):n>0?"".concat(n,"\u0447"):"".concat(Math.floor(t%3600/60),"\u043c")},a=e=>{if(!e)return"\ud83c\udf10";return{FR:"\ud83c\uddeb\ud83c\uddf7",DE:"\ud83c\udde9\ud83c\uddea",NL:"\ud83c\uddf3\ud83c\uddf1",US:"\ud83c\uddfa\ud83c\uddf8",GB:"\ud83c\uddec\ud83c\udde7",UA:"\ud83c\uddfa\ud83c\udde6",PL:"\ud83c\uddf5\ud83c\uddf1",FI:"\ud83c\uddeb\ud83c\uddee",SE:"\ud83c\uddf8\ud83c\uddea",NO:"\ud83c\uddf3\ud83c\uddf4",RU:"\ud83c\uddf7\ud83c\uddfa",CA:"\ud83c\udde8\ud83c\udde6",JP:"\ud83c\uddef\ud83c\uddf5",SG:"\ud83c\uddf8\ud83c\uddec",AU:"\ud83c\udde6\ud83c\uddfa",TR:"\ud83c\uddf9\ud83c\uddf7",IT:"\ud83c\uddee\ud83c\uddf9",ES:"\ud83c\uddea\ud83c\uddf8"}[String(e).toUpperCase()]||"\ud83c\udf10"},s={total:t.length,online:t.filter(e=>e.isConnected&&!e.isDisabled).length,totalUsers:t.reduce((e,t)=>e+(t.usersOnline||0),0),totalTraffic:t.reduce((e,t)=>e+(t.trafficUsedBytes||0),0)};return(0,Ft.jsxs)("div",{className:"widget-card",children:[(0,Ft.jsxs)("h3",{className:"widget-title",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ft.jsx)("span",{children:"\u041d\u043e\u0434\u044b"}),(0,Ft.jsxs)("span",{style:{fontSize:"12px",fontWeight:"600",padding:"4px 10px",borderRadius:"8px",background:s.online===s.total?"rgba(16, 185, 129, 0.15)":"rgba(245, 158, 11, 0.15)",color:s.online===s.total?"#10b981":"#f59e0b"},children:[s.online,"/",s.total," online"]})]}),(0,Ft.jsxs)("div",{className:"widget-content",children:[r&&(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),!r&&0===t.length&&(0,Ft.jsx)("div",{className:"loading-mini",children:"\u041d\u043e\u0434\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}),!r&&t.length>0&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px",marginBottom:"16px",padding:"12px",background:"var(--surface-muted)",borderRadius:"10px"},children:[(0,Ft.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ft.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"var(--text-primary)"},children:s.totalUsers}),(0,Ft.jsx)("div",{style:{fontSize:"10px",color:"var(--text-secondary)"},children:"\u041e\u043d\u043b\u0430\u0439\u043d"})]}),(0,Ft.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ft.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"var(--text-primary)"},children:n(s.totalTraffic)}),(0,Ft.jsx)("div",{style:{fontSize:"10px",color:"var(--text-secondary)"},children:"\u0422\u0440\u0430\u0444\u0438\u043a"})]}),(0,Ft.jsxs)("div",{style:{textAlign:"center"},children:[(0,Ft.jsx)("div",{style:{fontSize:"18px",fontWeight:"700",color:"var(--text-primary)"},children:s.total}),(0,Ft.jsx)("div",{style:{fontSize:"10px",color:"var(--text-secondary)"},children:"\u041d\u043e\u0434"})]})]}),(0,Ft.jsx)("div",{className:"nodes-widget-list",style:{display:"flex",flexDirection:"column",gap:"10px"},children:t.slice(0,6).map((e,t)=>{var r;const s=(e=>e.isDisabled?"disabled":e.isConnecting?"connecting":e.isConnected?"online":"offline")(e),o=(e=>{const t={online:{color:"#10b981",bg:"rgba(16, 185, 129, 0.15)",label:"Online"},offline:{color:"#ef4444",bg:"rgba(239, 68, 68, 0.15)",label:"Offline"},disabled:{color:"#6b7280",bg:"rgba(107, 114, 128, 0.15)",label:"Disabled"},connecting:{color:"#f59e0b",bg:"rgba(245, 158, 11, 0.15)",label:"Connecting"}};return t[e]||t.offline})(s);return(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"10px 12px",background:"var(--surface-muted)",borderRadius:"10px",borderLeft:"3px solid ".concat(o.color)},children:[(0,Ft.jsx)("div",{style:{fontSize:"20px"},children:a(e.countryCode)}),(0,Ft.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,Ft.jsx)("div",{style:{fontSize:"13px",fontWeight:"600",color:"var(--text-primary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name||"Unnamed"}),(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px",fontSize:"11px",color:"var(--text-secondary)",marginTop:"3px"},children:[(0,Ft.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[(0,Ft.jsx)(Ei,{size:11})," ",null!==(r=e.usersOnline)&&void 0!==r?r:0]}),(0,Ft.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[(0,Ft.jsx)(yn,{size:11})," ",n(e.trafficUsedBytes)]}),(0,Ft.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"3px"},children:[(0,Ft.jsx)(Nn,{size:11})," ",i(e.xrayUptime)]})]})]}),(0,Ft.jsx)("div",{style:{padding:"3px 8px",borderRadius:"6px",background:o.bg,color:o.color,fontSize:"10px",fontWeight:"600"},children:o.label})]},e.uuid||t)})}),(0,Ft.jsx)(At,{to:"/admin/nodes",className:"widget-footer-link",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0434\u0430\u043c\u0438 \u2192"})]})]})]})};const wa=function(){var e,r,n,i,a,s;const[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)([]),[d,h]=(0,t.useState)([]),[f,p]=(0,t.useState)(!0),[m,g]=(0,t.useState)([]),[v,y]=(0,t.useState)(!0),[b,x]=(0,t.useState)(!0),[_,w]=(0,t.useState)(null),{token:S}=Wt();if((0,t.useEffect)(()=>{S&&(async()=>{x(!0),w(null);try{const[e,t]=await Promise.all([fetch("/api/admin/statistics",{headers:{Authorization:"Bearer ".concat(S)}}),fetch("/api/admin/users",{headers:{Authorization:"Bearer ".concat(S)}})]);if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0443");if(!t.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439");const r=await e.json(),n=await t.json();l(r),u(n.sort((e,t)=>t.id-e.id))}catch(YM){w(YM.message)}finally{x(!1)}})()},[S]),(0,t.useEffect)(()=>{S&&(async()=>{p(!0);try{const e=await fetch("/api/admin/nodes",{headers:{Authorization:"Bearer ".concat(S)}});if(e.ok){const t=await e.json(),r=Array.isArray(t)?t:[];h(r)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u043e\u0434:",YM)}finally{p(!1)}})()},[S]),(0,t.useEffect)(()=>{S&&(async()=>{y(!0);try{const e=await fetch("/api/admin/sales?limit=5",{headers:{Authorization:"Bearer ".concat(S)}});if(e.ok){const t=await e.json(),r=Array.isArray(t)?t:[];g(r)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u0440\u043e\u0434\u0430\u0436:",YM)}finally{y(!1)}})()},[S]),b)return(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u0448\u0431\u043e\u0440\u0434\u0430..."})});if(_)return(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("div",{className:"message-error",children:_})});if(!o)return(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445."})});const j=(null===(e=o.total_revenue)||void 0===e?void 0:e.UAH)||0,k=(null===(r=o.total_revenue)||void 0===r?void 0:r.RUB)||0,C=(null===(n=o.total_revenue)||void 0===n?void 0:n.USD)||0,E=(null===(i=o.today_revenue)||void 0===i?void 0:i.UAH)||0,O=(null===(a=o.today_revenue)||void 0===a?void 0:a.RUB)||0,P=(null===(s=o.today_revenue)||void 0===s?void 0:s.USD)||0;return(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("div",{className:"dashboard-grid-layout",children:[(0,Ft.jsxs)("div",{className:"main-column",children:[(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{children:"\u0414\u0430\u0448\u0431\u043e\u0440\u0434"}),(0,Ft.jsx)("h3",{children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),(0,Ft.jsxs)("div",{className:"stats-grid",children:[(0,Ft.jsx)(ya,{title:"\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",value:o.total_users||0,icon:(0,Ft.jsx)(Ei,{})}),(0,Ft.jsx)(ya,{title:"\u0412\u0441\u0435\u0433\u043e \u043f\u0440\u043e\u0434\u0430\u0436",value:o.total_sales_count||0,icon:(0,Ft.jsx)(jn,{})}),(0,Ft.jsx)(ya,{title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c (USD)",value:C,currency:"$",icon:(0,Ft.jsx)(Oi,{})}),(0,Ft.jsx)(ya,{title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c (UAH)",value:j,currency:"\u20b4",icon:(0,Ft.jsx)(Oi,{})}),(0,Ft.jsx)(ya,{title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c (RUB)",value:k,currency:"\u20bd",icon:(0,Ft.jsx)(Oi,{})})]}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"\u0417\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f"}),(0,Ft.jsxs)("div",{className:"stats-grid stats-grid-today",children:[(0,Ft.jsx)(ya,{title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u0441\u0435\u0433\u043e\u0434\u043d\u044f (USD)",value:P,currency:"$",icon:(0,Ft.jsx)(yn,{})}),(0,Ft.jsx)(ya,{title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u0441\u0435\u0433\u043e\u0434\u043d\u044f (UAH)",value:E,currency:"\u20b4",icon:(0,Ft.jsx)(yn,{})}),(0,Ft.jsx)(ya,{title:"\u041f\u0440\u0438\u0431\u044b\u043b\u044c \u0441\u0435\u0433\u043e\u0434\u043d\u044f (RUB)",value:O,currency:"\u20bd",icon:(0,Ft.jsx)(yn,{})})]})]}),(0,Ft.jsx)(xa,{sales:m,loading:v})]}),(0,Ft.jsxs)("div",{className:"sidebar-column",children:[(0,Ft.jsx)(ba,{users:c}),(0,Ft.jsx)(_a,{nodes:d,loading:f})]})]})})};const Sa=function(){const[e,r]=(0,t.useState)([]),[n,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)({open:!1,user:null}),[c,d]=(0,t.useState)({action:"add",amount:"",description:""}),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)({open:!1,user:null,activeTab:"password"}),[g,v]=(0,t.useState)({new_password:"",confirm_password:""}),[y,b]=(0,t.useState)(!1),[x,_]=(0,t.useState)({referral_percent:""}),[w,S]=(0,t.useState)(!1),[j,k]=(0,t.useState)([]),[C,E]=(0,t.useState)(!1),[O,P]=(0,t.useState)({tariff_id:"",trial_days:"",hwid_device_limit:""}),[N,A]=(0,t.useState)(!1),[T,R]=(0,t.useState)({open:!1,user:null}),[D,L]=(0,t.useState)(""),[M,I]=(0,t.useState)(!1),[B,z]=(0,t.useState)(""),{token:F}=Wt();(0,t.useEffect)(()=>{F&&(async()=>{E(!0);try{const e=await fetch("/api/admin/tariffs",{headers:{Authorization:"Bearer ".concat(F)}});if(e.ok){const t=await e.json();k(t)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0442\u0430\u0440\u0438\u0444\u043e\u0432:",YM)}finally{E(!1)}})()},[F]),(0,t.useEffect)(()=>{F&&(async()=>{i(!0),s(null);try{const e=await fetch("/api/admin/users",{headers:{Authorization:"Bearer ".concat(F)}});if(!e.ok){const t=await e.json();throw new Error(t.message||"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a")}const t=await e.json();r(t)}catch(YM){s(YM.message)}finally{i(!1)}})()},[F]);const H=()=>{l({open:!1,user:null}),d({action:"add",amount:"",description:""})},U=()=>{m({open:!1,user:null,activeTab:"password"}),v({new_password:"",confirm_password:""}),P({tariff_id:"",trial_days:"",hwid_device_limit:""})},W=()=>{R({open:!1,user:null}),L("")},q=e.filter(e=>{if(!B.trim())return!0;const t=B.toLowerCase().trim(),r=(e.email||"").toLowerCase(),n=(e.telegram_username||"").toLowerCase(),i=(e.telegram_id||"").toLowerCase(),a=(e.referral_code||"").toLowerCase();return r.includes(t)||n.includes(t)||i.includes(t)||a.includes(t)||e.id&&e.id.toString().includes(t)});return(0,Ft.jsxs)("main",{className:"admin-page-content",children:[(0,Ft.jsxs)("section",{className:"admin-users-page",children:[(0,Ft.jsxs)("div",{className:"admin-users-page-header",children:[(0,Ft.jsx)("h2",{className:"admin-users-page-title",children:"\ud83d\udc65 \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c\u0438"}),(0,Ft.jsxs)("div",{className:"admin-users-page-toolbar",children:[(0,Ft.jsxs)("div",{className:"admin-users-search-wrap",children:[(0,Ft.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e email, Telegram, ID...",value:B,onChange:e=>z(e.target.value),className:"admin-users-search-input",onFocus:e=>{e.target.style.borderColor="var(--accent-blue)",e.target.style.boxShadow="0 0 0 3px rgba(36, 129, 204, 0.1)"},onBlur:e=>{e.target.style.borderColor="var(--glass-border)",e.target.style.boxShadow="none"}}),(0,Ft.jsx)("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",fontSize:"16px",pointerEvents:"none",color:"var(--text-secondary)"},children:"\ud83d\udd0d"}),B&&(0,Ft.jsx)("button",{onClick:()=>z(""),style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"16px",padding:"4px 6px",color:"var(--text-secondary)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",transition:"all 0.2s ease"},onMouseEnter:e=>{e.target.style.backgroundColor="var(--surface-hover)",e.target.style.color="var(--text-primary)"},onMouseLeave:e=>{e.target.style.backgroundColor="transparent",e.target.style.color="var(--text-secondary)"},title:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c \u043f\u043e\u0438\u0441\u043a",children:"\u2715"})]}),B&&(0,Ft.jsxs)("span",{className:"admin-users-found-badge",children:["\u041d\u0430\u0439\u0434\u0435\u043d\u043e: ",q.length]})]})]}),n&&(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),a&&(0,Ft.jsx)("div",{className:"message-error",children:a}),!n&&!a&&(0,Ft.jsx)("div",{className:"table-wrapper users-page-table-wrapper",children:(0,Ft.jsxs)("table",{className:"users-table users-page-table",children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("th",{children:"ID"}),(0,Ft.jsx)("th",{children:"Email"}),(0,Ft.jsx)("th",{children:"Telegram"}),(0,Ft.jsx)("th",{children:"Role"}),(0,Ft.jsx)("th",{children:"\u0411\u0430\u043b\u0430\u043d\u0441"}),(0,Ft.jsx)("th",{children:"\u0421\u0442\u0430\u0442\u0443\u0441"}),(0,Ft.jsx)("th",{children:"\u0421\u043a\u0432\u0430\u0434"}),(0,Ft.jsx)("th",{children:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0434\u043e"}),(0,Ft.jsx)("th",{children:"\u0420\u0435\u0444. \u041a\u043e\u0434"}),(0,Ft.jsx)("th",{children:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d"}),(0,Ft.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Ft.jsx)("tbody",{children:q.map(e=>{const t=e.live_data?e.live_data.response:null;let n="N/A",i="N/A",a={text:"N/A",isExpired:!1},s="N/A";const o=e.remnawave_uuid&&""!==e.remnawave_uuid.trim();if(Boolean(e.is_blocked))n="DISABLED",i="BLOCKED";else if(e.fetch_error)n="\u041e\u0448\u0438\u0431\u043a\u0430",i="\u041e\u0448\u0438\u0431\u043a\u0430";else if(o){if(null===t||void 0===t)n="NOT_FOUND",i="\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",a={text:"\u041d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d",isExpired:!1},s="\u041d\u0435\u0442";else if(t){if("string"===typeof t.status&&t.status.trim())n=t.status.trim().toUpperCase(),i=n;else if(t.expireAt){new Date(t.expireAt)<new Date?(n="EXPIRED",i="EXPIRED"):t.activeInternalSquads&&t.activeInternalSquads.length>0?(n="ACTIVE",i="ACTIVE"):(n="DISABLED",i="DISABLED")}else n="DISABLED",i="DISABLED";a=(e=>{if(!e)return{text:"N/A",isExpired:!1};const t=new Date(e);if(isNaN(t.getTime()))return{text:"N/A",isExpired:!1};const r=t<new Date;return{text:t.toLocaleString("ru-RU",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),isExpired:r}})(t.expireAt);const e=(Array.isArray(t.activeInternalSquads)?t.activeInternalSquads:[]).map(e=>"string"===typeof e?e:e&&"object"===typeof e&&(e.name||e.uuid)||"").filter(Boolean);s=0===e.length?"\u041d\u0435\u0442":1===e.length?e[0]:"".concat(e[0]," +").concat(e.length-1)}}else n="NO_UUID",i="\u041d\u0435\u0442 UUID",a={text:"\u041d\u0435 \u0441\u0438\u043d\u0445\u0440\u043e\u043d\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d",isExpired:!1},s="\u041d\u0435\u0442";const c=void 0!==e.balance&&null!==e.balance?parseFloat(e.balance):0,u=e.preferred_currency||"uah",h="uah"===u?"\u20b4":"rub"===u?"\u20bd":"$";return(0,Ft.jsxs)("tr",{className:"users-table-row",children:[(0,Ft.jsx)("td",{"data-label":"ID",style:{fontWeight:"600",color:"var(--text-primary)"},children:e.id}),(0,Ft.jsx)("td",{"data-label":"Email",title:e.email,style:{maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.email||(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)",fontStyle:"italic"},children:"\u041d\u0435\u0442 email"})}),(0,Ft.jsx)("td",{"data-label":"Telegram",style:{minWidth:"150px"},children:e.telegram_username?(0,Ft.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,Ft.jsxs)("span",{style:{fontWeight:"500",color:"var(--text-primary)"},children:["@",e.telegram_username]}),e.telegram_id&&(0,Ft.jsxs)("span",{style:{fontSize:"11px",color:"var(--text-secondary)",fontFamily:"monospace"},children:["ID: ",e.telegram_id]})]}):e.telegram_id?(0,Ft.jsxs)("span",{style:{fontSize:"12px",color:"var(--text-secondary)",fontFamily:"monospace"},children:["ID: ",e.telegram_id]}):(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)",fontStyle:"italic",fontSize:"12px"},children:"\u041d\u0435\u0442"})}),(0,Ft.jsx)("td",{"data-label":"Role",children:(0,Ft.jsx)("span",{className:"role-badge role-".concat(e.role),children:e.role})}),(0,Ft.jsxs)("td",{"data-label":"\u0411\u0430\u043b\u0430\u043d\u0441",style:{fontWeight:"bold",color:c>0?"#10b981":"#6b7280"},children:[c.toFixed(2)," ",h]}),(0,Ft.jsx)("td",{"data-label":"\u0421\u0442\u0430\u0442\u0443\u0441",children:(0,Ft.jsx)("span",{className:"status-badge status-".concat(n),children:i})}),(0,Ft.jsx)("td",{"data-label":"\u0421\u043a\u0432\u0430\u0434",children:s}),(0,Ft.jsx)("td",{"data-label":"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0434\u043e",className:a.isExpired?"expired-cell":"",children:a.text}),(0,Ft.jsx)("td",{"data-label":"\u0420\u0435\u0444. \u041a\u043e\u0434",className:"code-cell",style:{fontFamily:"monospace",fontSize:"12px",textAlign:"center",verticalAlign:"middle"},children:e.referral_code||(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)",fontStyle:"italic"},children:"N/A"})}),(0,Ft.jsx)("td",{"data-label":"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d",children:e.referrer_id?(0,Ft.jsxs)("span",{style:{color:"var(--text-primary)",fontWeight:"500"},children:["#",e.referrer_id]}):(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)",fontStyle:"italic"},children:"N/A"})}),(0,Ft.jsxs)("td",{"data-label":"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",className:"users-table-actions-cell",children:[e.is_blocked&&(0,Ft.jsx)("span",{style:{display:"inline-block",padding:"4px 8px",backgroundColor:"#ef4444",color:"white",borderRadius:"4px",fontSize:"11px",marginBottom:"4px"},children:"\ud83d\udeab \u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",alignItems:"center"},children:[(0,Ft.jsx)("button",{type:"button",className:"btn-table-icon",onClick:()=>(e=>{l({open:!0,user:e}),d({action:"add",amount:"",description:""})})(e),title:"\u0411\u0430\u043b\u0430\u043d\u0441","aria-label":"\u0411\u0430\u043b\u0430\u043d\u0441",children:(0,Ft.jsx)(Oi,{})}),(0,Ft.jsx)("button",{type:"button",className:"btn-table-icon",onClick:()=>(e=>{var t;_({referral_percent:null!==(t=e.referral_percent)&&void 0!==t?t:""}),m({open:!0,user:e,activeTab:"password"}),v({new_password:"",confirm_password:""}),P({tariff_id:"",trial_days:"",hwid_device_limit:""})})(e),title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:(0,Ft.jsx)(ii,{})}),e.is_blocked?(0,Ft.jsx)("button",{type:"button",className:"btn-table-icon",onClick:()=>(async(e,t)=>{if(window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c ".concat(t,"?")))try{const n=await fetch("/api/admin/users/".concat(e,"/unblock"),{method:"POST",headers:{Authorization:"Bearer ".concat(F),"Content-Type":"application/json"}}),i=await n.json();if(!n.ok)throw new Error(i.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f");alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ".concat(t," \u0440\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d"));const a=await fetch("/api/admin/users",{headers:{Authorization:"Bearer ".concat(F)}});if(a.ok){const e=await a.json();r(e)}}catch(YM){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(YM.message))}})(e.id,e.email),title:"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label":"\u0420\u0430\u0437\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:(0,Ft.jsx)(fi,{})}):(0,Ft.jsx)("button",{type:"button",className:"btn-table-icon danger",onClick:()=>(e=>{R({open:!0,user:e}),L(e.block_reason||"")})(e),title:"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c","aria-label":"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:(0,Ft.jsx)(xn,{})}),(0,Ft.jsx)("button",{type:"button",className:"btn-table-icon danger",onClick:()=>(async(e,t)=>{if(window.confirm("\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b, \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c ".concat(t,"?")))try{const t=await fetch("/api/admin/users/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(F)}}),n=await t.json();if(!t.ok)throw new Error(n.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f");r(t=>t.filter(t=>t.id!==e)),alert(n.message)}catch(YM){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(YM.message))}})(e.id,e.email),title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","aria-label":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",children:(0,Ft.jsx)(Si,{})})]})]})]},e.id)})})]})})]}),o.open&&o.user&&(0,Ft.jsx)("div",{className:"modal-overlay",onClick:H,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Ft.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{backgroundColor:"white",borderRadius:"8px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)"},children:[(0,Ft.jsx)("h3",{style:{marginTop:0,marginBottom:"20px"},children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u043e\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,Ft.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f3f4f6",borderRadius:"6px"},children:[(0,Ft.jsx)("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"},children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"}),(0,Ft.jsx)("div",{style:{fontWeight:"bold"},children:o.user.email}),(0,Ft.jsxs)("div",{style:{fontSize:"14px",color:"#6b7280",marginTop:"8px"},children:["\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441: ",(0,Ft.jsxs)("strong",{style:{color:"#10b981"},children:[(o.user.balance||0).toFixed(2)," ",(()=>{const e=o.user.preferred_currency||"uah";return"uah"===e?"\u20b4":"rub"===e?"\u20bd":"$"})()]})]})]}),(0,Ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!o.user)return;const t=parseFloat(c.amount);if(!t||t<=0)alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u0441\u0443\u043c\u043c\u0443");else{f(!0);try{const e=await fetch("/api/admin/users/".concat(o.user.id,"/balance"),{method:"PUT",headers:{Authorization:"Bearer ".concat(F),"Content-Type":"application/json"},body:JSON.stringify({action:c.action,amount:t,description:c.description||"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u043e\u043c"})}),n=await e.json();if(!e.ok)throw new Error(n.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u0430");r(e=>e.map(e=>e.id===o.user.id?u(u({},e),{},{balance:n.balance}):e)),alert("\u0411\u0430\u043b\u0430\u043d\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d!\n\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441: ".concat(n.previous_balance.toFixed(2),"\n\u041d\u043e\u0432\u044b\u0439 \u0431\u0430\u043b\u0430\u043d\u0441: ").concat(n.balance.toFixed(2),"\n\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435: ").concat(n.change>0?"+":"").concat(n.change.toFixed(2))),H()}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.message))}finally{f(!1)}}},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435:"}),(0,Ft.jsxs)("select",{value:c.action,onChange:e=>d(u(u({},c),{},{action:e.target.value})),style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px"},children:[(0,Ft.jsx)("option",{value:"add",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a \u0431\u0430\u043b\u0430\u043d\u0441\u0443"}),(0,Ft.jsx)("option",{value:"subtract",children:"\u0421\u043f\u0438\u0441\u0430\u0442\u044c \u0441 \u0431\u0430\u043b\u0430\u043d\u0441\u0430"}),(0,Ft.jsx)("option",{value:"set",children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441"})]})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u0421\u0443\u043c\u043c\u0430:"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",min:"0",value:c.amount,onChange:e=>d(u(u({},c),{},{amount:e.target.value})),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",required:!0,style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px"}})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u043d\u0435\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e):"}),(0,Ft.jsx)("textarea",{value:c.description,onChange:e=>d(u(u({},c),{},{description:e.target.value})),placeholder:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0431\u0430\u043b\u0430\u043d\u0441\u0430",rows:"3",style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px",resize:"vertical"}})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ft.jsx)("button",{type:"button",onClick:H,disabled:h,style:{padding:"10px 20px",borderRadius:"6px",border:"1px solid #d1d5db",backgroundColor:"white",cursor:"pointer",fontSize:"14px"},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Ft.jsx)("button",{type:"submit",disabled:h,style:{padding:"10px 20px",borderRadius:"6px",border:"none",backgroundColor:"#3b82f6",color:"white",cursor:h?"not-allowed":"pointer",fontSize:"14px",opacity:h?.6:1},children:h?"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430...":"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})]})}),p.open&&p.user&&(0,Ft.jsx)("div",{className:"modal-overlay",onClick:U,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Ft.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{backgroundColor:"white",borderRadius:"8px",padding:"24px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.2)"},children:[(0,Ft.jsx)("h3",{style:{marginTop:0,marginBottom:"20px"},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,Ft.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f3f4f6",borderRadius:"6px"},children:[(0,Ft.jsx)("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"4px"},children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c:"}),(0,Ft.jsx)("div",{style:{fontWeight:"bold"},children:p.user.email})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"20px",borderBottom:"1px solid #e5e7eb"},children:[(0,Ft.jsx)("button",{type:"button",onClick:()=>m(u(u({},p),{},{activeTab:"password"})),style:{padding:"8px 16px",border:"none",background:"password"===p.activeTab?"#3b82f6":"transparent",color:"password"===p.activeTab?"white":"#6b7280",cursor:"pointer",borderBottom:"password"===p.activeTab?"2px solid #3b82f6":"2px solid transparent",marginBottom:"-1px"},children:"\ud83d\udd11 \u041f\u0430\u0440\u043e\u043b\u044c"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>m(u(u({},p),{},{activeTab:"subscription"})),style:{padding:"8px 16px",border:"none",background:"subscription"===p.activeTab?"#3b82f6":"transparent",color:"subscription"===p.activeTab?"white":"#6b7280",cursor:"pointer",borderBottom:"subscription"===p.activeTab?"2px solid #3b82f6":"2px solid transparent",marginBottom:"-1px"},children:"\ud83d\udce6 \u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"}),(0,Ft.jsx)("button",{type:"button",onClick:()=>m(u(u({},p),{},{activeTab:"referral"})),style:{padding:"8px 16px",border:"none",background:"referral"===p.activeTab?"#3b82f6":"transparent",color:"referral"===p.activeTab?"white":"#6b7280",cursor:"pointer",borderBottom:"referral"===p.activeTab?"2px solid #3b82f6":"2px solid transparent",marginBottom:"-1px"},children:"\ud83d\udcb0 \u0420\u0435\u0444\u0435\u0440\u0430\u043b"})]}),"password"===p.activeTab&&(0,Ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p.user)if(!g.new_password||g.new_password.length<6)alert("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432");else if(g.new_password===g.confirm_password){b(!0);try{const e=await fetch("/api/admin/users/".concat(p.user.id,"/change-password"),{method:"POST",headers:{Authorization:"Bearer ".concat(F),"Content-Type":"application/json"},body:JSON.stringify({new_password:g.new_password})}),t=await e.json();if(!e.ok)throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f");alert("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f ".concat(t.user_email," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d!")),v({new_password:"",confirm_password:""})}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.message))}finally{b(!1)}}else alert("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442")},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,Ft.jsx)("input",{type:"password",value:g.new_password,onChange:e=>v(u(u({},g),{},{new_password:e.target.value})),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c (\u043c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)",required:!0,minLength:6,style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px"}})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,Ft.jsx)("input",{type:"password",value:g.confirm_password,onChange:e=>v(u(u({},g),{},{confirm_password:e.target.value})),placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",required:!0,minLength:6,style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px"}})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ft.jsx)("button",{type:"button",onClick:U,disabled:y,style:{padding:"10px 20px",borderRadius:"6px",border:"1px solid #d1d5db",backgroundColor:"white",cursor:"pointer",fontSize:"14px"},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Ft.jsx)("button",{type:"submit",disabled:y,style:{padding:"10px 20px",borderRadius:"6px",border:"none",backgroundColor:"#10b981",color:"white",cursor:y?"not-allowed":"pointer",fontSize:"14px",opacity:y?.6:1},children:y?"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430...":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]}),"subscription"===p.activeTab&&(0,Ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),p.user)if(O.tariff_id||O.trial_days||""!==O.hwid_device_limit)if(O.tariff_id&&O.trial_days)alert("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043b\u0438\u0431\u043e \u0442\u0430\u0440\u0438\u0444, \u043b\u0438\u0431\u043e \u0442\u0440\u0438\u0430\u043b, \u043d\u043e \u043d\u0435 \u043e\u0431\u0430 \u043e\u0434\u043d\u043e\u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e");else{A(!0);try{let e={};if(O.tariff_id)e={action:"grant_tariff",tariff_id:parseInt(O.tariff_id,10)};else if(O.trial_days)e={action:"grant_trial",days:parseInt(O.trial_days,10)};else{if(""===O.hwid_device_limit)return alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e \u043f\u043e\u043b\u0435: \u0442\u0430\u0440\u0438\u0444, \u0442\u0440\u0438\u0430\u043b \u0438\u043b\u0438 \u043b\u0438\u043c\u0438\u0442 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"),void A(!1);e={action:"set_device_limit",device_limit:""===O.hwid_device_limit||"0"===O.hwid_device_limit?0:parseInt(O.hwid_device_limit,10)}}const t=await fetch("/api/admin/users/".concat(p.user.id,"/update"),{method:"POST",headers:{Authorization:"Bearer ".concat(F),"Content-Type":"application/json"},body:JSON.stringify(e)}),n=await t.json();if(!t.ok)throw new Error(n.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f");alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ".concat(n.user_email||p.user.email," \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d!")),U();const i=await fetch("/api/admin/users",{headers:{Authorization:"Bearer ".concat(F)}});if(i.ok){const e=await i.json();r(e)}}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.message))}finally{A(!1)}}else alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u043e \u043f\u043e\u043b\u0435: \u0442\u0430\u0440\u0438\u0444, \u0442\u0440\u0438\u0430\u043b \u0438\u043b\u0438 \u043b\u0438\u043c\u0438\u0442 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432")},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u0412\u044b\u0434\u0430\u0442\u044c \u0442\u0430\u0440\u0438\u0444:"}),(0,Ft.jsxs)("select",{value:O.tariff_id,onChange:e=>P(u(u({},O),{},{tariff_id:e.target.value,trial_days:""})),disabled:C||N,style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px"},children:[(0,Ft.jsx)("option",{value:"",children:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"}),j.map(e=>(0,Ft.jsxs)("option",{value:e.id,children:[e.name," (",e.duration_days," \u0434\u043d\u0435\u0439)"]},e.id))]}),(0,Ft.jsx)("small",{style:{color:"#6b7280",fontSize:"12px"},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0430\u0440\u0438\u0444 \u0434\u043b\u044f \u0432\u044b\u0434\u0430\u0447\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"})]}),(0,Ft.jsx)("div",{style:{marginBottom:"16px",textAlign:"center",color:"#6b7280"},children:(0,Ft.jsx)("span",{children:"\u0438\u043b\u0438"})}),(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u0440\u0438\u0430\u043b (\u0434\u043d\u0435\u0439):"}),(0,Ft.jsx)("input",{type:"number",value:O.trial_days,onChange:e=>P(u(u({},O),{},{trial_days:e.target.value,tariff_id:""})),placeholder:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439 \u0442\u0440\u0438\u0430\u043b\u0430",min:"1",disabled:N,style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px"}}),(0,Ft.jsx)("small",{style:{color:"#6b7280",fontSize:"12px"},children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439 \u0434\u043b\u044f \u0442\u0440\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u041b\u0438\u043c\u0438\u0442 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432:"}),(0,Ft.jsx)("input",{type:"number",value:O.hwid_device_limit,onChange:e=>P(u(u({},O),{},{hwid_device_limit:e.target.value})),placeholder:"0 = \u0431\u0435\u0437\u043b\u0438\u043c\u0438\u0442",min:"0",disabled:N,style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px"}}),(0,Ft.jsx)("small",{style:{color:"#6b7280",fontSize:"12px"},children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432. 0 = \u0431\u0435\u0437\u043b\u0438\u043c\u0438\u0442"})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ft.jsx)("button",{type:"button",onClick:U,disabled:N,style:{padding:"10px 20px",borderRadius:"6px",border:"1px solid #d1d5db",backgroundColor:"white",cursor:"pointer",fontSize:"14px"},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Ft.jsx)("button",{type:"submit",disabled:N,style:{padding:"10px 20px",borderRadius:"6px",border:"none",backgroundColor:"#3b82f6",color:"white",cursor:N?"not-allowed":"pointer",fontSize:"14px",opacity:N?.6:1},children:N?"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430...":"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"})]})]}),"referral"===p.activeTab&&(0,Ft.jsxs)("form",{onSubmit:async e=>{var t;if(e.preventDefault(),!p.user)return;const n=(null!==(t=x.referral_percent)&&void 0!==t?t:"").toString().trim(),i=""===n,a=i?null:parseFloat(n);if(i||!(isNaN(a)||a<0||a>100)){S(!0);try{const e=await fetch("/api/admin/users/".concat(p.user.id,"/referral-percent"),{method:"PUT",headers:{Authorization:"Bearer ".concat(F),"Content-Type":"application/json"},body:JSON.stringify({referral_percent:a})}),t=await e.json();if(!e.ok)throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u0430 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u0430");null===a?alert("\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u0430 \u0441\u0431\u0440\u043e\u0448\u0435\u043d: \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"):alert("\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d: ".concat(a,"%")),r(e=>e.map(e=>e.id===p.user.id?u(u({},e),{},{referral_percent:a}):e)),m(u(u({},p),{},{user:u(u({},p.user),{},{referral_percent:a})}))}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.message))}finally{S(!1)}}else alert("\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0447\u0438\u0441\u043b\u043e\u043c \u043e\u0442 0 \u0434\u043e 100, \u043b\u0438\u0431\u043e \u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e")},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"16px",padding:"12px",backgroundColor:"#f0f9ff",borderRadius:"6px",border:"1px solid #bae6fd"},children:[(0,Ft.jsx)("div",{style:{fontSize:"13px",color:"#0369a1",marginBottom:"8px",fontWeight:"600"},children:"\u2139\ufe0f \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435"}),(0,Ft.jsx)("div",{style:{fontSize:"12px",color:"#075985",lineHeight:"1.5"},children:'\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u0430 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442, \u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432 \u0441 \u043f\u043e\u043a\u0443\u043f\u043e\u043a \u0438 \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0439 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u043e\u0432 \u0431\u0443\u0434\u0435\u0442 \u043d\u0430\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u0441\u044f \u043d\u0430 \u0431\u0430\u043b\u0430\u043d\u0441 \u044d\u0442\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u0438 \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 "\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u044b" \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u043e\u0432.'})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u0430 (%):"}),(0,Ft.jsx)("input",{type:"number",value:x.referral_percent,onChange:e=>_({referral_percent:e.target.value}),placeholder:"(\u043f\u0443\u0441\u0442\u043e = \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e)",min:"0",max:"100",step:"0.1",disabled:w,style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px"}}),(0,Ft.jsx)("small",{style:{color:"#6b7280",fontSize:"12px"},children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u043e\u0442 0 \u0434\u043e 100. \u0415\u0441\u043b\u0438 \u043f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435 \u2014 \u0431\u0443\u0434\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c\u0441\u044f \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0438\u0437 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u043e\u0432 (\u0438 \u043e\u043d \u0431\u0443\u0434\u0435\u0442 \u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f \u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438)."})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ft.jsx)("button",{type:"button",onClick:U,disabled:w,style:{padding:"10px 20px",borderRadius:"6px",border:"1px solid #d1d5db",backgroundColor:"white",cursor:"pointer",fontSize:"14px"},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Ft.jsx)("button",{type:"submit",disabled:w,style:{padding:"10px 20px",borderRadius:"6px",border:"none",backgroundColor:"#3b82f6",color:"white",cursor:w?"not-allowed":"pointer",fontSize:"14px",opacity:w?.6:1},children:w?"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})}),T.open&&T.user&&(0,Ft.jsx)("div",{className:"modal-overlay",onClick:W,style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Ft.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{backgroundColor:"white",padding:"24px",borderRadius:"12px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflowY:"auto"},children:[(0,Ft.jsx)("h2",{style:{marginTop:0,marginBottom:"20px"},children:"\ud83d\udeab \u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),(0,Ft.jsxs)("p",{style:{marginBottom:"16px",color:"#6b7280"},children:["\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c: ",(0,Ft.jsx)("strong",{children:T.user.email})]}),(0,Ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),T.user){I(!0);try{const e=await fetch("/api/admin/users/".concat(T.user.id,"/block"),{method:"POST",headers:{Authorization:"Bearer ".concat(F),"Content-Type":"application/json"},body:JSON.stringify({block_reason:D})}),t=await e.json();if(!e.ok)throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f");alert("\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c ".concat(T.user.email," \u0437\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u043d")),W();const n=await fetch("/api/admin/users",{headers:{Authorization:"Bearer ".concat(F)}});if(n.ok){const e=await n.json();r(e)}}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.message))}finally{I(!1)}}},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600"},children:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438:"}),(0,Ft.jsx)("textarea",{value:D,onChange:e=>L(e.target.value),placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u0440\u0438\u0447\u0438\u043d\u0443 \u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0438 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430",rows:4,disabled:M,required:!0,style:{width:"100%",padding:"8px",borderRadius:"6px",border:"1px solid #d1d5db",fontSize:"14px",fontFamily:"inherit",resize:"vertical"}}),(0,Ft.jsx)("small",{style:{color:"#6b7280",fontSize:"12px"},children:"\u042d\u0442\u0430 \u043f\u0440\u0438\u0447\u0438\u043d\u0430 \u0431\u0443\u0434\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0432\u0445\u043e\u0434\u0430"})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ft.jsx)("button",{type:"button",onClick:W,disabled:M,style:{padding:"10px 20px",borderRadius:"6px",border:"1px solid #d1d5db",backgroundColor:"white",color:"#374151",cursor:"pointer",fontSize:"14px"},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Ft.jsx)("button",{type:"submit",disabled:M||!D.trim(),style:{padding:"10px 20px",borderRadius:"6px",border:"none",backgroundColor:"#ef4444",color:"white",cursor:M||!D.trim()?"not-allowed":"pointer",fontSize:"14px",opacity:M||!D.trim()?.6:1},children:M?"\u0411\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u043a\u0430...":"\u0417\u0430\u0431\u043b\u043e\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})]})]})})]})};const ja=function(){const[e,r]=(0,t.useState)([]),[n,i]=(0,t.useState)([]),[a,s]=(0,t.useState)([]),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!0),[h,f]=(0,t.useState)(null),{token:p}=Wt(),[m,g]=(0,t.useState)(""),[v,y]=(0,t.useState)(30),[b,x]=(0,t.useState)(0),[_,w]=(0,t.useState)(0),[S,j]=(0,t.useState)(0),[k,C]=(0,t.useState)([]),[E,O]=(0,t.useState)(0),[P,N]=(0,t.useState)(0),[A,T]=(0,t.useState)(""),[R,D]=(0,t.useState)(""),[L,M]=(0,t.useState)(0),[I,B]=(0,t.useState)(null),[z,F]=(0,t.useState)(""),[H,U]=(0,t.useState)(30),[W,q]=(0,t.useState)(0),[K,V]=(0,t.useState)(0),[Y,G]=(0,t.useState)(0),[X,$]=(0,t.useState)([]),[J,Q]=(0,t.useState)(0),[Z,ee]=(0,t.useState)(0),[te,re]=(0,t.useState)(""),[ne,ie]=(0,t.useState)(""),[ae,se]=(0,t.useState)(0);(0,t.useEffect)(()=>{p&&(async()=>{l(!0),f(null);try{const e=await fetch("/api/admin/tariffs",{headers:{Authorization:"Bearer ".concat(p)}});if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0442\u0430\u0440\u0438\u0444\u044b");const t=await e.json();r(t)}catch(YM){f(YM.message)}finally{l(!1)}})()},[p]),(0,t.useEffect)(()=>{p&&(async()=>{d(!0);try{const e=await fetch("/api/admin/squads",{headers:{Authorization:"Bearer ".concat(p)}});if(e.ok){const t=await e.json(),r=Array.isArray(t)?t:[];i(r)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043a\u0432\u0430\u0434\u043e\u0432:",YM)}finally{d(!1)}})()},[p]),(0,t.useEffect)(()=>{p&&(async()=>{try{const e=await fetch("/api/admin/tariff-levels",{headers:{Authorization:"Bearer ".concat(p)}});if(e.ok){const t=await e.json();s(Array.isArray(t)?t:[])}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0443\u0440\u043e\u0432\u043d\u0435\u0439 \u0442\u0430\u0440\u0438\u0444\u043e\u0432:",YM)}})()},[p]);const oe=e=>{if(!e)return"";const t=a.find(t=>t.code===e);return t?"".concat(t.name," (").concat(t.code,")"):e},le=()=>{B(null),F(""),U(30),q(0),V(0),G(0),$([]),Q(0),ee(0),re(""),ie(""),se(0)};return(0,Ft.jsxs)("main",{className:"admin-page-content",children:[(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0442\u0430\u0440\u0438\u0444"}),(0,Ft.jsxs)("form",{className:"tariff-form",onSubmit:async e=>{e.preventDefault();try{const e=E>0?Math.round(1073741824*E):0,t=await fetch("/api/admin/tariffs",{method:"POST",headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json"},body:JSON.stringify({name:m,duration_days:v,price_uah:b,price_rub:_,price_usd:S,squad_ids:k.length>0?k:null,traffic_limit_bytes:e,hwid_device_limit:P>0?P:null,tier:A||null,badge:R||null,bonus_days:L>0?L:null})}),n=await t.json();if(!t.ok)throw new Error(n.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f");g(""),y(30),x(0),w(0),j(0),C([]),O(0),N(0),T(""),D(""),M(0),r(e=>[...e,n.response||n])}catch(e){alert(e.message)}},children:[(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:'\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u043d.\u043f. "1 \u041c\u0435\u0441\u044f\u0446")'}),(0,Ft.jsx)("input",{type:"text",value:m,onChange:e=>g(e.target.value),required:!0})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u0432 \u0434\u043d\u044f\u0445)"}),(0,Ft.jsx)("input",{type:"number",value:v,onChange:e=>y(e.target.value),required:!0})]})]}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0426\u0435\u043d\u0430 (UAH)"}),(0,Ft.jsx)("input",{type:"number",value:b,onChange:e=>x(e.target.value),required:!0})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0426\u0435\u043d\u0430 (RUB)"}),(0,Ft.jsx)("input",{type:"number",value:_,onChange:e=>w(e.target.value),required:!0})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0426\u0435\u043d\u0430 (USD)"}),(0,Ft.jsx)("input",{type:"number",value:S,onChange:e=>j(e.target.value),required:!0})]})]}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u0421\u043a\u0432\u0430\u0434\u044b (\u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e)"}),(0,Ft.jsx)("div",{style:{border:"1px solid var(--glass-border)",borderRadius:"8px",padding:"12px",maxHeight:"250px",overflowY:"auto",backgroundColor:"var(--surface-muted)",display:"flex",flexWrap:"wrap",gap:"8px"},children:c?(0,Ft.jsx)("small",{style:{width:"100%"},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043a\u0432\u0430\u0434\u043e\u0432..."}):0===n.length?(0,Ft.jsx)("small",{style:{color:"var(--accent-orange)",width:"100%"},children:'\u0421\u043a\u0432\u0430\u0434\u044b \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 API \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 "\u0421\u043a\u0432\u0430\u0434\u044b".'}):n.map(e=>{const t=e.uuid||e.id,r=k.includes(t);return(0,Ft.jsxs)("label",{style:{display:"inline-flex",alignItems:"center",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",userSelect:"none",border:r?"2px solid var(--primary)":"2px solid var(--glass-border)",backgroundColor:r?"var(--primary)":"var(--bg-primary)",color:r?"white":"var(--text-primary)",transition:"all 0.2s ease",fontSize:"13px",fontWeight:r?"600":"400"},onMouseEnter:e=>{r||(e.currentTarget.style.borderColor="var(--primary)",e.currentTarget.style.backgroundColor="var(--surface-muted)")},onMouseLeave:e=>{r||(e.currentTarget.style.borderColor="var(--glass-border)",e.currentTarget.style.backgroundColor="var(--bg-primary)")},children:[(0,Ft.jsx)("input",{type:"checkbox",checked:r,onChange:e=>{e.target.checked?C([...k,t]):C(k.filter(e=>e!==t))},style:{marginRight:"6px",cursor:"pointer",width:"16px",height:"16px"}}),e.name||e.title||t]},t)})}),k.length>0&&(0,Ft.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px",marginTop:"10px",padding:"8px",backgroundColor:"var(--surface-muted)",borderRadius:"6px"},children:[(0,Ft.jsxs)("small",{style:{color:"var(--text-secondary)",width:"100%",marginBottom:"4px"},children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u0441\u043a\u0432\u0430\u0434\u043e\u0432: ",(0,Ft.jsx)("strong",{style:{color:"var(--primary)"},children:k.length})]}),k.map((e,t)=>{const r=n.find(t=>(t.uuid||t.id)===e);return(0,Ft.jsx)("span",{style:{display:"inline-block",padding:"4px 10px",borderRadius:"4px",backgroundColor:"var(--primary)",color:"white",fontSize:"12px",fontWeight:"500"},children:r?r.name||r.title:e.substring(0,8)+"..."},t)})]}),0===k.length&&(0,Ft.jsx)("small",{style:{display:"block",marginTop:"8px",color:"var(--text-secondary)"},children:"\u0415\u0441\u043b\u0438 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u0441\u043a\u0432\u0430\u0434"})]})}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u041b\u0438\u043c\u0438\u0442 \u0442\u0440\u0430\u0444\u0438\u043a\u0430 (\u0432 \u0433\u0438\u0433\u0430\u0431\u0430\u0439\u0442\u0430\u0445)"}),(0,Ft.jsx)("input",{type:"number",value:E,onChange:e=>O(e.target.value||0),min:"0",step:"0.1",placeholder:"0 = \u0431\u0435\u0437\u043b\u0438\u043c\u0438\u0442"}),(0,Ft.jsx)("small",{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043b\u0438\u043c\u0438\u0442 \u0442\u0440\u0430\u0444\u0438\u043a\u0430 \u0432 \u0433\u0438\u0433\u0430\u0431\u0430\u0439\u0442\u0430\u0445. 0 = \u0431\u0435\u0437\u043b\u0438\u043c\u0438\u0442. \u041f\u0440\u0438\u043c\u0435\u0440\u044b: 1 (1 GB), 10 (10 GB), 50 (50 GB)"})]}),(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u041b\u0438\u043c\u0438\u0442 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"}),(0,Ft.jsx)("input",{type:"number",value:P,onChange:e=>N(e.target.value||0),min:"0",step:"1",placeholder:"0 = \u0431\u0435\u0437\u043b\u0438\u043c\u0438\u0442"}),(0,Ft.jsx)("small",{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432. 0 = \u0431\u0435\u0437\u043b\u0438\u043c\u0438\u0442. \u041f\u0440\u0438\u043c\u0435\u0440\u044b: 1, 3, 5 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"})]})]}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0442\u0430\u0440\u0438\u0444\u0430 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"}),(0,Ft.jsxs)("select",{value:A,onChange:e=>T(e.target.value),style:{width:"100%"},children:[(0,Ft.jsx)("option",{value:"",children:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"}),a.map(e=>(0,Ft.jsxs)("option",{value:e.code,children:[e.name," (",e.code,")"]},e.id))]}),(0,Ft.jsx)("small",{children:"\u0415\u0441\u043b\u0438 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d, \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0431\u0443\u0434\u0435\u0442 \u043f\u0443\u0441\u0442\u044b\u043c. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430."})]}),(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u0411\u0435\u0439\u0434\u0436 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"}),(0,Ft.jsxs)("select",{value:R,onChange:e=>D(e.target.value),style:{width:"100%"},children:[(0,Ft.jsx)("option",{value:"",children:"\u0411\u0435\u0437 \u0431\u0435\u0439\u0434\u0436\u0430"}),(0,Ft.jsx)("option",{value:"top_sale",children:"\u0422\u041e\u041f \u043f\u0440\u043e\u0434\u0430\u0436"})]}),(0,Ft.jsx)("small",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0435\u0439\u0434\u0436 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0430 \u0442\u0430\u0440\u0438\u0444\u0435"})]})]}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u0411\u043e\u043d\u0443\u0441\u043d\u044b\u0435 \u0434\u043d\u0438 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"}),(0,Ft.jsx)("input",{type:"number",value:L,onChange:e=>M(parseInt(e.target.value)||0),min:"0",step:"1",placeholder:"0 = \u0431\u0435\u0437 \u0431\u043e\u043d\u0443\u0441\u0430"}),(0,Ft.jsx)("small",{children:'\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u043e\u043d\u0443\u0441\u043d\u044b\u0445 \u0434\u043d\u0435\u0439. 0 = \u0431\u0435\u0437 \u0431\u043e\u043d\u0443\u0441\u0430. \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a "\u0411\u043e\u043d\u0443\u0441 +X \u0434\u043d\u0435\u0439" \u043d\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435 \u0442\u0430\u0440\u0438\u0444\u0430.'})]})}),(0,Ft.jsx)("button",{type:"submit",className:"btn",style:{maxWidth:"200px"},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0442\u0430\u0440\u0438\u0444"})]})]}),(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0442\u0430\u0440\u0438\u0444\u044b"}),o&&(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),h&&(0,Ft.jsx)("div",{className:"message-error",children:h}),!o&&!h&&(0,Ft.jsx)("div",{className:"table-wrapper",children:(0,Ft.jsxs)("table",{className:"users-table",children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("th",{children:"ID"}),(0,Ft.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,Ft.jsx)("th",{children:"\u0414\u043d\u0438"}),(0,Ft.jsx)("th",{children:"UAH"}),(0,Ft.jsx)("th",{children:"RUB"}),(0,Ft.jsx)("th",{children:"USD"}),(0,Ft.jsx)("th",{children:"\u0421\u043a\u0432\u0430\u0434"}),(0,Ft.jsx)("th",{children:"\u041b\u0438\u043c\u0438\u0442 \u0442\u0440\u0430\u0444\u0438\u043a\u0430"}),(0,Ft.jsx)("th",{children:"\u041b\u0438\u043c\u0438\u0442 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"}),(0,Ft.jsx)("th",{children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c"}),(0,Ft.jsx)("th",{children:"\u0411\u0435\u0439\u0434\u0436"}),(0,Ft.jsx)("th",{children:"\u0411\u043e\u043d\u0443\u0441"}),(0,Ft.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Ft.jsx)("tbody",{children:e.map(e=>{let t=[];if(e.squad_ids)try{t="string"===typeof e.squad_ids?JSON.parse(e.squad_ids):e.squad_ids,Array.isArray(t)||(t=[])}catch(i){t=[]}else e.squad_id&&(t=[e.squad_id]);return(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("td",{children:e.id}),(0,Ft.jsx)("td",{children:e.name}),(0,Ft.jsx)("td",{children:e.duration_days}),(0,Ft.jsx)("td",{children:e.price_uah}),(0,Ft.jsx)("td",{children:e.price_rub}),(0,Ft.jsx)("td",{children:e.price_usd}),(0,Ft.jsx)("td",{children:t.length>0?(0,Ft.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"4px"},children:t.map((e,t)=>{const r=n.find(t=>(t.uuid||t.id)===e);return(0,Ft.jsx)("span",{className:"code-cell",title:r?r.name||r.title:e,style:{display:"inline-block",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",margin:"2px 0"},children:r?r.name||r.title:e.substring(0,8)+"..."},t)})}):(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u0414\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439"})}),(0,Ft.jsx)("td",{children:e.traffic_limit_bytes&&e.traffic_limit_bytes>0?(0,Ft.jsxs)("span",{title:"".concat(e.traffic_limit_bytes," \u0431\u0430\u0439\u0442"),children:[(e.traffic_limit_bytes/1073741824).toFixed(1)," GB"]}):(0,Ft.jsx)("span",{style:{color:"var(--accent-primary)"},children:"\u0411\u0435\u0437\u043b\u0438\u043c\u0438\u0442"})}),(0,Ft.jsx)("td",{children:e.hwid_device_limit&&e.hwid_device_limit>0?(0,Ft.jsx)("span",{children:e.hwid_device_limit}):(0,Ft.jsx)("span",{style:{color:"var(--accent-primary)"},children:"\u0411\u0435\u0437\u043b\u0438\u043c\u0438\u0442"})}),(0,Ft.jsx)("td",{children:e.tier?(0,Ft.jsx)("span",{className:"role-badge role-".concat(e.tier),style:{textTransform:"capitalize"},children:oe(e.tier)}):(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u2014"})}),(0,Ft.jsx)("td",{children:e.badge?(0,Ft.jsx)("span",{className:"role-badge",style:{background:"var(--accent-yellow)",color:"#1f2933",textTransform:"uppercase",fontSize:"11px"},children:"top_sale"===e.badge?"\u0422\u041e\u041f \u043f\u0440\u043e\u0434\u0430\u0436":e.badge}):(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u2014"})}),(0,Ft.jsx)("td",{children:Number(e.bonus_days)>0?(0,Ft.jsxs)("span",{style:{color:"var(--accent-primary)",fontWeight:"600"},children:["+",e.bonus_days," \u0434\u043d\u0435\u0439"]}):(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u2014"})}),(0,Ft.jsx)("td",{children:(0,Ft.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,Ft.jsx)("button",{className:"btn-table-edit",onClick:()=>(e=>{B(e),F(e.name||""),U(e.duration_days||30),q(e.price_uah||0),V(e.price_rub||0),G(e.price_usd||0);let t=[];if(e.squad_ids)try{t="string"===typeof e.squad_ids?JSON.parse(e.squad_ids):e.squad_ids}catch(YM){t=[]}else e.squad_id&&(t=[e.squad_id]);$(Array.isArray(t)?t:[]),Q(e.traffic_limit_bytes?e.traffic_limit_bytes/1073741824:0),ee(e.hwid_device_limit||0),re(e.tier||""),ie(e.badge||""),se(e.bonus_days||0)})(e),style:{padding:"6px 12px",fontSize:"13px"},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),(0,Ft.jsx)("button",{className:"btn-table-delete",onClick:()=>(async e=>{if(window.confirm("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u0442\u0430\u0440\u0438\u0444?"))try{if(!(await fetch("/api/admin/tariffs/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(p)}})).ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f");r(t=>t.filter(t=>t.id!==e))}catch(YM){alert(YM.message)}})(e.id),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})]},e.id)})})]})})]}),I&&(0,Ft.jsx)("div",{className:"modal-overlay",onClick:le,children:(0,Ft.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Ft.jsxs)("div",{className:"modal-header",children:[(0,Ft.jsx)("h2",{children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0430\u0440\u0438\u0444"}),(0,Ft.jsx)("button",{className:"modal-close",onClick:le,children:"\xd7"})]}),(0,Ft.jsxs)("form",{className:"tariff-form",onSubmit:async e=>{if(e.preventDefault(),I)try{const e=J>0?Math.round(1073741824*J):0,t=await fetch("/api/admin/tariffs/".concat(I.id),{method:"PATCH",headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json"},body:JSON.stringify({name:z,duration_days:H,price_uah:W,price_rub:K,price_usd:Y,squad_ids:X.length>0?X:null,traffic_limit_bytes:e,hwid_device_limit:Z>0?Z:null,tier:te||null,badge:ne||null,bonus_days:ae>0?ae:null})}),n=await t.json();if(!t.ok)throw new Error(n.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f");r(t=>t.map(t=>t.id===I.id?u(u(u({},t),n.response),{},{name:z,duration_days:H,price_uah:W,price_rub:K,price_usd:Y,squad_ids:X.length>0?X:null,traffic_limit_bytes:e,tier:te||null,badge:ne||null,bonus_days:ae>0?ae:0}):t)),le()}catch(e){alert(e.message)}},children:[(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:'\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u043d.\u043f. "1 \u041c\u0435\u0441\u044f\u0446")'}),(0,Ft.jsx)("input",{type:"text",value:z,onChange:e=>F(e.target.value),required:!0})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c (\u0432 \u0434\u043d\u044f\u0445)"}),(0,Ft.jsx)("input",{type:"number",value:H,onChange:e=>U(e.target.value),required:!0})]})]}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0426\u0435\u043d\u0430 (UAH)"}),(0,Ft.jsx)("input",{type:"number",value:W,onChange:e=>q(e.target.value),required:!0})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0426\u0435\u043d\u0430 (RUB)"}),(0,Ft.jsx)("input",{type:"number",value:K,onChange:e=>V(e.target.value),required:!0})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0426\u0435\u043d\u0430 (USD)"}),(0,Ft.jsx)("input",{type:"number",value:Y,onChange:e=>G(e.target.value),required:!0})]})]}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u0421\u043a\u0432\u0430\u0434\u044b (\u043c\u043e\u0436\u043d\u043e \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e)"}),(0,Ft.jsx)("div",{style:{border:"1px solid var(--border-color)",borderRadius:"4px",padding:"8px",maxHeight:"200px",overflowY:"auto",backgroundColor:"var(--bg-primary)"},children:c?(0,Ft.jsx)("small",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043a\u0432\u0430\u0434\u043e\u0432..."}):0===n.length?(0,Ft.jsx)("small",{style:{color:"var(--accent-orange)"},children:'\u0421\u043a\u0432\u0430\u0434\u044b \u043d\u0435 \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 API \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 "\u0421\u043a\u0432\u0430\u0434\u044b".'}):n.map(e=>{const t=e.uuid||e.id,r=X.includes(t);return(0,Ft.jsxs)("label",{style:{display:"block",padding:"6px 0",cursor:"pointer",userSelect:"none"},children:[(0,Ft.jsx)("input",{type:"checkbox",checked:r,onChange:e=>{e.target.checked?$([...X,t]):$(X.filter(e=>e!==t))},style:{marginRight:"8px"}}),e.name||e.title||t]},t)})}),X.length>0&&(0,Ft.jsxs)("small",{style:{display:"block",marginTop:"4px",color:"var(--text-secondary)"},children:["\u0412\u044b\u0431\u0440\u0430\u043d\u043e \u0441\u043a\u0432\u0430\u0434\u043e\u0432: ",X.length]}),0===X.length&&(0,Ft.jsx)("small",{style:{display:"block",marginTop:"4px",color:"var(--text-secondary)"},children:"\u0415\u0441\u043b\u0438 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d\u043e, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u0441\u043a\u0432\u0430\u0434"})]})}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u041b\u0438\u043c\u0438\u0442 \u0442\u0440\u0430\u0444\u0438\u043a\u0430 (\u0432 \u0433\u0438\u0433\u0430\u0431\u0430\u0439\u0442\u0430\u0445)"}),(0,Ft.jsx)("input",{type:"number",value:J,onChange:e=>Q(e.target.value||0),min:"0",step:"0.1",placeholder:"0 = \u0431\u0435\u0437\u043b\u0438\u043c\u0438\u0442"}),(0,Ft.jsx)("small",{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043b\u0438\u043c\u0438\u0442 \u0442\u0440\u0430\u0444\u0438\u043a\u0430 \u0432 \u0433\u0438\u0433\u0430\u0431\u0430\u0439\u0442\u0430\u0445. 0 = \u0431\u0435\u0437\u043b\u0438\u043c\u0438\u0442. \u041f\u0440\u0438\u043c\u0435\u0440\u044b: 1 (1 GB), 10 (10 GB), 50 (50 GB)"})]}),(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u041b\u0438\u043c\u0438\u0442 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"}),(0,Ft.jsx)("input",{type:"number",value:Z,onChange:e=>ee(e.target.value||0),min:"0",step:"1",placeholder:"0 = \u0431\u0435\u0437\u043b\u0438\u043c\u0438\u0442"}),(0,Ft.jsx)("small",{children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432. 0 = \u0431\u0435\u0437\u043b\u0438\u043c\u0438\u0442. \u041f\u0440\u0438\u043c\u0435\u0440\u044b: 1, 3, 5 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"})]})]}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0442\u0430\u0440\u0438\u0444\u0430 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"}),(0,Ft.jsxs)("select",{value:te,onChange:e=>re(e.target.value),style:{width:"100%"},children:[(0,Ft.jsx)("option",{value:"",children:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"}),a.map(e=>(0,Ft.jsxs)("option",{value:e.code,children:[e.name," (",e.code,")"]},e.id))]}),(0,Ft.jsx)("small",{children:"\u0415\u0441\u043b\u0438 \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d, \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0431\u0443\u0434\u0435\u0442 \u043f\u0443\u0441\u0442\u044b\u043c. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u0443\u0440\u043e\u0432\u0435\u043d\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430."})]}),(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u0411\u0435\u0439\u0434\u0436 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"}),(0,Ft.jsxs)("select",{value:ne,onChange:e=>ie(e.target.value),style:{width:"100%"},children:[(0,Ft.jsx)("option",{value:"",children:"\u0411\u0435\u0437 \u0431\u0435\u0439\u0434\u0436\u0430"}),(0,Ft.jsx)("option",{value:"top_sale",children:"\u0422\u041e\u041f \u043f\u0440\u043e\u0434\u0430\u0436"})]}),(0,Ft.jsx)("small",{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0435\u0439\u0434\u0436 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0430 \u0442\u0430\u0440\u0438\u0444\u0435"})]})]}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u0411\u043e\u043d\u0443\u0441\u043d\u044b\u0435 \u0434\u043d\u0438 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"}),(0,Ft.jsx)("input",{type:"number",value:ae,onChange:e=>se(parseInt(e.target.value)||0),min:"0",step:"1",placeholder:"0 = \u0431\u0435\u0437 \u0431\u043e\u043d\u0443\u0441\u0430"}),(0,Ft.jsx)("small",{children:'\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u043e\u043d\u0443\u0441\u043d\u044b\u0445 \u0434\u043d\u0435\u0439. 0 = \u0431\u0435\u0437 \u0431\u043e\u043d\u0443\u0441\u0430. \u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a "\u0411\u043e\u043d\u0443\u0441 +X \u0434\u043d\u0435\u0439" \u043d\u0430 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435 \u0442\u0430\u0440\u0438\u0444\u0430.'})]})}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"20px"},children:[(0,Ft.jsx)("button",{type:"submit",className:"btn",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),(0,Ft.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:le,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})]})})]})};const ka=function(){const[e,r]=(0,t.useState)([]),[n,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),{token:o}=Wt(),[l,c]=(0,t.useState)(""),[u,d]=(0,t.useState)("PERCENT"),[h,f]=(0,t.useState)(10),[p,m]=(0,t.useState)(1),[g,v]=(0,t.useState)(""),[y,b]=(0,t.useState)([]);return(0,t.useEffect)(()=>{o&&(async()=>{try{const e=await fetch("/api/admin/squads",{headers:{Authorization:"Bearer ".concat(o)}});if(e.ok){const t=await e.json();b(Array.isArray(t)?t:[])}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043a\u0432\u0430\u0434\u043e\u0432:",YM)}})()},[o]),(0,t.useEffect)(()=>{o&&(async()=>{i(!0),s(null);try{const e=await fetch("/api/admin/promocodes",{headers:{Authorization:"Bearer ".concat(o)}});if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u044b");const t=await e.json();r(t)}catch(YM){s(YM.message)}finally{i(!1)}})()},[o]),(0,Ft.jsxs)("main",{className:"admin-page-content",children:[(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"}),(0,Ft.jsxs)("form",{className:"tariff-form",onSubmit:async e=>{e.preventDefault();try{const e=await fetch("/api/admin/promocodes",{method:"POST",headers:{Authorization:"Bearer ".concat(o),"Content-Type":"application/json"},body:JSON.stringify({code:l,promo_type:u,value:h,uses_left:p,squad_id:"DAYS"===u&&g||null})}),t=await e.json();if(!e.ok)throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f");if(c(""),d("PERCENT"),f(10),m(1),v(""),t.response)r(e=>[...e,t.response]);else{const e=await fetch("/api/admin/promocodes",{headers:{Authorization:"Bearer ".concat(o)}});if(e.ok){const t=await e.json();r(t)}}}catch(e){alert(e.message)}},children:[(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:'\u041a\u043e\u0434 (\u043d.\u043f. "SALE2025")'}),(0,Ft.jsx)("input",{type:"text",value:l,onChange:e=>c(e.target.value.toUpperCase()),required:!0})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u041a\u043e\u043b-\u0432\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0439"}),(0,Ft.jsx)("input",{type:"number",value:p,onChange:e=>m(e.target.value),required:!0})]})]}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0422\u0438\u043f"}),(0,Ft.jsxs)("select",{value:u,onChange:e=>d(e.target.value),children:[(0,Ft.jsx)("option",{value:"PERCENT",children:"\u0421\u043a\u0438\u0434\u043a\u0430 (%)"}),(0,Ft.jsx)("option",{value:"DAYS",children:"\u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u043d\u0438"})]})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"PERCENT"===u?"\u0420\u0430\u0437\u043c\u0435\u0440 \u0441\u043a\u0438\u0434\u043a\u0438 (%)":"\u041a\u043e\u043b-\u0432\u043e \u0434\u043d\u0435\u0439"}),(0,Ft.jsx)("input",{type:"number",value:h,onChange:e=>f(e.target.value),required:!0})]})]}),"DAYS"===u&&(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0421\u043a\u0432\u0430\u0434 (\u043e\u043f\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e)"}),(0,Ft.jsxs)("select",{value:g,onChange:e=>v(e.target.value),children:[(0,Ft.jsx)("option",{value:"",children:"\u041d\u0435 \u0443\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c"}),y.map(e=>(0,Ft.jsx)("option",{value:e.id||e.uuid,children:e.name||e.id||e.uuid},e.id||e.uuid))]}),(0,Ft.jsx)("small",{style:{display:"block",marginTop:"4px",color:"#666"},children:"\u0415\u0441\u043b\u0438 \u0443\u043a\u0430\u0437\u0430\u043d, \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u0434\u0430\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043f\u0440\u0438 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u0430 (\u0435\u0441\u043b\u0438 \u0443 \u043d\u0435\u0433\u043e \u043d\u0435\u0442 \u0441\u043a\u0432\u0430\u0434\u0430)"})]})}),(0,Ft.jsx)("button",{type:"submit",className:"btn",style:{maxWidth:"200px"},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"})]})]}),(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u044b"}),n&&(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),a&&(0,Ft.jsx)("div",{className:"message-error",children:a}),!n&&!a&&(0,Ft.jsx)("div",{className:"table-wrapper",children:(0,Ft.jsxs)("table",{className:"users-table",children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("th",{children:"ID"}),(0,Ft.jsx)("th",{children:"\u041a\u043e\u0434"}),(0,Ft.jsx)("th",{children:"\u0422\u0438\u043f"}),(0,Ft.jsx)("th",{children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),(0,Ft.jsx)("th",{children:"\u0421\u043a\u0432\u0430\u0434"}),(0,Ft.jsx)("th",{children:"\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0439"}),(0,Ft.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Ft.jsx)("tbody",{children:e.map(e=>(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("td",{children:e.id}),(0,Ft.jsx)("td",{children:(0,Ft.jsx)("strong",{className:"code-cell",children:e.code})}),(0,Ft.jsx)("td",{children:"PERCENT"===e.promo_type?"\u0421\u043a\u0438\u0434\u043a\u0430":"\u0411\u0435\u0441\u043f. \u0434\u043d\u0438"}),(0,Ft.jsx)("td",{children:"PERCENT"===e.promo_type?"".concat(e.value,"%"):"".concat(e.value," \u0434.")}),(0,Ft.jsx)("td",{children:"DAYS"===e.promo_type&&e.squad_id?e.squad_id:"-"}),(0,Ft.jsx)("td",{children:e.uses_left}),(0,Ft.jsx)("td",{children:(0,Ft.jsx)("button",{className:"btn-table-delete",onClick:()=>(async e=>{if(window.confirm("\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u043e\u0442 \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434?"))try{if(!(await fetch("/api/admin/promocodes/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(o)}})).ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f");r(t=>t.filter(t=>t.id!==e))}catch(YM){alert(YM.message)}})(e.id),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})})]},e.id))})]})})]})]})};const Ca=function(){const[e,r]=(0,t.useState)({invitee_bonus_days:7,referrer_bonus_days:7,trial_squad_id:"",referral_type:"DAYS",default_referral_percent:10}),[n,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),{token:p}=Wt();(0,t.useEffect)(()=>{p&&(async()=>{l(!0),d(null);try{const e=await fetch("/api/admin/referral-settings",{headers:{Authorization:"Bearer ".concat(p)}});if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438");const t=await e.json();r({invitee_bonus_days:t.invitee_bonus_days||7,referrer_bonus_days:t.referrer_bonus_days||7,trial_squad_id:t.trial_squad_id||"",referral_type:t.referral_type||"DAYS",default_referral_percent:t.default_referral_percent||10})}catch(YM){d(YM.message)}finally{l(!1)}})()},[p]),(0,t.useEffect)(()=>{p&&(async()=>{s(!0);try{const e=await fetch("/api/admin/squads",{headers:{Authorization:"Bearer ".concat(p)}});if(e.ok){const t=await e.json(),r=Array.isArray(t)?t:[];i(r)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u043a\u0432\u0430\u0434\u043e\u0432:",YM)}finally{s(!1)}})()},[p]);const m=e=>{const{name:t,value:n}=e.target;r(e=>u(u({},e),{},{[t]:"trial_squad_id"===t||"referral_type"===t?n:"default_referral_percent"===t?parseFloat(n)||0:parseInt(n,10)}))};return o?(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}):(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0439 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u044b"}),(0,Ft.jsx)("p",{className:"admin-description-text",children:"\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c, \u043a\u0430\u043a\u0438\u0435 \u0431\u043e\u043d\u0443\u0441\u044b \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438."}),c&&(0,Ft.jsx)("div",{className:"message-error",children:c}),(0,Ft.jsxs)("form",{className:"tariff-form",onSubmit:async t=>{t.preventDefault(),f("saving"),d(null);try{const t=await fetch("/api/admin/referral-settings",{method:"POST",headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f");f("success"),setTimeout(()=>f(null),2e3)}catch(t){d(t.message),f("error")}},children:[(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u0422\u0438\u043f \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0438\u0441\u0442\u0435\u043c\u044b"}),(0,Ft.jsxs)("select",{name:"referral_type",value:e.referral_type,onChange:m,style:{width:"100%"},children:[(0,Ft.jsx)("option",{value:"DAYS",children:"\u0414\u043d\u0438 (\u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0434\u043d\u0435\u0439)"}),(0,Ft.jsx)("option",{value:"PERCENT",children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u044b (\u043d\u0430\u0447\u0438\u0441\u043b\u0435\u043d\u0438\u0435 \u043d\u0430 \u0431\u0430\u043b\u0430\u043d\u0441)"})]}),(0,Ft.jsx)("small",{children:"DAYS"===e.referral_type?"\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0435 \u0434\u043d\u0438 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 \u043f\u043e\u043a\u0443\u043f\u043a\u0430\u0445":"\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u0441 \u043f\u043e\u043a\u0443\u043f\u043e\u043a \u0438 \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0439 \u043d\u0430 \u0441\u0432\u043e\u0439 \u0431\u0430\u043b\u0430\u043d\u0441"})]})}),"PERCENT"===e.referral_type&&(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"}),(0,Ft.jsx)("input",{type:"number",name:"default_referral_percent",value:e.default_referral_percent,onChange:m,min:"0",max:"100",step:"0.1",required:!0,style:{width:"100%"}}),(0,Ft.jsx)("small",{children:'\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0438\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043d\u0430\u0447\u0438\u0441\u043b\u044f\u0442\u044c\u0441\u044f \u0440\u0435\u0444\u0435\u0440\u0435\u0440\u0443 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e (0-100%). \u041c\u043e\u0436\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 "\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438".'})]})}),"PERCENT"===e.referral_type&&(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:async()=>{if(window.confirm("\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u044b \u0443 \u0412\u0421\u0415\u0425 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439? \u041f\u043e\u0441\u043b\u0435 \u044d\u0442\u043e\u0433\u043e \u043e\u043d\u0438 \u0431\u0443\u0434\u0443\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0446\u0435\u043d\u0442 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e (\u0434\u0438\u043d\u0430\u043c\u0438\u0447\u0435\u0441\u043a\u0438)."))try{var e;const t=await fetch("/api/admin/referral-settings/reset-user-percents",{method:"POST",headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json"}}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0431\u0440\u043e\u0441\u0430 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u043e\u0432");alert("\u0413\u043e\u0442\u043e\u0432\u043e. \u0421\u0431\u0440\u043e\u0448\u0435\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439: ".concat(null!==(e=r.affected)&&void 0!==e?e:0))}catch(YM){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(YM.message))}},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u043e\u0446\u0435\u043d\u0442\u044b \u0443 \u0432\u0441\u0435\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 (\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e)"}),(0,Ft.jsx)("small",{children:"\u041d\u0430\u0436\u043c\u0438\u0442\u0435, \u0435\u0441\u043b\u0438 \u0440\u0430\u043d\u044c\u0448\u0435 \u0443 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0443\u0436\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438\u0441\u044c \u0444\u0438\u043a\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f (\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 15%), \u0438 \u0432\u044b \u0445\u043e\u0442\u0438\u0442\u0435, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0441\u043b\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u201c\u043f\u0440\u043e\u0446\u0435\u043d\u0442\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e\u201d \u043e\u043d \u043f\u0440\u0438\u043c\u0435\u043d\u0438\u043b\u0441\u044f \u043a\u043e \u0432\u0441\u0435\u043c."})]})}),"DAYS"===e.referral_type&&(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0411\u043e\u043d\u0443\u0441 \u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u043d\u043e\u043c\u0443 (\u041d\u043e\u0432\u043e\u043c\u0443)"}),(0,Ft.jsx)("input",{type:"number",name:"invitee_bonus_days",value:e.invitee_bonus_days,onChange:m,required:!0}),(0,Ft.jsx)("small",{children:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0434\u043d\u0435\u0439 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0443\u0435\u0442\u0441\u044f \u043f\u043e \u0440\u0435\u0444. \u0441\u0441\u044b\u043b\u043a\u0435."})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0411\u043e\u043d\u0443\u0441 \u041f\u0440\u0438\u0433\u043b\u0430\u0441\u0438\u0432\u0448\u0435\u043c\u0443 (\u0421\u0442\u0430\u0440\u043e\u043c\u0443)"}),(0,Ft.jsx)("input",{type:"number",name:"referrer_bonus_days",value:e.referrer_bonus_days,onChange:m,required:!0}),(0,Ft.jsx)("small",{children:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u044b\u0445 \u0434\u043d\u0435\u0439 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u0432\u043b\u0430\u0434\u0435\u043b\u0435\u0446 \u0440\u0435\u0444. \u0441\u0441\u044b\u043b\u043a\u0438."})]})]})}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 100%"},children:[(0,Ft.jsx)("label",{children:"\u0421\u043a\u0432\u0430\u0434 \u0434\u043b\u044f \u0442\u0440\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),(0,Ft.jsxs)("select",{name:"trial_squad_id",value:e.trial_squad_id||"",onChange:m,disabled:a,style:{width:"100%"},children:[(0,Ft.jsx)("option",{value:"",children:"\u041d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d (\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u0435\u0444\u043e\u043b\u0442\u043d\u044b\u0439 \u0438\u0437 .env)"}),n.map(e=>(0,Ft.jsx)("option",{value:e.uuid||e.id,children:e.name||e.title||e.uuid||e.id},e.uuid||e.id))]}),a&&(0,Ft.jsx)("small",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043a\u0432\u0430\u0434\u043e\u0432..."}),(0,Ft.jsx)("small",{children:"\u0421\u043a\u0432\u0430\u0434, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e \u043f\u0440\u0438 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0442\u0440\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438."})]})}),(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px"},children:[(0,Ft.jsx)("button",{type:"submit",className:"btn",style:{maxWidth:"200px"},disabled:"saving"===h,children:"saving"===h?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),"success"===h&&(0,Ft.jsx)("div",{className:"message-success",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!"})]})]})]})})},Ea=e=>{let{ticketId:r,token:n,onStatusChange:i}=e;const[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(""),{user:p}=Wt(),m=(0,t.useCallback)(async()=>{l(!0),d(null);try{const e=await fetch("/api/support-tickets/".concat(r),{headers:{Authorization:"Bearer ".concat(n)}});if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0447\u0430\u0442");const t=await e.json();s(t)}catch(YM){d(YM.message)}finally{l(!1)}},[r,n]);(0,t.useEffect)(()=>{m()},[m]);if(o)return(0,Ft.jsx)("div",{className:"chat-window loading",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0447\u0430\u0442\u0430..."});if(c)return(0,Ft.jsx)("div",{className:"chat-window error",children:c});if(!a)return null;const g=p?p.id:null;return(0,Ft.jsxs)("div",{className:"chat-window",children:[(0,Ft.jsxs)("header",{className:"chat-header",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{children:a.subject}),(0,Ft.jsxs)("span",{className:"chat-user",children:["\u043e\u0442: ",a.user_email]})]}),(0,Ft.jsx)("button",{onClick:async()=>{const e="OPEN"===a.status?"CLOSED":"OPEN";try{await fetch("/api/admin/support-tickets/".concat(r),{method:"PATCH",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({status:e})}),s(t=>u(u({},t),{},{status:e})),i(r,e)}catch(YM){alert(YM.message)}},className:"btn-table-toggle ".concat("CLOSED"===a.status?"closed":"open"),children:"OPEN"===a.status?"\u0417\u0430\u043a\u0440\u044b\u0442\u044c":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c"})]}),(0,Ft.jsx)("div",{className:"chat-messages",children:a.messages.map(e=>(0,Ft.jsxs)("div",{className:"chat-bubble ".concat(e.sender_id===g?"me":"them"),children:[(0,Ft.jsx)("div",{className:"bubble-sender",children:e.sender_email}),(0,Ft.jsx)("div",{className:"bubble-message",children:e.message}),(0,Ft.jsx)("div",{className:"bubble-time",children:new Date(e.created_at).toLocaleTimeString("ru-RU")})]},e.id))}),(0,Ft.jsxs)("form",{className:"chat-input-form",onSubmit:async e=>{if(e.preventDefault(),h.trim())try{const e=await fetch("/api/support-tickets/".concat(r,"/reply"),{method:"POST",headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"},body:JSON.stringify({message:h})}),t=await e.json();if(!e.ok)throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438");s(e=>u(u({},e),{},{messages:[...e.messages,t]})),f("")}catch(e){alert(e.message)}},children:[(0,Ft.jsx)("textarea",{placeholder:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u043e\u0442\u0432\u0435\u0442...",value:h,onChange:e=>f(e.target.value),rows:"4",style:{resize:"vertical",minHeight:"100px"}}),(0,Ft.jsx)("button",{type:"submit",className:"btn-send",children:(0,Ft.jsx)(ui,{})})]})]})};const Oa=function(){const[e,r]=(0,t.useState)([]),[n,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),{token:o}=Wt(),{ticketId:l}=Ce(),c=je();return(0,t.useEffect)(()=>{o&&(async()=>{i(!0),s(null);try{const e=await fetch("/api/admin/support-tickets",{headers:{Authorization:"Bearer ".concat(o)}});if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0442\u0438\u043a\u0435\u0442\u044b");const t=await e.json();r(t)}catch(YM){s(YM.message)}finally{i(!1)}})()},[o]),(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("div",{className:"support-chat-layout",children:[(0,Ft.jsxs)("div",{className:"chat-list-sidebar",children:[(0,Ft.jsx)("div",{className:"chat-list-header",children:(0,Ft.jsx)("h2",{children:"\u0422\u0438\u043a\u0435\u0442\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438"})}),n&&(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),a&&(0,Ft.jsx)("div",{className:"message-error",children:a}),(0,Ft.jsx)("div",{className:"chat-list-items",children:e.map(e=>{return(0,Ft.jsxs)("div",{className:"chat-list-item ".concat(e.id===parseInt(l)?"active":""," ").concat("CLOSED"===e.status?"closed":""),onClick:()=>c("/admin/support/".concat(e.id)),children:[(0,Ft.jsxs)("div",{className:"item-header",children:[(0,Ft.jsx)("span",{className:"item-email",children:e.user_email}),(0,Ft.jsx)("span",{className:"item-date",children:(t=e.created_at,new Date(t).toLocaleDateString("ru-RU"))})]}),(0,Ft.jsx)("div",{className:"item-subject",children:e.subject}),(0,Ft.jsx)("span",{className:"status-badge-small status-".concat(e.status),children:e.status})]},e.id);var t})})]}),(0,Ft.jsx)("div",{className:"chat-window-wrapper",children:l?(0,Ft.jsx)(Ea,{ticketId:l,token:o,onStatusChange:(e,t)=>{r(r=>r.map(r=>r.id===e?u(u({},r),{},{status:t}):r))}}):(0,Ft.jsx)("div",{className:"chat-window empty",children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043a\u0435\u0442 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0441\u043b\u0435\u0432\u0430, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0447\u0430\u0442."})})]})})};const Pa=function(){const[e,r]=(0,t.useState)({crystalpay_api_key:"",crystalpay_api_secret:"",heleket_api_key:"",telegram_bot_token:"",yookassa_shop_id:"",yookassa_secret_key:"",yookassa_receipt_required:!1,yoomoney_receiver:"",yoomoney_notification_secret:"",platega_api_key:"",platega_merchant_id:"",platega_mir_enabled:!1,mulenpay_api_key:"",mulenpay_secret_key:"",mulenpay_shop_id:"",urlpay_api_key:"",urlpay_secret_key:"",urlpay_shop_id:"",monobank_token:"",btcpayserver_url:"",btcpayserver_api_key:"",btcpayserver_store_id:"",tribute_api_key:"",robokassa_merchant_login:"",robokassa_password1:"",robokassa_password2:""}),[n,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),{token:c}=Wt();(0,t.useEffect)(()=>{c&&(async()=>{i(!0),s(null);try{const e=await fetch("/api/admin/payment-settings",{headers:{Authorization:"Bearer ".concat(c)}});if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438");const t=await e.json();"DECRYPTION_ERROR"===t.crystalpay_api_key&&(t.crystalpay_api_key=""),"DECRYPTION_ERROR"===t.crystalpay_api_secret&&(t.crystalpay_api_secret=""),"DECRYPTION_ERROR"===t.heleket_api_key&&(t.heleket_api_key=""),"DECRYPTION_ERROR"===t.telegram_bot_token&&(t.telegram_bot_token=""),"DECRYPTION_ERROR"===t.yookassa_shop_id&&(t.yookassa_shop_id=""),"DECRYPTION_ERROR"===t.yookassa_secret_key&&(t.yookassa_secret_key=""),"DECRYPTION_ERROR"===t.yoomoney_receiver&&(t.yoomoney_receiver=""),"DECRYPTION_ERROR"===t.yoomoney_notification_secret&&(t.yoomoney_notification_secret=""),"DECRYPTION_ERROR"===t.platega_api_key&&(t.platega_api_key=""),"DECRYPTION_ERROR"===t.platega_merchant_id&&(t.platega_merchant_id=""),"DECRYPTION_ERROR"===t.mulenpay_api_key&&(t.mulenpay_api_key=""),"DECRYPTION_ERROR"===t.mulenpay_secret_key&&(t.mulenpay_secret_key=""),"DECRYPTION_ERROR"===t.mulenpay_shop_id&&(t.mulenpay_shop_id=""),"DECRYPTION_ERROR"===t.urlpay_api_key&&(t.urlpay_api_key=""),"DECRYPTION_ERROR"===t.urlpay_secret_key&&(t.urlpay_secret_key=""),"DECRYPTION_ERROR"===t.urlpay_shop_id&&(t.urlpay_shop_id=""),"DECRYPTION_ERROR"===t.monobank_token&&(t.monobank_token=""),"DECRYPTION_ERROR"===t.btcpayserver_url&&(t.btcpayserver_url=""),"DECRYPTION_ERROR"===t.btcpayserver_api_key&&(t.btcpayserver_api_key=""),"DECRYPTION_ERROR"===t.btcpayserver_store_id&&(t.btcpayserver_store_id=""),"DECRYPTION_ERROR"===t.tribute_api_key&&(t.tribute_api_key=""),"DECRYPTION_ERROR"===t.robokassa_merchant_login&&(t.robokassa_merchant_login=""),"DECRYPTION_ERROR"===t.robokassa_password1&&(t.robokassa_password1=""),"DECRYPTION_ERROR"===t.robokassa_password2&&(t.robokassa_password2=""),"DECRYPTION_ERROR"===t.freekassa_shop_id&&(t.freekassa_shop_id=""),"DECRYPTION_ERROR"===t.freekassa_secret&&(t.freekassa_secret=""),"DECRYPTION_ERROR"===t.freekassa_secret2&&(t.freekassa_secret2=""),r(t)}catch(YM){s(YM.message)}finally{i(!1)}})()},[c]);const d=e=>{const{name:t,value:n,type:i,checked:a}=e.target;r(e=>u(u({},e),{},{[t]:"checkbox"===i?a:n}))};return n?(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}):(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u041f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u0445 \u0421\u0438\u0441\u0442\u0435\u043c"}),(0,Ft.jsx)("p",{className:"admin-description-text",children:"\u041a\u043b\u044e\u0447\u0438 API \u0448\u0438\u0444\u0440\u0443\u044e\u0442\u0441\u044f \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0435 \u0438 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0445\u0440\u0430\u043d\u044f\u0442\u0441\u044f \u0432 \u043e\u0442\u043a\u0440\u044b\u0442\u043e\u043c \u0432\u0438\u0434\u0435."}),a&&(0,Ft.jsx)("div",{className:"message-error",children:a}),(0,Ft.jsxs)("form",{className:"tariff-form",onSubmit:async t=>{t.preventDefault(),l("saving"),s(null);try{const t=await fetch("/api/admin/payment-settings",{method:"POST",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f");l("success"),setTimeout(()=>l(null),2e3)}catch(t){s(t.message),l("error")}},children:[(0,Ft.jsx)("h3",{children:"CrystalPAY"}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"API Key (Cassa ID)"}),(0,Ft.jsx)("input",{type:"text",name:"crystalpay_api_key",value:e.crystalpay_api_key,onChange:d,placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, mykassa"})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"API Secret (Secret Key 1)"}),(0,Ft.jsx)("input",{type:"text",name:"crystalpay_api_secret",value:e.crystalpay_api_secret,onChange:d,placeholder:"\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447..."})]})]}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"Heleket"}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"API Key"}),(0,Ft.jsx)("input",{type:"text",name:"heleket_api_key",value:e.heleket_api_key,onChange:d,placeholder:"API \u043a\u043b\u044e\u0447 Heleket..."})]})}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"Telegram Stars \u2b50"}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Bot Token"}),(0,Ft.jsx)("input",{type:"text",name:"telegram_bot_token",value:e.telegram_bot_token,onChange:d,placeholder:"Bot Token \u043e\u0442 @BotFather..."})]})}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"Monobank \ud83d\udcb3"}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Token (X-Token)"}),(0,Ft.jsx)("input",{type:"text",name:"monobank_token",value:e.monobank_token,onChange:d,placeholder:"\u0422\u043e\u043a\u0435\u043d \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 monobank.ua..."}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u0422\u043e\u043a\u0435\u043d \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 monobank.ua"})]})}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"YooKassa"}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Shop ID (\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430)"}),(0,Ft.jsx)("input",{type:"text",name:"yookassa_shop_id",value:e.yookassa_shop_id,onChange:d,placeholder:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 YooKassa"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 YooKassa"})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Secret Key (\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447)"}),(0,Ft.jsx)("input",{type:"text",name:"yookassa_secret_key",value:e.yookassa_secret_key,onChange:d,placeholder:"\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 YooKassa"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u044b\u0439 \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432. YooKassa \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0442\u043e\u043b\u044c\u043a\u043e RUB."})]})]}),(0,Ft.jsx)("div",{className:"form-row",style:{marginTop:"15px"},children:(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Ft.jsx)("input",{type:"checkbox",name:"yookassa_receipt_required",checked:e.yookassa_receipt_required||!1,onChange:d,style:{width:"auto",margin:0}}),(0,Ft.jsx)("span",{children:"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u0442\u044c receipt (\u0447\u0435\u043a) \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u043f\u043b\u0430\u0442\u0435\u0436\u0430"})]}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px",display:"block",marginTop:"4px"},children:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u0435, \u0435\u0441\u043b\u0438 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 YooKassa \u0432\u043a\u043b\u044e\u0447\u0435\u043d\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0447\u0435\u043a\u043e\u0432 \u0432 \u0424\u041d\u0421. \u0415\u0441\u043b\u0438 \u0432\u044b\u043a\u043b\u044e\u0447\u0435\u043d\u043e, receipt \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c\u0441\u044f (\u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u0442\u0441\u044f, \u0435\u0441\u043b\u0438 \u0447\u0435\u043a\u043e\u0432 \u043d\u0435 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f)."})]})}),(0,Ft.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"var(--bg-secondary)",borderRadius:"4px"},children:(0,Ft.jsxs)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:[(0,Ft.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u041f\u043e\u0441\u043b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 YooKassa \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c URL \u0432\u0435\u0431\u0445\u0443\u043a\u0430 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 YooKassa: ",(0,Ft.jsx)("br",{}),(0,Ft.jsxs)("code",{style:{wordBreak:"break-all"},children:["undefined"!==typeof window?window.location.origin:"","/api/webhook/yookassa"]})]})}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"YooMoney"}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Receiver (\u043d\u043e\u043c\u0435\u0440 \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430)"}),(0,Ft.jsx)("input",{type:"text",name:"yoomoney_receiver",value:e.yoomoney_receiver,onChange:d,placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: 41001XXXXXXXXXX"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u041d\u043e\u043c\u0435\u0440 \u0432\u0430\u0448\u0435\u0433\u043e \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430 YooMoney (receiver) \u0434\u043b\u044f \u043f\u0440\u0438\u0451\u043c\u0430 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439."})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Notification Secret (\u0441\u0435\u043a\u0440\u0435\u0442\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e)"}),(0,Ft.jsx)("input",{type:"text",name:"yoomoney_notification_secret",value:e.yoomoney_notification_secret,onChange:d,placeholder:"\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f sha1_hash"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 YooMoney (sha1_hash). \u0411\u0435\u0437 \u043d\u0435\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0438 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0430\u0442\u044c\u0441\u044f."})]})]}),(0,Ft.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"var(--bg-secondary)",borderRadius:"4px"},children:(0,Ft.jsxs)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:[(0,Ft.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u0414\u043b\u044f YooMoney \u043d\u0443\u0436\u043d\u043e \u0432\u043a\u043b\u044e\u0447\u0438\u0442\u044c HTTP-\u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0438 \u0443\u043a\u0430\u0437\u0430\u0442\u044c URL: ",(0,Ft.jsx)("br",{}),(0,Ft.jsxs)("code",{style:{wordBreak:"break-all"},children:["undefined"!==typeof window?window.location.origin:"","/api/webhook/yoomoney"]})]})}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"Platega"}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"API Key"}),(0,Ft.jsx)("input",{type:"text",name:"platega_api_key",value:e.platega_api_key,onChange:d,placeholder:"API \u043a\u043b\u044e\u0447 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 Platega"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"API \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a Platega API"})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Merchant ID (UUID)"}),(0,Ft.jsx)("input",{type:"text",name:"platega_merchant_id",value:e.platega_merchant_id,onChange:d,placeholder:"UUID \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 Platega"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0435\u0440\u0447\u0430\u043d\u0442\u0430 (UUID) \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 Platega"})]})]}),(0,Ft.jsx)("div",{className:"form-row",style:{marginTop:"10px"},children:(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Ft.jsx)("input",{type:"checkbox",name:"platega_mir_enabled",checked:e.platega_mir_enabled||!1,onChange:d,style:{width:"auto",margin:0}}),(0,Ft.jsx)("span",{children:"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u201c\u041a\u0430\u0440\u0442\u044b \u041c\u0418\u0420\u201d (paymentMethod=11)"})]}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px",display:"block",marginTop:"4px"},children:"\u041f\u043e\u044f\u0432\u0438\u0442\u0441\u044f \u043e\u0442\u0434\u0435\u043b\u044c\u043d\u044b\u0439 \u043c\u0435\u0442\u043e\u0434 \u043e\u043f\u043b\u0430\u0442\u044b \u0432 \u0431\u043e\u0442\u0435/\u0441\u0430\u0439\u0442\u0435/\u043c\u0438\u043d\u0438-\u0430\u043f\u043f\u0435. \u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u0447\u0435\u0440\u0435\u0437 Platega, \u043d\u043e \u0441 \u0434\u0440\u0443\u0433\u0438\u043c paymentMethod."})]})}),(0,Ft.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"var(--bg-secondary)",borderRadius:"4px"},children:(0,Ft.jsxs)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:[(0,Ft.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u041f\u043e\u0441\u043b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Platega \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c URL \u0432\u0435\u0431\u0445\u0443\u043a\u0430 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 Platega: ",(0,Ft.jsx)("br",{}),(0,Ft.jsxs)("code",{style:{wordBreak:"break-all"},children:["undefined"!==typeof window?window.location.origin:"","/api/webhook/platega"]})]})}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"Mulenpay"}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"API Key"}),(0,Ft.jsx)("input",{type:"text",name:"mulenpay_api_key",value:e.mulenpay_api_key,onChange:d,placeholder:"API \u043a\u043b\u044e\u0447 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 Mulenpay"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"API \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a Mulenpay API"})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Secret Key"}),(0,Ft.jsx)("input",{type:"text",name:"mulenpay_secret_key",value:e.mulenpay_secret_key,onChange:d,placeholder:"Secret \u043a\u043b\u044e\u0447 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 Mulenpay"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"Secret \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a Mulenpay API"})]})]}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Shop ID"}),(0,Ft.jsx)("input",{type:"text",name:"mulenpay_shop_id",value:e.mulenpay_shop_id,onChange:d,placeholder:"ID \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 Mulenpay"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 Mulenpay"})]})}),(0,Ft.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"var(--bg-secondary)",borderRadius:"4px"},children:(0,Ft.jsxs)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:[(0,Ft.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u041f\u043e\u0441\u043b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Mulenpay \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c URL \u0432\u0435\u0431\u0445\u0443\u043a\u0430 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 Mulenpay: ",(0,Ft.jsx)("br",{}),(0,Ft.jsxs)("code",{style:{wordBreak:"break-all"},children:["undefined"!==typeof window?window.location.origin:"","/api/webhook/mulenpay"]})]})}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"UrlPay"}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"API Key"}),(0,Ft.jsx)("input",{type:"text",name:"urlpay_api_key",value:e.urlpay_api_key,onChange:d,placeholder:"API \u043a\u043b\u044e\u0447 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 UrlPay"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"API \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a UrlPay API"})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Secret Key"}),(0,Ft.jsx)("input",{type:"text",name:"urlpay_secret_key",value:e.urlpay_secret_key,onChange:d,placeholder:"Secret \u043a\u043b\u044e\u0447 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 UrlPay"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"Secret \u043a\u043b\u044e\u0447 \u0434\u043b\u044f \u0430\u0443\u0442\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043a UrlPay API"})]})]}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Shop ID"}),(0,Ft.jsx)("input",{type:"text",name:"urlpay_shop_id",value:e.urlpay_shop_id,onChange:d,placeholder:"ID \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 UrlPay"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 UrlPay"})]})}),(0,Ft.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"var(--bg-secondary)",borderRadius:"4px"},children:(0,Ft.jsxs)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:[(0,Ft.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u041f\u043e\u0441\u043b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 UrlPay \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c URL \u0432\u0435\u0431\u0445\u0443\u043a\u0430 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 UrlPay: ",(0,Ft.jsx)("br",{}),(0,Ft.jsxs)("code",{style:{wordBreak:"break-all"},children:["undefined"!==typeof window?window.location.origin:"","/api/webhook/urlpay"]})]})}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"BTCPayServer \u20bf"}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Server URL"}),(0,Ft.jsx)("input",{type:"text",name:"btcpayserver_url",value:e.btcpayserver_url,onChange:d,placeholder:"https://btcpay.example.com"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"URL \u0432\u0430\u0448\u0435\u0433\u043e BTCPayServer \u0441\u0435\u0440\u0432\u0435\u0440\u0430 (\u0431\u0435\u0437 \u0437\u0430\u0432\u0435\u0440\u0448\u0430\u044e\u0449\u0435\u0433\u043e \u0441\u043b\u0435\u0448\u0430)"})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"API Key"}),(0,Ft.jsx)("input",{type:"text",name:"btcpayserver_api_key",value:e.btcpayserver_api_key,onChange:d,placeholder:"API \u043a\u043b\u044e\u0447 \u0438\u0437 BTCPayServer"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"API \u043a\u043b\u044e\u0447 \u0441 \u043f\u0440\u0430\u0432\u0430\u043c\u0438: btcpay.store.cancreateinvoice, btcpay.store.canviewinvoices"})]})]}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Store ID"}),(0,Ft.jsx)("input",{type:"text",name:"btcpayserver_store_id",value:e.btcpayserver_store_id,onChange:d,placeholder:"Store ID \u0438\u0437 BTCPayServer"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u0418\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 (Store ID) \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 Store \u0432 BTCPayServer"})]})}),(0,Ft.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"var(--bg-secondary)",borderRadius:"4px"},children:(0,Ft.jsxs)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:[(0,Ft.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u041f\u043e\u0441\u043b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 BTCPayServer \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c URL \u0432\u0435\u0431\u0445\u0443\u043a\u0430 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 Store \u0432 BTCPayServer: ",(0,Ft.jsx)("br",{}),(0,Ft.jsxs)("code",{style:{wordBreak:"break-all"},children:["undefined"!==typeof window?window.location.origin:"","/api/webhook/btcpayserver"]}),(0,Ft.jsx)("br",{}),"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u043e\u0431\u044b\u0442\u0438\u044f: ",(0,Ft.jsx)("strong",{children:"InvoiceSettled"})," (\u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"]})}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"Tribute"}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"API Key"}),(0,Ft.jsx)("input",{type:"text",name:"tribute_api_key",value:e.tribute_api_key,onChange:d,placeholder:"API \u043a\u043b\u044e\u0447 \u0438\u0437 \u043f\u0430\u043d\u0435\u043b\u0438 \u0430\u0432\u0442\u043e\u0440\u0430 Tribute"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"API \u043a\u043b\u044e\u0447 \u043c\u043e\u0436\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0432 \u041f\u0430\u043d\u0435\u043b\u0438 \u0410\u0432\u0442\u043e\u0440\u0430 Tribute: \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u2192 API Keys \u2192 Generate API Key"})]})}),(0,Ft.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"var(--bg-secondary)",borderRadius:"4px"},children:(0,Ft.jsxs)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:[(0,Ft.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," Tribute \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0432\u0430\u043b\u044e\u0442\u044b RUB \u0438 EUR. UAH \u0438 USD \u0431\u0443\u0434\u0443\u0442 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u044b \u0432 RUB \u0438 EUR \u0441\u043e\u043e\u0442\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e.",(0,Ft.jsx)("br",{}),"\u041f\u043e\u0441\u043b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Tribute \u043c\u043e\u0436\u043d\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c URL \u0432\u0435\u0431\u0445\u0443\u043a\u0430 \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 (\u0435\u0441\u043b\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f): ",(0,Ft.jsx)("br",{}),(0,Ft.jsxs)("code",{style:{wordBreak:"break-all"},children:["undefined"!==typeof window?window.location.origin:"","/api/webhook/tribute"]})]})}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"Robokassa"}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Merchant Login (\u041b\u043e\u0433\u0438\u043d \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430)"}),(0,Ft.jsx)("input",{type:"text",name:"robokassa_merchant_login",value:e.robokassa_merchant_login,onChange:d,placeholder:"\u041b\u043e\u0433\u0438\u043d \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 Robokassa"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:'\u041b\u043e\u0433\u0438\u043d \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 Robokassa \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 "\u041c\u043e\u0438 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u044b"'})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Password #1 (\u041f\u0430\u0440\u043e\u043b\u044c #1)"}),(0,Ft.jsx)("input",{type:"text",name:"robokassa_password1",value:e.robokassa_password1,onChange:d,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c #1 \u0434\u043b\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u041f\u0430\u0440\u043e\u043b\u044c #1 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 \u043d\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0441\u044b\u043b\u043e\u043a \u043e\u043f\u043b\u0430\u0442\u044b"})]})]}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Password #2 (\u041f\u0430\u0440\u043e\u043b\u044c #2)"}),(0,Ft.jsx)("input",{type:"text",name:"robokassa_password2",value:e.robokassa_password2,onChange:d,placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c #2 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u041f\u0430\u0440\u043e\u043b\u044c #2 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 (ResultURL)"})]})}),(0,Ft.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"var(--bg-secondary)",borderRadius:"4px"},children:(0,Ft.jsxs)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:[(0,Ft.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u041f\u043e\u0441\u043b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Robokassa \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c ResultURL \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 Robokassa: ",(0,Ft.jsx)("br",{}),(0,Ft.jsxs)("code",{style:{wordBreak:"break-all"},children:["undefined"!==typeof window?window.location.origin:"","/api/webhook/robokassa"]}),(0,Ft.jsx)("br",{}),"Robokassa \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0432\u0430\u043b\u044e\u0442\u0443 RUB. \u0414\u0440\u0443\u0433\u0438\u0435 \u0432\u0430\u043b\u044e\u0442\u044b \u0431\u0443\u0434\u0443\u0442 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u044b \u043a\u0430\u043a RUB."]})}),(0,Ft.jsx)("h3",{style:{marginTop:"30px"},children:"Freekassa"}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Shop ID (ID \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430)"}),(0,Ft.jsx)("input",{type:"text",name:"freekassa_shop_id",value:e.freekassa_shop_id,onChange:d,placeholder:"ID \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 Freekassa"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:'ID \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u043c\u043e\u0436\u043d\u043e \u043d\u0430\u0439\u0442\u0438 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 Freekassa \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 "\u041c\u043e\u0438 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u044b"'})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Secret (\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e)"}),(0,Ft.jsx)("input",{type:"text",name:"freekassa_secret",value:e.freekassa_secret,onChange:d,placeholder:"\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u0432 \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u043e\u0439 \u0444\u043e\u0440\u043c\u0435"})]})]}),(0,Ft.jsx)("div",{className:"form-row",children:(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"Secret 2 (\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e 2)"}),(0,Ft.jsx)("input",{type:"text",name:"freekassa_secret2",value:e.freekassa_secret2,onChange:d,placeholder:"\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e 2 \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439"}),(0,Ft.jsx)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u0421\u0435\u043a\u0440\u0435\u0442\u043d\u043e\u0435 \u0441\u043b\u043e\u0432\u043e 2 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0434\u043b\u044f \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439 (Result URL)"})]})}),(0,Ft.jsx)("div",{style:{marginTop:"10px",padding:"10px",backgroundColor:"var(--bg-secondary)",borderRadius:"4px"},children:(0,Ft.jsxs)("small",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:[(0,Ft.jsx)("strong",{children:"\u0412\u0430\u0436\u043d\u043e:"})," \u041f\u043e\u0441\u043b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Freekassa \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0443\u043a\u0430\u0437\u0430\u0442\u044c URL \u043e\u043f\u043e\u0432\u0435\u0449\u0435\u043d\u0438\u044f \u0432 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430\u0445 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0430 \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 Freekassa: ",(0,Ft.jsx)("br",{}),(0,Ft.jsxs)("code",{style:{wordBreak:"break-all"},children:["undefined"!==typeof window?window.location.origin:"","/api/webhook/freekassa"]}),(0,Ft.jsx)("br",{}),'Freekassa \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0432\u0430\u043b\u044e\u0442\u044b: RUB, USD, EUR, UAH, KZT. \u0414\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0432\u0435\u0440 \u0434\u043e\u043b\u0436\u0435\u043d \u0432\u0435\u0440\u043d\u0443\u0442\u044c \u043e\u0442\u0432\u0435\u0442 "YES".']})}),(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginTop:"20px"},children:[(0,Ft.jsx)("button",{type:"submit",className:"btn",style:{maxWidth:"200px"},disabled:"saving"===o,children:"saving"===o?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u043b\u044e\u0447\u0438"}),"success"===o&&(0,Ft.jsx)("div",{className:"message-success",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!"})]})]})]})})};const Na=function(){const[e,r]=(0,t.useState)([]),[n,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),{token:c}=Wt(),u=(0,t.useCallback)(async()=>{l(!0),s(null);try{const e=await fetch("/api/admin/squads",{headers:{Authorization:"Bearer ".concat(c)}});if(!e.ok){const t=await e.json();throw new Error(t.message||"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0441\u043a\u0432\u0430\u0434\u044b")}const t=await e.json(),n=Array.isArray(t)?t:[];r(n)}catch(YM){s(YM.message)}finally{i(!1),l(!1)}},[c]);return(0,t.useEffect)(()=>{c&&u()},[c,u]),(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("section",{children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[(0,Ft.jsx)("h2",{children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0441\u043a\u0432\u0430\u0434\u0430\u043c\u0438"}),(0,Ft.jsxs)("button",{className:"btn",onClick:()=>{u()},disabled:o,style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ft.jsx)(li,{style:{animation:o?"spin 1s linear infinite":"none"}}),"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"]})]}),(0,Ft.jsx)("p",{className:"admin-description-text",children:'\u0417\u0434\u0435\u0441\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b\u0435 \u0441\u043a\u0432\u0430\u0434\u044b \u0438\u0437 \u0432\u043d\u0435\u0448\u043d\u0435\u0433\u043e API. \u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u0441\u043a\u0432\u0430\u0434 \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0442\u0430\u0440\u0438\u0444\u0430 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 "\u0422\u0430\u0440\u0438\u0444\u044b".'}),n&&(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043a\u0432\u0430\u0434\u043e\u0432..."}),a&&(0,Ft.jsx)("div",{className:"message-error",children:a}),!n&&!a&&(0,Ft.jsx)(Ft.Fragment,{children:0===e.length?(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0421\u043a\u0432\u0430\u0434\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}):(0,Ft.jsx)("div",{className:"squads-grid",children:e.map((e,t)=>(0,Ft.jsxs)("div",{className:"squad-card",children:[(0,Ft.jsxs)("div",{className:"squad-card-header",children:[(0,Ft.jsx)("div",{className:"squad-icon",children:(0,Ft.jsx)(di,{})}),(0,Ft.jsxs)("div",{className:"squad-info",children:[(0,Ft.jsx)("h3",{className:"squad-name",children:e.name||e.title||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f"}),e.description&&(0,Ft.jsx)("p",{className:"squad-description",children:e.description})]})]}),(0,Ft.jsxs)("div",{className:"squad-details",children:[(0,Ft.jsxs)("div",{className:"squad-detail-item",children:[(0,Ft.jsx)("span",{className:"squad-label",children:"UUID:"}),(0,Ft.jsx)("span",{className:"squad-value code-cell",children:e.uuid||"N/A"})]}),e.info&&(0,Ft.jsxs)(Ft.Fragment,{children:[void 0!==e.info.membersCount&&(0,Ft.jsxs)("div",{className:"squad-detail-item",children:[(0,Ft.jsx)("span",{className:"squad-label",children:"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432:"}),(0,Ft.jsx)("span",{className:"squad-value",children:e.info.membersCount})]}),void 0!==e.info.inboundsCount&&(0,Ft.jsxs)("div",{className:"squad-detail-item",children:[(0,Ft.jsx)("span",{className:"squad-label",children:"Inbounds:"}),(0,Ft.jsx)("span",{className:"squad-value",children:e.info.inboundsCount})]})]}),e.inbounds&&Array.isArray(e.inbounds)&&(0,Ft.jsxs)("div",{className:"squad-detail-item",children:[(0,Ft.jsx)("span",{className:"squad-label",children:"Inbounds:"}),(0,Ft.jsx)("span",{className:"squad-value",children:e.inbounds.length})]}),e.createdAt&&(0,Ft.jsxs)("div",{className:"squad-detail-item",children:[(0,Ft.jsx)("span",{className:"squad-label",children:"\u0421\u043e\u0437\u0434\u0430\u043d:"}),(0,Ft.jsx)("span",{className:"squad-value",children:new Date(e.createdAt).toLocaleDateString("ru-RU")})]})]})]},e.uuid||e.id||t))})})]})})};var Aa=r(5104),Ta=r(4132);const Ra=function(){const[e,r]=(0,t.useState)([]),[n,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(!1),[p,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)({open:!1,node:null,step:"password"}),[x,_]=(0,t.useState)(""),[w,S]=(0,t.useState)(!1),[j,k]=(0,t.useState)(""),[C,E]=(0,t.useState)(null),[O,P]=(0,t.useState)(null),{token:N}=Wt(),A=(0,t.useRef)(null),T=(0,t.useRef)(null),R=(0,t.useRef)(null),D=(0,t.useRef)(null),L=(0,t.useCallback)(async()=>{l(!0),s(null);try{const e=await fetch("/api/admin/nodes",{headers:{Authorization:"Bearer ".concat(N)}});if(!e.ok){const t=await e.json();throw new Error(t.message||"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u043e\u0434\u044b")}const t=await e.json(),n=Array.isArray(t)?t:[];r(n)}catch(YM){s(YM.message)}finally{i(!1),l(!1)}},[N]);(0,t.useEffect)(()=>{N&&L()},[N,L]),(0,t.useEffect)(()=>{const e=setInterval(()=>{!N||o||y.open||L()},3e4);return()=>clearInterval(e)},[N,o,L,y.open]);const M=(0,t.useCallback)(async e=>{if(C)try{await fetch("/api/admin/ssh/send",{method:"POST",headers:{Authorization:"Bearer ".concat(N),"Content-Type":"application/json"},body:JSON.stringify({session_id:C,data:e})})}catch(YM){console.error("SSH send error:",YM)}},[C,N]),I=(0,t.useCallback)(async()=>{if(C&&A.current)try{await fetch("/api/admin/ssh/resize",{method:"POST",headers:{Authorization:"Bearer ".concat(N),"Content-Type":"application/json"},body:JSON.stringify({session_id:C,cols:A.current.cols,rows:A.current.rows})})}catch(YM){console.error("SSH resize error:",YM)}},[C,N]),B=(0,t.useCallback)(()=>{D.current&&clearInterval(D.current),D.current=setInterval(async()=>{if(C)try{const e=await fetch("/api/admin/ssh/read",{method:"POST",headers:{Authorization:"Bearer ".concat(N),"Content-Type":"application/json"},body:JSON.stringify({session_id:C})}),t=await e.json();t.output&&A.current&&A.current.write(t.output),t.disconnected&&(A.current&&A.current.write("\r\n\x1b[31m--- \u0421\u043e\u0435\u0434\u0438\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u043a\u0440\u044b\u0442\u043e ---\x1b[0m\r\n"),clearInterval(D.current))}catch(YM){console.error("SSH read error:",YM)}},100)},[C,N]);(0,t.useEffect)(()=>{if("terminal"===y.step&&T.current&&!A.current){const e=new Aa.Terminal({cursorBlink:!0,fontSize:14,fontFamily:'"Fira Code", "JetBrains Mono", "Cascadia Code", Menlo, Monaco, "Courier New", monospace',theme:{background:"#0d1117",foreground:"#c9d1d9",cursor:"#58a6ff",cursorAccent:"#0d1117",selectionBackground:"#264f78",black:"#484f58",red:"#ff7b72",green:"#3fb950",yellow:"#d29922",blue:"#58a6ff",magenta:"#bc8cff",cyan:"#39c5cf",white:"#b1bac4",brightBlack:"#6e7681",brightRed:"#ffa198",brightGreen:"#56d364",brightYellow:"#e3b341",brightBlue:"#79c0ff",brightMagenta:"#d2a8ff",brightCyan:"#56d4dd",brightWhite:"#f0f6fc"},scrollback:5e3,convertEol:!0}),t=new Ta.FitAddon;e.loadAddon(t),e.open(T.current),t.fit(),A.current=e,R.current=t,e.onData(e=>{M(e)});const r=()=>{R.current&&(R.current.fit(),I())};return window.addEventListener("resize",r),B(),()=>{window.removeEventListener("resize",r)}}},[y.step,M,I,B]),(0,t.useEffect)(()=>()=>{D.current&&clearInterval(D.current),A.current&&(A.current.dispose(),A.current=null)},[]);const z=async()=>{if(D.current&&clearInterval(D.current),C)try{await fetch("/api/admin/ssh/disconnect",{method:"POST",headers:{Authorization:"Bearer ".concat(N),"Content-Type":"application/json"},body:JSON.stringify({session_id:C})})}catch(YM){console.error("Disconnect error:",YM)}A.current&&(A.current.dispose(),A.current=null),E(null),_(""),k(""),b({open:!1,node:null,step:"password"})},F=e=>{if(!e)return"0 B";const t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["B","KB","MB","GB","TB"][t]},H=e=>{if(!e)return"N/A";const t=parseInt(e),r=Math.floor(t/86400),n=Math.floor(t%86400/3600),i=Math.floor(t%3600/60);return r>0?"".concat(r,"\u0434 ").concat(n,"\u0447"):n>0?"".concat(n,"\u0447 ").concat(i,"\u043c"):"".concat(i,"\u043c")},U=e=>{if(!e)return"\ud83c\udf10";return{FR:"\ud83c\uddeb\ud83c\uddf7",DE:"\ud83c\udde9\ud83c\uddea",NL:"\ud83c\uddf3\ud83c\uddf1",US:"\ud83c\uddfa\ud83c\uddf8",GB:"\ud83c\uddec\ud83c\udde7",UA:"\ud83c\uddfa\ud83c\udde6",PL:"\ud83c\uddf5\ud83c\uddf1",FI:"\ud83c\uddeb\ud83c\uddee",SE:"\ud83c\uddf8\ud83c\uddea",NO:"\ud83c\uddf3\ud83c\uddf4",RU:"\ud83c\uddf7\ud83c\uddfa",CA:"\ud83c\udde8\ud83c\udde6",JP:"\ud83c\uddef\ud83c\uddf5",SG:"\ud83c\uddf8\ud83c\uddec",AU:"\ud83c\udde6\ud83c\uddfa",KR:"\ud83c\uddf0\ud83c\uddf7",HK:"\ud83c\udded\ud83c\uddf0",TR:"\ud83c\uddf9\ud83c\uddf7",IT:"\ud83c\uddee\ud83c\uddf9",ES:"\ud83c\uddea\ud83c\uddf8"}[e.toUpperCase()]||"\ud83c\udf10"},W={total:e.length,online:e.filter(e=>e.isConnected&&!e.isDisabled).length,offline:e.filter(e=>!e.isConnected&&!e.isDisabled).length,disabled:e.filter(e=>e.isDisabled).length,totalUsers:e.reduce((e,t)=>e+(t.usersOnline||0),0),totalTraffic:e.reduce((e,t)=>e+(t.trafficUsedBytes||0),0)};return(0,Ft.jsxs)("main",{className:"admin-page-content",children:[(0,Ft.jsxs)("section",{children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",flexWrap:"wrap",gap:"12px"},children:[(0,Ft.jsxs)("h2",{style:{color:"var(--text-primary)",margin:0,display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ft.jsx)(di,{})," \u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043d\u043e\u0434\u0430\u043c\u0438"]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:[(0,Ft.jsxs)("button",{className:"btn",onClick:()=>L(),disabled:o,style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ft.jsx)(li,{style:{animation:o?"spin 1s linear infinite":"none"}}),"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"]}),(0,Ft.jsxs)("button",{className:"btn btn-danger",onClick:async()=>{if(window.confirm("\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0412\u0421\u0415 \u043d\u043e\u0434\u044b?")){f(!0);try{if(!(await fetch("/api/admin/nodes/restart-all",{method:"POST",headers:{Authorization:"Bearer ".concat(N)}})).ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430");setTimeout(()=>L(),3e3)}catch(YM){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(YM.message))}finally{f(!1)}}},disabled:h,style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ft.jsx)(oi,{style:{animation:h?"spin 1s linear infinite":"none"}}),h?"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a...":"\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u0432\u0441\u0435"]})]})]}),!n&&!a&&e.length>0&&(0,Ft.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(140px, 1fr))",gap:"16px",marginBottom:"24px"},children:[(0,Ft.jsxs)("div",{style:{background:"var(--surface-muted)",borderRadius:"12px",padding:"16px",textAlign:"center"},children:[(0,Ft.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:"var(--text-primary)"},children:W.total}),(0,Ft.jsx)("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginTop:"4px"},children:"\u0412\u0441\u0435\u0433\u043e"})]}),(0,Ft.jsxs)("div",{style:{background:"rgba(16, 185, 129, 0.1)",borderRadius:"12px",padding:"16px",textAlign:"center",border:"1px solid rgba(16, 185, 129, 0.2)"},children:[(0,Ft.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:"#10b981"},children:W.online}),(0,Ft.jsx)("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginTop:"4px"},children:"Online"})]}),(0,Ft.jsxs)("div",{style:{background:"rgba(239, 68, 68, 0.1)",borderRadius:"12px",padding:"16px",textAlign:"center",border:"1px solid rgba(239, 68, 68, 0.2)"},children:[(0,Ft.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:"#ef4444"},children:W.offline}),(0,Ft.jsx)("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginTop:"4px"},children:"Offline"})]}),(0,Ft.jsxs)("div",{style:{background:"var(--surface-muted)",borderRadius:"12px",padding:"16px",textAlign:"center"},children:[(0,Ft.jsx)("div",{style:{fontSize:"28px",fontWeight:"700",color:"var(--accent-primary)"},children:W.totalUsers}),(0,Ft.jsx)("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginTop:"4px"},children:"\u042e\u0437\u0435\u0440\u043e\u0432"})]}),(0,Ft.jsxs)("div",{style:{background:"var(--surface-muted)",borderRadius:"12px",padding:"16px",textAlign:"center"},children:[(0,Ft.jsx)("div",{style:{fontSize:"24px",fontWeight:"700",color:"var(--text-primary)"},children:F(W.totalTraffic)}),(0,Ft.jsx)("div",{style:{fontSize:"13px",color:"var(--text-secondary)",marginTop:"4px"},children:"\u0422\u0440\u0430\u0444\u0438\u043a"})]})]}),n&&(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u043e\u0434..."}),a&&(0,Ft.jsx)("div",{className:"message-error",children:a}),!n&&!a&&(0,Ft.jsx)(Ft.Fragment,{children:0===e.length?(0,Ft.jsx)("div",{className:"loading-mini",children:"\u041d\u043e\u0434\u044b \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}):(0,Ft.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(360px, 1fr))",gap:"20px"},children:e.map((e,t)=>{var r,n;const i=(e=>e.isDisabled?"disabled":e.isConnecting?"connecting":e.isConnected?"online":"offline")(e),a=(e=>{const t={online:{color:"#10b981",bg:"rgba(16, 185, 129, 0.15)",label:"Online"},offline:{color:"#ef4444",bg:"rgba(239, 68, 68, 0.15)",label:"Offline"},disabled:{color:"#6b7280",bg:"rgba(107, 114, 128, 0.15)",label:"Disabled"},connecting:{color:"#f59e0b",bg:"rgba(245, 158, 11, 0.15)",label:"Connecting"}};return t[e]||t.offline})(i);return(0,Ft.jsxs)("div",{style:{background:"var(--glass-bg)",border:"1px solid var(--glass-border)",borderRadius:"16px",padding:"20px",position:"relative",overflow:"hidden"},children:[(0,Ft.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:a.color}}),(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[(0,Ft.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:a.bg,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"24px"},children:U(e.countryCode)}),(0,Ft.jsxs)("div",{style:{flex:1,minWidth:0},children:[(0,Ft.jsx)("h3",{style:{margin:0,fontSize:"16px",fontWeight:700,color:"var(--text-primary)",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:e.name||"Unnamed"}),(0,Ft.jsxs)("div",{style:{fontSize:"13px",color:"var(--text-secondary)",display:"flex",alignItems:"center",gap:"4px",marginTop:"4px"},children:[e.address,":",e.port]})]})]}),(0,Ft.jsxs)("div",{style:{padding:"4px 10px",borderRadius:"8px",background:a.bg,color:a.color,fontSize:"12px",fontWeight:600,display:"flex",alignItems:"center",gap:"6px"},children:[(0,Ft.jsx)("span",{style:{width:"8px",height:"8px",borderRadius:"50%",background:a.color}}),a.label]})]}),(0,Ft.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px",marginBottom:"16px"},children:[(0,Ft.jsxs)("div",{style:{background:"var(--surface-muted)",borderRadius:"10px",padding:"12px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Ft.jsx)(Ei,{style:{color:"var(--accent-primary)",fontSize:"18px"}}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{style:{fontSize:"16px",fontWeight:"700",color:"var(--text-primary)"},children:null!==(r=e.usersOnline)&&void 0!==r?r:0}),(0,Ft.jsx)("div",{style:{fontSize:"10px",color:"var(--text-secondary)"},children:"\u041e\u043d\u043b\u0430\u0439\u043d"})]})]}),(0,Ft.jsxs)("div",{style:{background:"var(--surface-muted)",borderRadius:"10px",padding:"12px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Ft.jsx)(Nn,{style:{color:"#10b981",fontSize:"18px"}}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{style:{fontSize:"16px",fontWeight:"700",color:"var(--text-primary)"},children:H(e.xrayUptime)}),(0,Ft.jsx)("div",{style:{fontSize:"10px",color:"var(--text-secondary)"},children:"\u0410\u043f\u0442\u0430\u0439\u043c"})]})]}),(0,Ft.jsxs)("div",{style:{background:"var(--surface-muted)",borderRadius:"10px",padding:"12px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Ft.jsx)(yn,{style:{color:"#f59e0b",fontSize:"18px"}}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{style:{fontSize:"16px",fontWeight:"700",color:"var(--text-primary)"},children:F(e.trafficUsedBytes)}),(0,Ft.jsx)("div",{style:{fontSize:"10px",color:"var(--text-secondary)"},children:"\u0422\u0440\u0430\u0444\u0438\u043a"})]})]}),(0,Ft.jsxs)("div",{style:{background:"var(--surface-muted)",borderRadius:"10px",padding:"12px",display:"flex",alignItems:"center",gap:"10px"},children:[(0,Ft.jsx)(Tn,{style:{color:"#8b5cf6",fontSize:"18px"}}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("div",{style:{fontSize:"16px",fontWeight:"700",color:"var(--text-primary)"},children:[null!==(n=e.cpuCount)&&void 0!==n?n:"N/A"," / ",e.totalRam||"N/A"]}),(0,Ft.jsx)("div",{style:{fontSize:"10px",color:"var(--text-secondary)"},children:"CPU / RAM"})]})]})]}),(0,Ft.jsxs)("div",{style:{background:"var(--surface-muted)",borderRadius:"10px",padding:"10px 12px",marginBottom:"16px",fontSize:"12px"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"4px"},children:[(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)"},children:"Xray:"}),(0,Ft.jsx)("span",{style:{color:"var(--text-primary)"},children:e.xrayVersion||"N/A"})]}),(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)"},children:"Node:"}),(0,Ft.jsx)("span",{style:{color:"var(--text-primary)"},children:e.nodeVersion||"N/A"})]})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Ft.jsxs)("button",{onClick:()=>(e=>{b({open:!0,node:e,step:"password"}),_(""),k("")})(e),style:{flex:1,padding:"10px",borderRadius:"8px",border:"1px solid var(--border-color)",background:"var(--surface-muted)",color:"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",fontSize:"13px",fontWeight:"600"},children:[(0,Ft.jsx)(bi,{})," SSH"]}),(0,Ft.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("\u041f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c \u043d\u043e\u0434\u0443?")){d(e);try{if(!(await fetch("/api/admin/nodes/".concat(e,"/restart"),{method:"POST",headers:{Authorization:"Bearer ".concat(N)}})).ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0443\u0441\u043a\u0430");setTimeout(()=>L(),2e3)}catch(YM){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(YM.message))}finally{d(null)}}})(e.uuid),disabled:c===e.uuid,style:{flex:1,padding:"10px",borderRadius:"8px",border:"none",background:"var(--accent-primary)",color:"white",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",fontSize:"13px",fontWeight:"600",opacity:c===e.uuid?.6:1},children:[(0,Ft.jsx)(oi,{style:{animation:c===e.uuid?"spin 1s linear infinite":"none"}}),"Restart"]}),e.isDisabled?(0,Ft.jsx)("button",{onClick:()=>(async e=>{m(e);try{await fetch("/api/admin/nodes/".concat(e,"/enable"),{method:"POST",headers:{Authorization:"Bearer ".concat(N)}}),setTimeout(()=>L(),1e3)}catch(YM){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(YM.message))}finally{m(null)}})(e.uuid),disabled:p===e.uuid,style:{padding:"10px 14px",borderRadius:"8px",border:"none",background:"#10b981",color:"white",cursor:"pointer"},children:(0,Ft.jsx)(ai,{})}):(0,Ft.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u043d\u043e\u0434\u0443?")){v(e);try{await fetch("/api/admin/nodes/".concat(e,"/disable"),{method:"POST",headers:{Authorization:"Bearer ".concat(N)}}),setTimeout(()=>L(),1e3)}catch(YM){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(YM.message))}finally{v(null)}}})(e.uuid),disabled:g===e.uuid,style:{padding:"10px 14px",borderRadius:"8px",border:"none",background:"#ef4444",color:"white",cursor:"pointer"},children:(0,Ft.jsx)(vi,{})})]})]},e.uuid||t)})})})]}),y.open&&y.node&&(0,Ft.jsx)("div",{onClick:"password"===y.step?z:void 0,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:(0,Ft.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{background:"terminal"===y.step?"#0d1117":"var(--bg-primary)",borderRadius:"16px",width:"terminal"===y.step?"95%":"400px",maxWidth:"terminal"===y.step?"1400px":"400px",height:"terminal"===y.step?"85vh":"auto",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)",overflow:"hidden"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"16px 20px",borderBottom:"1px solid rgba(255,255,255,0.1)",background:"terminal"===y.step?"#161b22":"transparent"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ft.jsx)("span",{style:{fontSize:"20px"},children:U(y.node.countryCode)}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("div",{style:{fontWeight:"600",color:"terminal"===y.step?"#c9d1d9":"var(--text-primary)"},children:y.node.name}),(0,Ft.jsxs)("div",{style:{fontSize:"12px",color:"terminal"===y.step?"#8b949e":"var(--text-secondary)"},children:["root@",y.node.address]})]})]}),(0,Ft.jsxs)("button",{onClick:z,style:{background:"rgba(239, 68, 68, 0.2)",border:"none",color:"#ef4444",padding:"8px 12px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"13px",fontWeight:"600"},children:[(0,Ft.jsx)(Pi,{size:16}),"terminal"===y.step?"\u041e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f":"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"]})]}),"password"===y.step?(0,Ft.jsxs)("div",{style:{padding:"24px"},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"20px",textAlign:"center"},children:[(0,Ft.jsx)(Xn,{size:48,style:{color:"var(--accent-primary)",marginBottom:"12px"}}),(0,Ft.jsx)("h3",{style:{margin:0,color:"var(--text-primary)"},children:"SSH \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435"}),(0,Ft.jsx)("p",{style:{color:"var(--text-secondary)",fontSize:"14px",margin:"8px 0 0"},children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c \u0434\u043b\u044f root"})]}),j&&(0,Ft.jsx)("div",{style:{background:"rgba(239, 68, 68, 0.1)",border:"1px solid rgba(239, 68, 68, 0.3)",borderRadius:"8px",padding:"12px",color:"#ef4444",fontSize:"14px",marginBottom:"16px",textAlign:"center"},children:j}),(0,Ft.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async()=>{if(x&&y.node){S(!0),k("");try{const e=await fetch("/api/admin/ssh/connect",{method:"POST",headers:{Authorization:"Bearer ".concat(N),"Content-Type":"application/json"},body:JSON.stringify({host:y.node.address,port:22,username:"root",password:x})}),t=await e.json();if(!e.ok)throw new Error(t.error||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f");E(t.session_id),b(u(u({},y),{},{step:"terminal"}))}catch(e){k(e.message)}finally{S(!1)}}})()},children:[(0,Ft.jsx)("input",{type:"password",value:x,onChange:e=>_(e.target.value),placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c root",autoFocus:!0,style:{width:"100%",padding:"14px 16px",borderRadius:"10px",border:"1px solid var(--border-color)",background:"var(--surface-muted)",color:"var(--text-primary)",fontSize:"16px",marginBottom:"16px",boxSizing:"border-box"}}),(0,Ft.jsx)("button",{type:"submit",disabled:w||!x,style:{width:"100%",padding:"14px",borderRadius:"10px",border:"none",background:"linear-gradient(135deg, var(--accent-primary), #60a5fa)",color:"white",fontSize:"16px",fontWeight:"600",cursor:w?"not-allowed":"pointer",opacity:w||!x?.6:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:w?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(li,{style:{animation:"spin 1s linear infinite"}}),"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435..."]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(bi,{}),"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f"]})})]}),(0,Ft.jsxs)("div",{style:{marginTop:"20px",padding:"12px",background:"var(--surface-muted)",borderRadius:"8px"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,Ft.jsx)("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"IP:"}),(0,Ft.jsxs)("button",{onClick:()=>(async(e,t)=>{try{await navigator.clipboard.writeText(e),P(t),setTimeout(()=>P(null),2e3)}catch(YM){}})(y.node.address,"ip"),style:{background:"transparent",border:"none",color:"ip"===O?"#10b981":"var(--text-primary)",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"13px",fontFamily:"monospace"},children:[y.node.address,"ip"===O?(0,Ft.jsx)(kn,{size:14}):(0,Ft.jsx)(An,{size:14})]})]}),(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,Ft.jsx)("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:"User:"}),(0,Ft.jsx)("span",{style:{fontSize:"13px",color:"var(--text-primary)",fontFamily:"monospace"},children:"root"})]})]})]}):(0,Ft.jsx)("div",{ref:T,style:{flex:1,padding:"8px",background:"#0d1117",minHeight:"400px"}})]})}),(0,Ft.jsx)("style",{children:"\n        @keyframes spin {\n          from { transform: rotate(0deg); }\n          to { transform: rotate(360deg); }\n        }\n      "})]})};const Da=function(){const[e,r]=(0,t.useState)([]),[n,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(1),[c,u]=(0,t.useState)(1),{token:d}=Wt();(0,t.useEffect)(()=>{d&&(async()=>{i(!0),s(null);try{const e=50*(o-1),t=await fetch("/api/admin/sales?limit=".concat(50,"&offset=").concat(e),{headers:{Authorization:"Bearer ".concat(d)}});if(!t.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043f\u0440\u043e\u0434\u0430\u0436\u0438");const n=await t.json(),i=Array.isArray(n)?n:[];r(i),i.length<50?u(o):u(o+1)}catch(YM){s(YM.message)}finally{i(!1)}})()},[d,o]);const h=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("ru-RU",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})};return n&&0===e.length?(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043e\u0442\u0447\u0435\u0442\u043e\u0432 \u043f\u043e \u043f\u0440\u043e\u0434\u0430\u0436\u0430\u043c..."})})}):a?(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"message-error",children:a})})}):(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{children:"\u041e\u0442\u0447\u0435\u0442\u044b \u043f\u043e \u043f\u0440\u043e\u0434\u0430\u0436\u0430\u043c"}),(0,Ft.jsx)("p",{className:"admin-description-text",children:"\u0417\u0434\u0435\u0441\u044c \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0432\u0441\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u044b\u0435 \u043f\u0440\u043e\u0434\u0430\u0436\u0438 \u0441 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0439 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0435\u0439 \u043e \u043a\u0430\u0436\u0434\u043e\u0439 \u0442\u0440\u0430\u043d\u0437\u0430\u043a\u0446\u0438\u0438."}),0===e.length?(0,Ft.jsx)("div",{className:"loading-mini",children:"\u041f\u0440\u043e\u0434\u0430\u0436\u0438 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b"}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("div",{className:"sales-table-wrapper",children:(0,Ft.jsxs)("table",{className:"sales-table",children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("th",{children:"\u0414\u0430\u0442\u0430"}),(0,Ft.jsx)("th",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),(0,Ft.jsx)("th",{children:"\u0422\u0430\u0440\u0438\u0444"}),(0,Ft.jsx)("th",{children:"\u0421\u0443\u043c\u043c\u0430"}),(0,Ft.jsx)("th",{children:"\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440"}),(0,Ft.jsx)("th",{children:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"}),(0,Ft.jsx)("th",{children:"Order ID"})]})}),(0,Ft.jsx)("tbody",{children:e.map(e=>{var t,r,n,i,a,s,o,l;return(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("td",{children:h(e.date)}),(0,Ft.jsx)("td",{children:(0,Ft.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,Ft.jsx)("span",{style:{fontWeight:500},children:(null===(t=e.user)||void 0===t?void 0:t.email)||"N/A"}),(null===(r=e.user)||void 0===r?void 0:r.telegram_username)&&(0,Ft.jsxs)("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:["@",e.user.telegram_username]}),(null===(n=e.user)||void 0===n?void 0:n.telegram_id)&&(0,Ft.jsxs)("span",{style:{fontSize:"11px",color:"var(--text-secondary)",fontFamily:"monospace"},children:["ID: ",e.user.telegram_id]})]})}),(0,Ft.jsx)("td",{children:(0,Ft.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,Ft.jsx)("span",{style:{fontWeight:500},children:(null===(i=e.tariff)||void 0===i?void 0:i.name)||"N/A"}),(null===(a=e.tariff)||void 0===a?void 0:a.duration_days)&&(0,Ft.jsxs)("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:[e.tariff.duration_days," \u0434\u043d."]})]})}),(0,Ft.jsx)("td",{style:{fontWeight:600},children:(o=e.amount,l=e.currency,"".concat({USD:"$",UAH:"\u20b4",RUB:"\u20bd"}[l]||l).concat(parseFloat(o).toFixed(2)))}),(0,Ft.jsx)("td",{children:(0,Ft.jsx)("span",{className:"provider-badge",children:(s=e.payment_provider,{crystalpay:"CrystalPay",heleket:"Heleket",yookassa:"YooKassa",platega:"Platega",mulenpay:"Mulenpay",urlpay:"UrlPay",telegram_stars:"Telegram Stars",balance:"\u0411\u0430\u043b\u0430\u043d\u0441"}[s]||s||"N/A")})}),(0,Ft.jsx)("td",{children:e.promo_code?(0,Ft.jsx)("span",{className:"promo-badge",children:e.promo_code}):(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)"},children:"\u2014"})}),(0,Ft.jsx)("td",{children:(0,Ft.jsx)("span",{className:"code-cell",style:{fontSize:"11px"},children:e.order_id||"N/A"})})]},e.id)})})]})}),(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"24px",flexWrap:"wrap",gap:"12px"},children:[(0,Ft.jsxs)("div",{style:{color:"var(--text-secondary)",fontSize:"14px"},children:["\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 ",o," ",c>1&&"\u0438\u0437 ".concat(c)]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,Ft.jsx)("button",{className:"btn btn-secondary",onClick:()=>l(e=>Math.max(1,e-1)),disabled:1===o||n,style:{width:"auto",padding:"8px 16px"},children:"\u041d\u0430\u0437\u0430\u0434"}),(0,Ft.jsx)("button",{className:"btn btn-secondary",onClick:()=>l(e=>e+1),disabled:e.length<50||n,style:{width:"auto",padding:"8px 16px"},children:"\u0412\u043f\u0435\u0440\u0435\u0434"})]})]})]})]})})};const La=function(){const[e,r]=(0,t.useState)({}),[n,i]=(0,t.useState)([]),[a,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[h,f]=(0,t.useState)(null),{token:p}=Wt();return(0,t.useEffect)(()=>{p&&(async()=>{s(!0),d(null);try{const e=await fetch("/api/admin/tariff-levels",{headers:{Authorization:"Bearer ".concat(p)}});if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0443\u0440\u043e\u0432\u043d\u0438");const t=await e.json();i(t);const n=await fetch("/api/admin/tariff-features",{headers:{Authorization:"Bearer ".concat(p)}});if(!n.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u0438");const a=await n.json();r(a)}catch(YM){d(YM.message)}finally{s(!1)}})()},[p]),a?(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}):(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{className:"admin-page-title",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0442\u0430\u0440\u0438\u0444\u043e\u0432"}),(0,Ft.jsxs)("p",{className:"admin-description-text",children:["\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u0444\u0443\u043d\u043a\u0446\u0438\u0439, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u0434\u043b\u044f \u043a\u0430\u0436\u0434\u043e\u0433\u043e \u0443\u0440\u043e\u0432\u043d\u044f \u0442\u0430\u0440\u0438\u0444\u0430. \u0423\u0440\u043e\u0432\u043d\u0438 \u0442\u0430\u0440\u0438\u0444\u043e\u0432 \u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0438\u043c\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 ",(0,Ft.jsx)("a",{href:"/admin/tariff-levels",style:{color:"var(--primary)"},children:"\u0423\u0440\u043e\u0432\u043d\u0438 \u0442\u0430\u0440\u0438\u0444\u043e\u0432"}),"."]}),c&&(0,Ft.jsx)("div",{className:"message-error",children:c}),0===n.length?(0,Ft.jsx)("div",{className:"empty-state",children:(0,Ft.jsxs)("p",{children:["\u041d\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0443\u0440\u043e\u0432\u043d\u0435\u0439 \u0442\u0430\u0440\u0438\u0444\u043e\u0432. \u0421\u043e\u0437\u0434\u0430\u0439\u0442\u0435 \u0443\u0440\u043e\u0432\u043d\u0438 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 ",(0,Ft.jsx)("a",{href:"/admin/tariff-levels",style:{color:"var(--primary)"},children:"\u0423\u0440\u043e\u0432\u043d\u0438 \u0442\u0430\u0440\u0438\u0444\u043e\u0432"}),"."]})}):(0,Ft.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),d(null),f(null);try{const t=await fetch("/api/admin/tariff-features",{method:"POST",headers:{Authorization:"Bearer ".concat(p),"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f");f("success"),setTimeout(()=>f(null),2e3)}catch(t){d(t.message),f("error")}finally{l(!1)}},children:[n.map((t,n)=>{const i=t.code,a=e[i]||[],s=(e=>{const t=["var(--accent-primary)","var(--accent-orange)","var(--accent-purple)","#10b981","#3b82f6","#8b5cf6","#ec4899"];return t[e%t.length]})(n);return(0,Ft.jsxs)("div",{className:"tariff-feature-tier-card",children:[(0,Ft.jsxs)("h3",{className:"tariff-feature-tier-title",style:{color:s},children:[(0,Ft.jsx)("span",{className:"tier-indicator",style:{background:s}}),t.name," (",i,")"]}),(0,Ft.jsxs)("div",{className:"tariff-feature-list",children:[a.map((e,t)=>(0,Ft.jsxs)("div",{className:"tariff-feature-item",children:[(0,Ft.jsx)("input",{type:"text",value:e,onChange:e=>((e,t,n)=>{r(r=>u(u({},r),{},{[e]:(r[e]||[]).map((e,r)=>r===t?n:e)}))})(i,t,e.target.value),className:"tariff-feature-input",placeholder:"\u0424\u0443\u043d\u043a\u0446\u0438\u044f ".concat(t+1)}),(0,Ft.jsx)("button",{type:"button",onClick:()=>((e,t)=>{r(r=>u(u({},r),{},{[e]:(r[e]||[]).filter((e,r)=>r!==t)}))})(i,t),className:"btn-table-delete",disabled:a.length<=1,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},t)),(0,Ft.jsx)("button",{type:"button",onClick:()=>{return e=i,void r(t=>u(u({},t),{},{[e]:[...t[e]||[],""]}));var e},className:"btn",style:{maxWidth:"200px",marginTop:"10px"},children:"+ \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0443\u043d\u043a\u0446\u0438\u044e"})]})]},i)}),(0,Ft.jsxs)("div",{className:"tariff-feature-actions",children:[(0,Ft.jsx)("button",{type:"submit",className:"btn",style:{maxWidth:"200px"},disabled:o,children:o?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),"success"===h&&(0,Ft.jsx)("div",{className:"message-success",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!"})]})]})]})})};const Ma=function(){const[e,r]=(0,t.useState)([]),[n,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,u]=(0,t.useState)(null),{token:d}=Wt(),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)(!1),[y,b]=(0,t.useState)(null),[x,_]=(0,t.useState)(""),[w,S]=(0,t.useState)(0),j=async()=>{i(!0),l(null);try{const e=await fetch("/api/admin/tariff-levels",{headers:{Authorization:"Bearer ".concat(d)}});if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0443\u0440\u043e\u0432\u043d\u0438");const t=await e.json();r(t)}catch(YM){l(YM.message)}finally{i(!1)}};return(0,t.useEffect)(()=>{d&&j()},[d]),n?(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"loading-full",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}):(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{className:"admin-page-title",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f\u043c\u0438 \u0442\u0430\u0440\u0438\u0444\u043e\u0432"}),(0,Ft.jsx)("p",{className:"admin-description-text",children:"\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043e\u0437\u0434\u0430\u0432\u0430\u0442\u044c \u0438 \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0443\u0440\u043e\u0432\u043d\u044f\u043c\u0438 \u0442\u0430\u0440\u0438\u0444\u043e\u0432 (\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f\u043c\u0438). \u0423\u0440\u043e\u0432\u043d\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0438 \u0442\u0430\u0440\u0438\u0444\u043e\u0432 \u0438 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044e\u0442\u0441\u044f \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0438 \u0432 \u043c\u0438\u043d\u0438-\u0430\u043f\u043f\u0435."}),o&&(0,Ft.jsx)("div",{className:"message-error",children:o}),c&&(0,Ft.jsx)("div",{className:"message-success",children:c}),(0,Ft.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:()=>v(!g),style:{marginBottom:"1rem"},children:g?"\u2716\ufe0f \u041e\u0442\u043c\u0435\u043d\u0430":"\u2795 \u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c"}),g&&(0,Ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),h.trim()&&p.trim()){s(!0),l(null);try{const e=await fetch("/api/admin/tariff-levels",{method:"POST",headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json"},body:JSON.stringify({action:"create",code:h.trim().toLowerCase(),name:p.trim()})}),t=await e.json();if(!e.ok)throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f");await j(),f(""),m(""),v(!1),u("\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d"),setTimeout(()=>u(null),3e3)}catch(e){l(e.message)}finally{s(!1)}}else l("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f")},style:{padding:"1.5rem",border:"1px solid var(--border-color)",borderRadius:"8px",marginBottom:"1.5rem",background:"var(--bg-secondary)"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"1rem"},children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0440\u043e\u0432\u0435\u043d\u044c"}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{className:"form-label",children:"\u041a\u043e\u0434 \u0443\u0440\u043e\u0432\u043d\u044f (\u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440)"}),(0,Ft.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),className:"form-input",placeholder:"\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: premium, vip, starter",required:!0,pattern:"[a-z0-9_]+",title:"\u0422\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b \u0438 \u043f\u043e\u0434\u0447\u0435\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u0435"}),(0,Ft.jsx)("p",{className:"form-hint",children:"\u041a\u043e\u0434 \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c \u0438 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0442\u0440\u043e\u0447\u043d\u044b\u0435 \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b \u0438 \u043f\u043e\u0434\u0447\u0435\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u0435. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0435 \u0434\u043b\u044f \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 \u0443\u0440\u043e\u0432\u043d\u044f."})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{className:"form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f"}),(0,Ft.jsx)("input",{type:"text",value:p,onChange:e=>m(e.target.value),className:"form-input",placeholder:"\u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u041f\u0440\u0435\u043c\u0438\u0443\u043c, VIP, \u0421\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0439",required:!0,maxLength:100}),(0,Ft.jsx)("p",{className:"form-hint",children:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u043c\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f. \u0411\u0443\u0434\u0435\u0442 \u043f\u043e\u043a\u0430\u0437\u0430\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u043d\u0430 \u0441\u0430\u0439\u0442\u0435 \u0438 \u0432 \u043c\u0438\u043d\u0438-\u0430\u043f\u043f\u0435."})]}),(0,Ft.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:a,children:a?"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435...":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0443\u0440\u043e\u0432\u0435\u043d\u044c"})]})]}),(0,Ft.jsxs)("div",{style:{marginTop:"2rem"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"1rem"},children:"\u0421\u043f\u0438\u0441\u043e\u043a \u0443\u0440\u043e\u0432\u043d\u0435\u0439"}),0===e.length?(0,Ft.jsx)("div",{className:"empty-state",children:(0,Ft.jsx)("p",{children:"\u041d\u0435\u0442 \u0441\u043e\u0437\u0434\u0430\u043d\u043d\u044b\u0445 \u0443\u0440\u043e\u0432\u043d\u0435\u0439 \u0442\u0430\u0440\u0438\u0444\u043e\u0432."})}):(0,Ft.jsx)("div",{className:"table-wrapper",children:(0,Ft.jsxs)("table",{className:"users-table",children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("th",{children:"\u041a\u043e\u0434"}),(0,Ft.jsx)("th",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,Ft.jsx)("th",{children:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a"}),(0,Ft.jsx)("th",{children:"\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"}),(0,Ft.jsx)("th",{children:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"})]})}),(0,Ft.jsx)("tbody",{children:e.map(e=>(0,Ft.jsxs)("tr",{children:[(0,Ft.jsx)("td",{children:(0,Ft.jsx)("code",{children:e.code})}),(0,Ft.jsx)("td",{children:e.name}),(0,Ft.jsx)("td",{children:e.display_order}),(0,Ft.jsx)("td",{children:e.is_default?"\u2705":"\u2014"}),(0,Ft.jsxs)("td",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[(0,Ft.jsx)("button",{className:"btn-table-edit",onClick:()=>(e=>{b(e),_(e.name),S(e.display_order)})(e),disabled:a,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"}),!e.is_default&&(0,Ft.jsx)("button",{className:"btn-table-delete",onClick:()=>(async e=>{if(window.confirm('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0443\u0440\u043e\u0432\u0435\u043d\u044c "'.concat(e.name,'"? \u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0442\u043c\u0435\u043d\u0438\u0442\u044c.'))){s(!0),l(null);try{const t=await fetch("/api/admin/tariff-levels",{method:"POST",headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json"},body:JSON.stringify({action:"delete",id:e.id})}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f");await j(),u("\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d"),setTimeout(()=>u(null),3e3)}catch(YM){l(YM.message)}finally{s(!1)}}})(e),disabled:a,children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]},e.id))})]})})]}),y&&(0,Ft.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,Ft.jsxs)("div",{style:{background:"var(--bg-primary)",padding:"2rem",borderRadius:"12px",maxWidth:"500px",width:"100%"},children:[(0,Ft.jsxs)("h3",{style:{marginBottom:"1rem"},children:["\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0440\u043e\u0432\u0435\u043d\u044c: ",y.code]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{className:"form-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0443\u0440\u043e\u0432\u043d\u044f"}),(0,Ft.jsx)("input",{type:"text",value:x,onChange:e=>_(e.target.value),className:"form-input",maxLength:100})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{className:"form-label",children:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"}),(0,Ft.jsx)("input",{type:"number",value:w,onChange:e=>S(parseInt(e.target.value)||0),className:"form-input",min:0})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"10px",marginTop:"1.5rem"},children:[(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:async()=>{if(y){s(!0),l(null);try{const e=await fetch("/api/admin/tariff-levels",{method:"POST",headers:{Authorization:"Bearer ".concat(d),"Content-Type":"application/json"},body:JSON.stringify({action:"update",id:y.id,name:x.trim(),display_order:w})}),t=await e.json();if(!e.ok)throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f");await j(),b(null),u("\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d"),setTimeout(()=>u(null),3e3)}catch(YM){l(YM.message)}finally{s(!1)}}},disabled:a,children:a?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"}),(0,Ft.jsx)("button",{className:"btn",onClick:()=>b(null),disabled:a,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})})]})})};const Ia=function(){const[e,r]=(0,t.useState)({default_language:"ru",default_currency:"uah",show_language_currency_switcher:!0,active_languages:["ru","ua","en","cn"],active_currencies:["uah","rub","usd"]}),[n,i]=(0,t.useState)({UAH:{rate_to_usd:40,updated_at:null},RUB:{rate_to_usd:100,updated_at:null},USD:{rate_to_usd:1,updated_at:null}}),[a,s]=(0,t.useState)(!0),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(null),[p,m]=(0,t.useState)(null),[g,v]=(0,t.useState)(null),[y,b]=(0,t.useState)(null),{token:x}=Wt();(0,t.useEffect)(()=>{x&&(async()=>{s(!0),f(null);try{const[e,t]=await Promise.all([fetch("/api/admin/system-settings",{headers:{Authorization:"Bearer ".concat(x)}}),fetch("/api/admin/currency-rates",{headers:{Authorization:"Bearer ".concat(x)}})]);if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438");const n=await e.json();if(r(u(u({},n),{},{active_languages:n.active_languages||["ru","ua","en","cn"],active_currencies:n.active_currencies||["uah","rub","usd"]})),t.ok){const e=await t.json();i(t=>e.rates||t)}}catch(YM){f(YM.message)}finally{s(!1)}})()},[x]);const _=(e,t)=>{r(r=>u(u({},r),{},{[e]:t}))};return a?(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}):(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{className:"admin-page-title",children:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,Ft.jsx)("p",{className:"admin-description-text",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u044f\u0437\u044b\u043a \u0438 \u0432\u0430\u043b\u044e\u0442\u0443 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e \u0434\u043b\u044f \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439. \u042d\u0442\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0431\u0443\u0434\u0443\u0442 \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c\u0441\u044f \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438."}),h&&(0,Ft.jsx)("div",{className:"message-error",children:h}),(0,Ft.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),l(!0),f(null),v(null);try{const t=await fetch("/api/admin/system-settings",{method:"POST",headers:{Authorization:"Bearer ".concat(x),"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f");v("success"),setTimeout(()=>v(null),2e3)}catch(t){f(t.message),v("error")}finally{l(!1)}},children:[(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"default_language",className:"settings-label",children:"\u042f\u0437\u044b\u043a \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"}),(0,Ft.jsxs)("select",{id:"default_language",value:e.default_language,onChange:e=>_("default_language",e.target.value),className:"settings-select",children:[(0,Ft.jsx)("option",{value:"ru",children:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439"}),(0,Ft.jsx)("option",{value:"ua",children:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"}),(0,Ft.jsx)("option",{value:"cn",children:"\u4e2d\u6587"}),(0,Ft.jsx)("option",{value:"en",children:"English"})]}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u042d\u0442\u043e\u0442 \u044f\u0437\u044b\u043a \u0431\u0443\u0434\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"default_currency",className:"settings-label",children:"\u0412\u0430\u043b\u044e\u0442\u0430 \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e"}),(0,Ft.jsxs)("select",{id:"default_currency",value:e.default_currency,onChange:e=>_("default_currency",e.target.value),className:"settings-select",children:[(0,Ft.jsx)("option",{value:"uah",children:"\u20b4 UAH (\u0413\u0440\u0438\u0432\u043d\u0430)"}),(0,Ft.jsx)("option",{value:"rub",children:"\u20bd RUB (\u0420\u0443\u0431\u043b\u044c)"}),(0,Ft.jsx)("option",{value:"usd",children:"$ USD (\u0414\u043e\u043b\u043b\u0430\u0440)"})]}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u042d\u0442\u0430 \u0432\u0430\u043b\u044e\u0442\u0430 \u0431\u0443\u0434\u0435\u0442 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0434\u043b\u044f \u0432\u0441\u0435\u0445 \u043d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsxs)("label",{htmlFor:"show_language_currency_switcher",className:"settings-label",children:[(0,Ft.jsx)("input",{type:"checkbox",id:"show_language_currency_switcher",checked:e.show_language_currency_switcher,onChange:e=>_("show_language_currency_switcher",e.target.checked),className:"settings-checkbox",style:{marginRight:"8px"}}),"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0430\u0442\u0435\u043b\u0438 \u044f\u0437\u044b\u043a\u0430 \u0438 \u0432\u0430\u043b\u044e\u0442\u044b \u0432 Dashboard"]}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0415\u0441\u043b\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e, \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438 \u043d\u0435 \u0441\u043c\u043e\u0433\u0443\u0442 \u0438\u0437\u043c\u0435\u043d\u044f\u0442\u044c \u044f\u0437\u044b\u043a \u0438 \u0432\u0430\u043b\u044e\u0442\u0443 \u0432 \u043a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u043e\u0439 \u043f\u0430\u043d\u0435\u043b\u0438."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",style:{marginTop:"30px"},children:[(0,Ft.jsx)("label",{className:"settings-label",style:{fontWeight:"bold",marginBottom:"15px",display:"block"},children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u044f\u0437\u044b\u043a\u0438"}),(0,Ft.jsx)("p",{className:"settings-hint",style:{marginBottom:"15px"},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044f\u0437\u044b\u043a\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430. \u0414\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u0438\u043d \u044f\u0437\u044b\u043a."}),(0,Ft.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"15px"},children:[{code:"ru",name:"\ud83c\uddf7\ud83c\uddfa RU"},{code:"ua",name:"\ud83c\uddfa\ud83c\udde6 UA"},{code:"en",name:"\ud83c\uddec\ud83c\udde7 EN"},{code:"cn",name:"\ud83c\udde8\ud83c\uddf3 CN"}].map(t=>(0,Ft.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"8px 12px",borderRadius:"8px",backgroundColor:(e.active_languages||[]).includes(t.code)?"var(--accent-color)":"var(--bg-secondary)",color:(e.active_languages||[]).includes(t.code)?"white":"var(--text-primary)",transition:"all 0.2s"},children:[(0,Ft.jsx)("input",{type:"checkbox",checked:(e.active_languages||[]).includes(t.code),onChange:()=>(e=>{r(t=>{const r=t.active_languages||[],n=r.includes(e)?r.filter(t=>t!==e):[...r,e];return 0===n.length?t:u(u({},t),{},{active_languages:n})})})(t.code),style:{display:"none"}}),(0,Ft.jsx)("span",{children:t.name})]},t.code))})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",style:{marginTop:"30px"},children:[(0,Ft.jsx)("label",{className:"settings-label",style:{fontWeight:"bold",marginBottom:"15px",display:"block"},children:"\u0410\u043a\u0442\u0438\u0432\u043d\u044b\u0435 \u0432\u0430\u043b\u044e\u0442\u044b"}),(0,Ft.jsx)("p",{className:"settings-hint",style:{marginBottom:"15px"},children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430. \u0414\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u0430 \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0430 \u0432\u0430\u043b\u044e\u0442\u0430."}),(0,Ft.jsx)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:"15px"},children:[{code:"uah",name:"\u20b4 UAH"},{code:"rub",name:"\u20bd RUB"},{code:"usd",name:"$ USD"}].map(t=>(0,Ft.jsxs)("label",{style:{display:"flex",alignItems:"center",cursor:"pointer",padding:"8px 12px",borderRadius:"8px",backgroundColor:(e.active_currencies||[]).includes(t.code)?"var(--accent-color)":"var(--bg-secondary)",color:(e.active_currencies||[]).includes(t.code)?"white":"var(--text-primary)",transition:"all 0.2s"},children:[(0,Ft.jsx)("input",{type:"checkbox",checked:(e.active_currencies||[]).includes(t.code),onChange:()=>(e=>{r(t=>{const r=t.active_currencies||[],n=r.includes(e)?r.filter(t=>t!==e):[...r,e];return 0===n.length?t:u(u({},t),{},{active_currencies:n})})})(t.code),style:{display:"none"}}),(0,Ft.jsx)("span",{children:t.name})]},t.code))})]}),(0,Ft.jsxs)("div",{className:"settings-actions",children:[(0,Ft.jsx)("button",{type:"submit",className:"btn",style:{maxWidth:"200px"},disabled:o,children:o?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),"success"===g&&(0,Ft.jsx)("div",{className:"message-success",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!"})]})]}),(0,Ft.jsxs)("div",{style:{marginTop:"40px",paddingTop:"40px",borderTop:"1px solid var(--glass-border)"},children:[(0,Ft.jsxs)("h2",{className:"admin-page-title",style:{marginBottom:"10px"},children:[(0,Ft.jsx)(_n,{style:{marginRight:"8px",verticalAlign:"middle"}}),"\u041a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442"]}),(0,Ft.jsx)("p",{className:"admin-description-text",style:{marginBottom:"30px"},children:"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0435 \u043a\u0443\u0440\u0441\u044b \u0432\u0430\u043b\u044e\u0442 \u043a USD. \u042d\u0442\u0438 \u043a\u0443\u0440\u0441\u044b \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e\u0442\u0441\u044f \u0434\u043b\u044f \u043a\u043e\u043d\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u0438 \u0431\u0430\u043b\u0430\u043d\u0441\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u0440\u0438 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0438 \u0432\u0430\u043b\u044e\u0442\u044b."}),p&&(0,Ft.jsx)("div",{className:"message-error",children:p}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0),m(null),b(null);try{const e=await fetch("/api/admin/currency-rates",{method:"POST",headers:{Authorization:"Bearer ".concat(x),"Content-Type":"application/json"},body:JSON.stringify({rates:n})}),t=await e.json();if(!e.ok)throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u043a\u0443\u0440\u0441\u043e\u0432");b("success"),setTimeout(()=>b(null),2e3)}catch(e){m(e.message),b("error")}finally{d(!1)}},children:[(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{className:"settings-label",style:{fontWeight:"bold",marginBottom:"15px",display:"block"},children:"\u041a\u0443\u0440\u0441 \u043a USD (1 USD = X \u0432\u0430\u043b\u044e\u0442\u044b)"}),["UAH","RUB"].map(e=>{var t,r;return(0,Ft.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ft.jsx)("label",{htmlFor:"rate_".concat(e),className:"settings-label",style:{display:"block",marginBottom:"8px"},children:"UAH"===e?"\u20b4 UAH (\u0413\u0440\u0438\u0432\u043d\u0430)":"\u20bd RUB (\u0420\u0443\u0431\u043b\u044c)"}),(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)"},children:"1 USD ="}),(0,Ft.jsx)("input",{type:"number",id:"rate_".concat(e),step:"0.01",min:"0.01",value:(null===(t=n[e])||void 0===t?void 0:t.rate_to_usd)||0,onChange:t=>((e,t)=>{i(r=>u(u({},r),{},{[e]:u(u({},r[e]),{},{rate_to_usd:parseFloat(t)||0})}))})(e,t.target.value),className:"settings-input",style:{flex:1,maxWidth:"200px",padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"},required:!0}),(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)"},children:e})]}),(null===(r=n[e])||void 0===r?void 0:r.updated_at)&&(0,Ft.jsxs)("p",{className:"settings-hint",style:{marginTop:"5px",fontSize:"12px"},children:["\u041e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u043e: ",new Date(n[e].updated_at).toLocaleString("ru-RU")]})]},e)}),(0,Ft.jsxs)("div",{style:{marginTop:"20px",padding:"15px",backgroundColor:"var(--bg-secondary)",borderRadius:"8px",fontSize:"14px",color:"var(--text-secondary)"},children:[(0,Ft.jsx)("strong",{children:"\u041f\u0440\u0438\u043c\u0435\u0447\u0430\u043d\u0438\u0435:"})," USD \u0432\u0441\u0435\u0433\u0434\u0430 \u0440\u0430\u0432\u0435\u043d 1.0 \u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d."]})]}),(0,Ft.jsxs)("div",{className:"settings-actions",children:[(0,Ft.jsx)("button",{type:"submit",className:"btn",style:{maxWidth:"200px"},disabled:c,children:c?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u0443\u0440\u0441\u044b"}),"success"===y&&(0,Ft.jsx)("div",{className:"message-success",children:"\u041a\u0443\u0440\u0441\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!"})]})]})]})]})})},Ba=[{key:"subscription_expiring_3days",icon:"\u23f0",iconBg:"linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%)",title:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f",subtitle:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0437\u0430 1\u20133 \u0434\u043d\u044f \u0434\u043e \u043e\u043a\u043e\u043d\u0447\u0430\u043d\u0438\u044f \u043f\u043b\u0430\u0442\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438. \u0412 \u0442\u0435\u043a\u0441\u0442 \u043f\u043e\u0434\u0441\u0442\u0430\u0432\u043b\u044f\u044e\u0442\u0441\u044f {days} \u0438 {days_word} (\u0434\u0435\u043d\u044c/\u0434\u043d\u044f/\u0434\u043d\u0435\u0439).",defaultText:"\u26a1 \u0412\u0430\u0448\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0438\u0441\u0442\u0435\u043a\u0430\u0435\u0442 \u0447\u0435\u0440\u0435\u0437 {days} {days_word}!\n\n\u041d\u0435 \u0442\u0435\u0440\u044f\u0439\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u043e\u043c\u0443 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0443. \u041f\u0440\u043e\u0434\u043b\u0438\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443 \u043f\u0440\u044f\u043c\u043e \u0441\u0435\u0439\u0447\u0430\u0441!",defaultButton:{text:"\ud83d\uded2 \u0422\u0430\u0440\u0438\u0444\u044b",action:"tariffs"}},{key:"trial_expiring",icon:"\ud83d\udd25",iconBg:"linear-gradient(135deg, #F093FB 0%, #F5576C 100%)",title:"\u0422\u0440\u0438\u0430\u043b \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f",subtitle:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043a\u043e\u0433\u0434\u0430 \u043f\u0440\u043e\u0431\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u043f\u043e\u0434\u0445\u043e\u0434\u0438\u0442 \u043a \u043a\u043e\u043d\u0446\u0443",defaultText:"\ud83d\udd25 \u0412\u0430\u0448 \u043f\u0440\u043e\u0431\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434 \u0437\u0430\u043a\u0430\u043d\u0447\u0438\u0432\u0430\u0435\u0442\u0441\u044f!\n\n\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443 \u043f\u0440\u044f\u043c\u043e \u0441\u0435\u0439\u0447\u0430\u0441.",defaultButton:{text:"\ud83d\udc8e \u0422\u0430\u0440\u0438\u0444\u044b",action:"tariffs"}},{key:"trial_active",icon:"\u2728",iconBg:"linear-gradient(135deg, #4FACFE 0%, #00F2FE 100%)",title:"\u0422\u0440\u0438\u0430\u043b \u0430\u043a\u0442\u0438\u0432\u0435\u043d",subtitle:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u043c \u043f\u0440\u043e\u0431\u043d\u044b\u043c \u043f\u0435\u0440\u0438\u043e\u0434\u043e\u043c",defaultText:"\ud83c\udf89 \u0412\u0430\u0448 \u043f\u0440\u043e\u0431\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0430\u043a\u0442\u0438\u0432\u0435\u043d!\n\n\u041d\u0430\u0441\u043b\u0430\u0436\u0434\u0430\u0439\u0442\u0435\u0441\u044c \u0437\u0430\u0449\u0438\u0449\u0435\u043d\u043d\u044b\u043c \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u043e\u043c!",defaultButton:{text:"\ud83d\udcf1 \u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0431\u043e\u0442\u0430",action:"webapp"}},{key:"trial_not_used",icon:"\ud83c\udf81",iconBg:"linear-gradient(135deg, #43E97B 0%, #38F9D7 100%)",title:"\u0422\u0440\u0438\u0430\u043b \u043d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d",subtitle:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u043d\u0435 \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043b\u0438 \u0442\u0440\u0438\u0430\u043b",defaultText:"\ud83d\ude80 \u0411\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u0430\u044f \u043f\u0440\u043e\u0431\u043d\u0430\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0436\u0434\u0451\u0442 \u0432\u0430\u0441!\n\n\u0410\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0439\u0442\u0435 \u0442\u0440\u0438\u0430\u043b \u043f\u0440\u044f\u043c\u043e \u0441\u0435\u0439\u0447\u0430\u0441! \ud83d\udd25",defaultButton:{text:"\ud83c\udd93 \u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0442\u0440\u0438\u0430\u043b",action:"trial"}},{key:"no_subscription",icon:"\ud83d\udca4",iconBg:"linear-gradient(135deg, #667EEA 0%, #764BA2 100%)",title:"\u041d\u0435\u0442 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438",subtitle:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0431\u0435\u0437 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438",defaultText:"\ud83d\udd14 \u0412\u044b \u0435\u0449\u0451 \u043d\u0435 \u043e\u0444\u043e\u0440\u043c\u0438\u043b\u0438 VPN?\n\n\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u0435\u0441\u044c \u0441\u0435\u0439\u0447\u0430\u0441 \u0438 \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0442\u0440\u0430\u0444\u0438\u043a!",defaultButton:{text:"\ud83d\uded2 \u0422\u0430\u0440\u0438\u0444\u044b",action:"tariffs"}}];const za=function(){const{t:e}=sn(),{token:r}=Wt(),[n,i]=(0,t.useState)("manual"),[a,s]=(0,t.useState)({}),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)(""),[g,v]=(0,t.useState)("all"),[y,b]=(0,t.useState)(""),[x,_]=(0,t.useState)("email"),[w,S]=(0,t.useState)("old"),[j,k]=(0,t.useState)(null),[C,E]=(0,t.useState)(null),[O,P]=(0,t.useState)(!1),[N,A]=(0,t.useState)(!1),[T,R]=(0,t.useState)(null),[D,L]=(0,t.useState)(null),[M,I]=(0,t.useState)([]),[B,z]=(0,t.useState)({enabled:!0,hours:"9,14,19"}),[F,H]=(0,t.useState)(!1);(0,t.useEffect)(()=>{r&&(async()=>{try{const e=await fetch("/api/admin/users/emails",{headers:{Authorization:"Bearer ".concat(r)}});if(e.ok){const t=await e.json();I(t)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 email:",YM)}})()},[r]),(0,t.useEffect)(()=>{r&&"auto"===n&&(async()=>{if("auto"===n){l(!0);try{const e=await fetch("/api/admin/auto-broadcast-messages",{headers:{Authorization:"Bearer ".concat(r)}});if(e.ok){const t=await e.json();s(t)}const t=await fetch("/api/admin/auto-broadcast-settings",{headers:{Authorization:"Bearer ".concat(r)}});if(t.ok){const e=await t.json();z(e)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:",YM)}finally{l(!1)}}})()},[r,n]);const U=(0,t.useCallback)((e,t,r)=>{s(n=>u(u({},n),{},{[e]:u(u({},n[e]),{},{[t]:r})}))},[]),W=(0,t.useCallback)((e,t)=>{s(r=>{var n,i;const a=r[e]||{},s=!1!==a.enabled;return u(u({},r),{},{[e]:u(u({},a),{},{enabled:!s,message_text:a.message_text||t.defaultText,bot_type:a.bot_type||"both",button_text:a.button_text||(null===(n=t.defaultButton)||void 0===n?void 0:n.text)||"",button_action:a.button_action||(null===(i=t.defaultButton)||void 0===i?void 0:i.action)||"",button_url:a.button_url||""})})})},[]);return(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{className:"admin-page-title",children:e("broadcast.title")}),(0,Ft.jsx)("p",{className:"admin-description-text",children:e("broadcast.description")}),(0,Ft.jsxs)("div",{style:{marginBottom:"24px",display:"flex",gap:"8px",background:"var(--surface-muted)",padding:"6px",borderRadius:"12px",width:"fit-content"},children:[(0,Ft.jsxs)("button",{onClick:()=>i("manual"),style:{padding:"10px 20px",background:"manual"===n?"var(--primary)":"transparent",color:"manual"===n?"white":"var(--text-secondary)",border:"none",cursor:"pointer",borderRadius:"8px",fontWeight:"600",fontSize:"14px"},children:["\ud83d\udce4 ",e("broadcast.tab_manual")]}),(0,Ft.jsxs)("button",{onClick:()=>i("auto"),style:{padding:"10px 20px",background:"auto"===n?"var(--primary)":"transparent",color:"auto"===n?"white":"var(--text-secondary)",border:"none",cursor:"pointer",borderRadius:"8px",fontWeight:"600",fontSize:"14px"},children:["\u26a1 ",e("broadcast.tab_auto")]})]}),"manual"===n&&(0,Ft.jsxs)(Ft.Fragment,{children:[T&&(0,Ft.jsx)("div",{className:"message-error",children:T}),D&&(0,Ft.jsxs)("div",{className:"message-success",children:[(0,Ft.jsx)("strong",{children:e("broadcast.success_title")}),(0,Ft.jsxs)("p",{children:[e("broadcast.success_total"),": ",D.total]})]}),(0,Ft.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),A(!0),R(null),L(null);try{let e=[];if("custom"===g){e=y.split("\n").map(e=>e.trim()).filter(e=>e&&e.includes("@"))}const t=new FormData;t.append("subject",h),t.append("message",p),t.append("recipient_type",g),t.append("custom_emails",JSON.stringify("custom"===g?e:[])),t.append("broadcast_type",x),t.append("bot_type",w),t.append("pin_message",O),j&&t.append("photo",j);const n=await fetch("/api/admin/broadcast",{method:"POST",headers:{Authorization:"Bearer ".concat(r)},body:t}),i=n.headers.get("content-type");let a;if(!i||!i.includes("application/json")){const e=await n.text();throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430: ".concat(e.substring(0,200)))}if(a=await n.json(),!n.ok)throw new Error(a.message||a.error||"\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0438 \u0440\u0430\u0441\u0441\u044b\u043b\u043a\u0438");L({total:a.total_recipients,broadcast_type:a.broadcast_type,bot_type:a.bot_type,email:a.email,telegram:a.telegram}),f(""),m(""),b(""),k(null),E(null),P(!1)}catch(e){R(e.message)}finally{A(!1)}},style:{background:"var(--surface-muted)",padding:"24px",borderRadius:"16px",border:"1px solid var(--glass-border)"},children:[(0,Ft.jsxs)("div",{className:"form-group",style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{children:e("broadcast.broadcast_type")}),(0,Ft.jsxs)("select",{value:x,onChange:e=>_(e.target.value),style:{width:"100%"},children:[(0,Ft.jsx)("option",{value:"email",children:e("broadcast.type_email")}),(0,Ft.jsx)("option",{value:"telegram",children:e("broadcast.type_telegram")}),(0,Ft.jsx)("option",{value:"both",children:e("broadcast.type_both")})]})]}),"email"!==x&&(0,Ft.jsxs)("div",{className:"form-group",style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{children:e("broadcast.bot_type")}),(0,Ft.jsxs)("select",{value:w,onChange:e=>S(e.target.value),style:{width:"100%"},children:[(0,Ft.jsx)("option",{value:"old",children:e("broadcast.bot_old")}),(0,Ft.jsx)("option",{value:"new",children:e("broadcast.bot_new")})]})]}),(0,Ft.jsxs)("div",{className:"form-group",style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{children:e("broadcast.recipients")}),(0,Ft.jsxs)("select",{value:g,onChange:e=>v(e.target.value),style:{width:"100%"},children:[(0,Ft.jsxs)("option",{value:"all",children:[e("broadcast.recipient_all")," (",M.length,")"]}),(0,Ft.jsx)("option",{value:"active",children:e("broadcast.recipient_active")}),(0,Ft.jsx)("option",{value:"inactive",children:e("broadcast.recipient_inactive")}),(0,Ft.jsx)("option",{value:"custom",children:e("broadcast.recipient_custom")})]})]}),"custom"===g&&(0,Ft.jsxs)("div",{className:"form-group",style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{children:e("broadcast.custom_emails")}),(0,Ft.jsx)("textarea",{value:y,onChange:e=>b(e.target.value),placeholder:e("broadcast.custom_emails_placeholder"),rows:4,style:{width:"100%"}})]}),("email"===x||"both"===x)&&(0,Ft.jsxs)("div",{className:"form-group",style:{marginBottom:"16px"},children:[(0,Ft.jsxs)("label",{children:[e("broadcast.subject")," *"]}),(0,Ft.jsx)("input",{type:"text",value:h,onChange:e=>f(e.target.value),required:"email"===x||"both"===x,style:{width:"100%"}})]}),("telegram"===x||"both"===x)&&(0,Ft.jsxs)("div",{className:"form-group",style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{children:e("broadcast.photo")}),(0,Ft.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0];if(t){if(t.size>10485760)return void R("\u0420\u0430\u0437\u043c\u0435\u0440 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043d\u0435 \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0442\u044c 10MB");if(!t.type.startsWith("image/"))return void R("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u0430\u0439\u043b \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f");k(t);const e=new FileReader;e.onloadend=()=>{E(e.result)},e.readAsDataURL(t)}}}),C&&(0,Ft.jsxs)("div",{style:{marginTop:"10px"},children:[(0,Ft.jsx)("img",{src:C,alt:"Preview",style:{maxWidth:"200px",borderRadius:"8px"}}),(0,Ft.jsx)("button",{type:"button",onClick:()=>{k(null),E(null)},style:{marginLeft:"10px"},children:e("broadcast.remove_photo")})]})]}),(0,Ft.jsxs)("div",{className:"form-group",style:{marginBottom:"16px"},children:[(0,Ft.jsxs)("label",{children:[e("broadcast.message")," *"]}),(0,Ft.jsx)("textarea",{value:p,onChange:e=>m(e.target.value),required:!0,rows:8,style:{width:"100%"}})]}),("telegram"===x||"both"===x)&&(0,Ft.jsx)("div",{className:"form-group",style:{marginBottom:"16px"},children:(0,Ft.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,Ft.jsx)("input",{type:"checkbox",checked:O,onChange:e=>P(e.target.checked)}),e("broadcast.pin_message")]})}),(0,Ft.jsx)("button",{type:"submit",className:"btn",disabled:N,children:e(N?"broadcast.sending":"broadcast.send_button")})]})]}),"auto"===n&&(0,Ft.jsx)("div",{children:o?(0,Ft.jsx)("div",{style:{padding:"40px",textAlign:"center"},children:"\u23f3 \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("div",{style:{marginBottom:"24px",padding:"20px",background:"linear-gradient(135deg, #667EEA 0%, #764BA2 100%)",borderRadius:"16px",color:"white"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ft.jsx)("span",{style:{fontSize:"28px"},children:"\u23f0"}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h3",{style:{margin:0,fontSize:"18px"},children:"\u041f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a \u0440\u0430\u0441\u0441\u044b\u043b\u043e\u043a"}),(0,Ft.jsx)("p",{style:{margin:"4px 0 0 0",opacity:.8,fontSize:"13px"},children:"\u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0432 \u0437\u0430\u0434\u0430\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f"})]})]}),(0,Ft.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,Ft.jsx)("input",{type:"checkbox",checked:B.enabled,onChange:e=>z(u(u({},B),{},{enabled:e.target.checked})),style:{width:"20px",height:"20px"}}),(0,Ft.jsx)("span",{style:{fontWeight:"600"},children:"\u0412\u043a\u043b\u044e\u0447\u0435\u043d\u043e"})]})]}),B.enabled&&(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"6px",fontWeight:"600"},children:"\u0427\u0430\u0441\u044b \u0437\u0430\u043f\u0443\u0441\u043a\u0430 (\u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043f\u044f\u0442\u0443\u044e):"}),(0,Ft.jsx)("input",{type:"text",value:B.hours,onChange:e=>z(u(u({},B),{},{hours:e.target.value})),placeholder:"9,14,19",style:{width:"100%",padding:"12px",borderRadius:"8px",border:"none",fontSize:"16px"}})]}),(0,Ft.jsx)("button",{type:"button",onClick:async()=>{H(!0);try{const e=await fetch("/api/admin/auto-broadcast-settings",{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify(B)});if(!e.ok){const t=await e.json();throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f")}alert("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0449\u0438\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!")}catch(YM){alert("\u041e\u0448\u0438\u0431\u043a\u0430: "+YM.message)}finally{H(!1)}},disabled:F,style:{padding:"12px 24px",background:"white",color:"#667EEA",border:"none",borderRadius:"8px",fontWeight:"600",cursor:"pointer"},children:F?"\u23f3 \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\ud83d\udcbe \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),(0,Ft.jsx)("h3",{style:{marginBottom:"16px"},children:"\ud83d\udcdd \u0410\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"}),Ba.map(t=>{var r,n;const i=a[t.key]||{},s=!1!==i.enabled;return(0,Ft.jsxs)("div",{style:{background:"var(--surface-muted)",borderRadius:"12px",border:"1px solid var(--glass-border)",marginBottom:"16px",opacity:s?1:.6},children:[(0,Ft.jsxs)("div",{style:{padding:"16px 20px",borderBottom:s?"1px solid var(--glass-border)":"none",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[(0,Ft.jsx)("div",{style:{width:"40px",height:"40px",borderRadius:"10px",background:t.iconBg,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px"},children:t.icon}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("h4",{style:{margin:0,fontSize:"15px"},children:t.title}),(0,Ft.jsx)("p",{style:{margin:"2px 0 0 0",fontSize:"12px",color:"var(--text-secondary)"},children:t.subtitle})]})]}),(0,Ft.jsx)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:(0,Ft.jsx)("input",{type:"checkbox",checked:s,onChange:()=>W(t.key,t),style:{width:"18px",height:"18px"}})})]}),s&&(0,Ft.jsxs)("div",{style:{padding:"20px"},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"6px",fontWeight:"600",fontSize:"13px"},children:"\ud83d\udcdd \u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"}),(0,Ft.jsx)("textarea",{value:i.message_text||t.defaultText,onChange:e=>U(t.key,"message_text",e.target.value),rows:4,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--bg-primary)",color:"var(--text-primary)",fontSize:"14px",resize:"vertical"}})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"6px",fontWeight:"600",fontSize:"13px"},children:"\ud83e\udd16 \u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0447\u0435\u0440\u0435\u0437 \u0431\u043e\u0442\u0430"}),(0,Ft.jsxs)("select",{value:i.bot_type||"both",onChange:e=>U(t.key,"bot_type",e.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--bg-primary)",color:"var(--text-primary)"},children:[(0,Ft.jsx)("option",{value:"old",children:e("broadcast.bot_old")}),(0,Ft.jsx)("option",{value:"new",children:e("broadcast.bot_new")}),(0,Ft.jsx)("option",{value:"both",children:e("broadcast.bot_both")})]})]}),(0,Ft.jsxs)("div",{style:{background:"var(--bg-primary)",borderRadius:"10px",padding:"16px",border:"1px dashed var(--glass-border)"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600",fontSize:"13px"},children:"\ud83d\udd18 \u041a\u043d\u043e\u043f\u043a\u0430 \u043f\u043e\u0434 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\u043c"}),(0,Ft.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"12px"},children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px",color:"var(--text-secondary)"},children:"\u0422\u0435\u043a\u0441\u0442 \u043a\u043d\u043e\u043f\u043a\u0438"}),(0,Ft.jsx)("input",{type:"text",value:i.button_text||(null===(r=t.defaultButton)||void 0===r?void 0:r.text)||"",onChange:e=>U(t.key,"button_text",e.target.value),placeholder:"\ud83d\uded2 \u0422\u0430\u0440\u0438\u0444\u044b",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--surface-muted)",color:"var(--text-primary)"}})]}),(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px",color:"var(--text-secondary)"},children:"\u0422\u0438\u043f \u043a\u043d\u043e\u043f\u043a\u0438"}),(0,Ft.jsxs)("select",{value:i.button_action||(null===(n=t.defaultButton)||void 0===n?void 0:n.action)||"tariffs",onChange:e=>U(t.key,"button_action",e.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--surface-muted)",color:"var(--text-primary)"},children:[(0,Ft.jsx)("option",{value:"tariffs",children:"\ud83d\uded2 \u0422\u0430\u0440\u0438\u0444\u044b (\u0432 \u0431\u043e\u0442\u0435)"}),(0,Ft.jsx)("option",{value:"trial",children:"\ud83c\udd93 \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0440\u0438\u0430\u043b"}),(0,Ft.jsx)("option",{value:"webapp",children:"\ud83d\udcf1 Mini App"}),(0,Ft.jsx)("option",{value:"url",children:"\ud83d\udd17 \u0412\u043d\u0435\u0448\u043d\u044f\u044f \u0441\u0441\u044b\u043b\u043a\u0430"})]})]})]}),("webapp"===i.button_action||"url"===i.button_action)&&(0,Ft.jsxs)("div",{children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"4px",fontSize:"12px",color:"var(--text-secondary)"},children:"URL"}),(0,Ft.jsx)("input",{type:"text",value:i.button_url||"",onChange:e=>U(t.key,"button_url",e.target.value),placeholder:"https://...",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid var(--glass-border)",background:"var(--surface-muted)",color:"var(--text-primary)"}})]}),"tariffs"===i.button_action&&(0,Ft.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"12px",color:"var(--text-secondary)"},children:"\u2139\ufe0f \u041e\u0442\u043a\u0440\u043e\u0435\u0442 \u043c\u0435\u043d\u044e \u0442\u0430\u0440\u0438\u0444\u043e\u0432 \u0432 \u0431\u043e\u0442\u0435"}),"trial"===i.button_action&&(0,Ft.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"12px",color:"var(--text-secondary)"},children:"\u2139\ufe0f \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u0443\u0435\u0442 \u043f\u0440\u043e\u0431\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434"})]})]})]},t.key)}),(0,Ft.jsx)("button",{type:"button",onClick:async()=>{d(!0);try{const e=await fetch("/api/admin/auto-broadcast-messages",{method:"POST",headers:{Authorization:"Bearer ".concat(r),"Content-Type":"application/json"},body:JSON.stringify({messages:a})});if(!e.ok){const t=await e.json();throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f")}alert("\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0445 \u0440\u0430\u0441\u0441\u044b\u043b\u043e\u043a \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b!")}catch(YM){alert("\u041e\u0448\u0438\u0431\u043a\u0430: "+YM.message)}finally{d(!1)}},disabled:c,className:"btn",style:{width:"100%",padding:"16px",marginTop:"16px",fontSize:"16px"},children:c?"\u23f3 \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\ud83d\udcbe \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u0441\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})]})})]})})};const Fa=function(){const[e,r]=(0,t.useState)(null),[n,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),{token:h}=Wt();(0,t.useEffect)(()=>{h&&(async()=>{i(!0),l(null);try{const e=await fetch("/api/admin/branding",{headers:{Authorization:"Bearer ".concat(h)}});if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438");const t=await e.json();r({logo_url:t.logo_url||"",favicon_url:t.favicon_url||"",site_name:t.site_name||"",site_subtitle:t.site_subtitle||"",login_welcome_text:t.login_welcome_text||"",register_welcome_text:t.register_welcome_text||"",footer_text:t.footer_text||"",dashboard_servers_title:t.dashboard_servers_title||"",dashboard_servers_description:t.dashboard_servers_description||"",dashboard_tariffs_title:t.dashboard_tariffs_title||"",dashboard_tariffs_description:t.dashboard_tariffs_description||"",dashboard_tagline:t.dashboard_tagline||"",dashboard_referrals_title:t.dashboard_referrals_title||"",dashboard_referrals_description:t.dashboard_referrals_description||"",dashboard_support_title:t.dashboard_support_title||"",dashboard_support_description:t.dashboard_support_description||"",tariff_tier_basic_name:t.tariff_tier_basic_name||"",tariff_tier_pro_name:t.tariff_tier_pro_name||"",tariff_tier_elite_name:t.tariff_tier_elite_name||"",tariff_features_names:t.tariff_features_names||{},button_subscribe_text:t.button_subscribe_text||"",button_buy_text:t.button_buy_text||"",button_connect_text:t.button_connect_text||"",button_share_text:t.button_share_text||"",button_copy_text:t.button_copy_text||"",meta_title:t.meta_title||"",meta_description:t.meta_description||"",meta_keywords:t.meta_keywords||"",quick_download_enabled:!1!==t.quick_download_enabled,quick_download_windows_url:t.quick_download_windows_url||"",quick_download_android_url:t.quick_download_android_url||"",quick_download_macos_url:t.quick_download_macos_url||"",quick_download_ios_url:t.quick_download_ios_url||"",quick_download_profile_deeplink:t.quick_download_profile_deeplink||"",subscription_active_text:t.subscription_active_text||"",subscription_expired_text:t.subscription_expired_text||"",subscription_trial_text:t.subscription_trial_text||"",balance_label_text:t.balance_label_text||"",referral_code_label_text:t.referral_code_label_text||""})}catch(YM){l(YM.message)}finally{i(!1)}})()},[h]);const f=(e,t)=>{r(r=>u(u({},r),{},{[e]:t}))};return n||!e?(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}):(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{className:"admin-page-title",children:"\u0411\u0440\u0435\u043d\u0434\u0438\u043d\u0433"}),(0,Ft.jsx)("p",{className:"admin-description-text",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0432\u043d\u0435\u0448\u043d\u0438\u0439 \u0432\u0438\u0434 \u0438 \u0442\u0435\u043a\u0441\u0442\u044b \u0441\u0430\u0439\u0442\u0430. \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u0435 \u043b\u043e\u0433\u043e\u0442\u0438\u043f, \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0438 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f."}),o&&(0,Ft.jsx)("div",{className:"message-error",children:o}),(0,Ft.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0),l(null),d(null);try{const t=await fetch("/api/admin/branding",{method:"POST",headers:{Authorization:"Bearer ".concat(h),"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f");d("success"),setTimeout(()=>d(null),2e3)}catch(t){l(t.message),d("error")}finally{s(!1)}},children:[(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"logo_url",className:"settings-label",children:"URL \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u0430"}),(0,Ft.jsx)("input",{type:"url",id:"logo_url",value:e.logo_url,onChange:e=>f("logo_url",e.target.value),className:"settings-input",placeholder:"https://example.com/logo.png"}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u043b\u043d\u044b\u0439 URL \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043b\u043e\u0433\u043e\u0442\u0438\u043f\u0430. \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440: 200x50px \u0438\u043b\u0438 \u0431\u043e\u043b\u044c\u0448\u0435."}),e.logo_url&&(0,Ft.jsxs)("div",{style:{marginTop:"10px"},children:[(0,Ft.jsx)("img",{src:e.logo_url,alt:"Logo preview",style:{maxWidth:"200px",maxHeight:"100px",border:"1px solid var(--border-color)",borderRadius:"4px"},onError:e=>{e.target.style.display="none",e.target.nextSibling.style.display="block"}}),(0,Ft.jsx)("div",{style:{display:"none",color:"var(--text-secondary)",fontSize:"12px"},children:"\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 URL."})]})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"site_name",className:"settings-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0430\u0439\u0442\u0430"}),(0,Ft.jsx)("input",{type:"text",id:"site_name",value:e.site_name,onChange:e=>f("site_name",e.target.value),className:"settings-input",placeholder:"StealthNET",maxLength:100}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"site_subtitle",className:"settings-label",children:"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0430\u0439\u0442\u0430"}),(0,Ft.jsx)("input",{type:"text",id:"site_subtitle",value:e.site_subtitle,onChange:e=>f("site_subtitle",e.target.value),className:"settings-input",placeholder:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u0435 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.",maxLength:200}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0434 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"login_welcome_text",className:"settings-label",children:"\u0422\u0435\u043a\u0441\u0442 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f (\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0432\u0445\u043e\u0434\u0430)"}),(0,Ft.jsx)("textarea",{id:"login_welcome_text",value:e.login_welcome_text,onChange:e=>f("login_welcome_text",e.target.value),className:"settings-textarea",placeholder:"\u0414\u043e\u0431\u0440\u043e \u043f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c \u0432 \u0431\u0443\u0434\u0443\u0449\u0435\u0435 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438.",maxLength:200,rows:3}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0422\u0435\u043a\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0432\u0445\u043e\u0434\u0430. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"register_welcome_text",className:"settings-label",children:"\u0422\u0435\u043a\u0441\u0442 \u043f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044f (\u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438)"}),(0,Ft.jsx)("textarea",{id:"register_welcome_text",value:e.register_welcome_text,onChange:e=>f("register_welcome_text",e.target.value),className:"settings-textarea",placeholder:"\u041f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0439\u0442\u0435\u0441\u044c \u043a \u043d\u0435\u0432\u0438\u0434\u0438\u043c\u043e\u0439 \u0441\u0435\u0442\u0438.",maxLength:200,rows:3}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0422\u0435\u043a\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0430."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"footer_text",className:"settings-label",children:"\u0422\u0435\u043a\u0441\u0442 \u0432 \u0444\u0443\u0442\u0435\u0440\u0435"}),(0,Ft.jsx)("input",{type:"text",id:"footer_text",value:e.footer_text,onChange:e=>f("footer_text",e.target.value),className:"settings-input",placeholder:"\xa9 2025 StealthNET. Privacy First.",maxLength:200}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0422\u0435\u043a\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u0432 \u0444\u0443\u0442\u0435\u0440\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438."})]}),(0,Ft.jsxs)("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"1rem",fontSize:"1.2rem"},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Dashboard (\u041a\u043b\u0438\u0435\u043d\u0442\u0441\u043a\u0430\u044f \u043f\u0430\u043d\u0435\u043b\u044c)"}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"dashboard_tagline",className:"settings-label",children:"\u0421\u043b\u043e\u0433\u0430\u043d \u0432 \u0441\u0430\u0439\u0434\u0431\u0430\u0440\u0435"}),(0,Ft.jsx)("input",{type:"text",id:"dashboard_tagline",value:e.dashboard_tagline,onChange:e=>f("dashboard_tagline",e.target.value),className:"settings-input",placeholder:"Secure VPN",maxLength:100}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0422\u0435\u043a\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u0434 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c \u0432 \u0431\u043e\u043a\u043e\u0432\u043e\u043c \u043c\u0435\u043d\u044e Dashboard."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"dashboard_servers_title",className:"settings-label",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432"}),(0,Ft.jsx)("input",{type:"text",id:"dashboard_servers_title",value:e.dashboard_servers_title,onChange:e=>f("dashboard_servers_title",e.target.value),className:"settings-input",placeholder:"\u0413\u043b\u043e\u0431\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0435\u0442\u044c StealthNET",maxLength:200}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432 \u0432 Dashboard. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"dashboard_servers_description",className:"settings-label",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432"}),(0,Ft.jsx)("textarea",{id:"dashboard_servers_description",value:e.dashboard_servers_description,onChange:e=>f("dashboard_servers_description",e.target.value),className:"settings-textarea",placeholder:"\u0414\u0435\u0440\u0436\u0438\u043c \u043d\u0438\u0437\u043a\u0438\u0439 \u043f\u0438\u043d\u0433 \u0438 \u0432\u044b\u0441\u043e\u043a\u0443\u044e \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c, \u0447\u0442\u043e\u0431\u044b VPN \u0447\u0443\u0432\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0441\u044f \u043a\u0430\u043a \u043f\u0440\u044f\u043c\u043e\u0435 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435.",maxLength:300,rows:3}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u0432. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"dashboard_tariffs_title",className:"settings-label",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0442\u0430\u0440\u0438\u0444\u043e\u0432"}),(0,Ft.jsx)("input",{type:"text",id:"dashboard_tariffs_title",value:e.dashboard_tariffs_title,onChange:e=>f("dashboard_tariffs_title",e.target.value),className:"settings-input",placeholder:"\u041f\u0440\u0435\u043c\u0438\u0443\u043c VPN \u0431\u0435\u0437 \u043b\u0438\u043c\u0438\u0442\u043e\u0432",maxLength:200}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0442\u0430\u0440\u0438\u0444\u043e\u0432 \u0432 Dashboard. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"dashboard_tariffs_description",className:"settings-label",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0442\u0430\u0440\u0438\u0444\u043e\u0432"}),(0,Ft.jsx)("textarea",{id:"dashboard_tariffs_description",value:e.dashboard_tariffs_description,onChange:e=>f("dashboard_tariffs_description",e.target.value),className:"settings-textarea",placeholder:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0440\u043e\u043a \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438 \u0438 \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0434\u043e\u0441\u0442\u0443\u043f \u043a \u0432\u0441\u0435\u043c \u0441\u0435\u0440\u0432\u0435\u0440\u0430\u043c \u0438 \u043d\u043e\u0432\u043e\u043c\u0443 \u043a\u043b\u044e\u0447\u0443 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f.",maxLength:300,rows:3}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0442\u0430\u0440\u0438\u0444\u043e\u0432. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"dashboard_referrals_title",className:"settings-label",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u043e\u0432"}),(0,Ft.jsx)("input",{type:"text",id:"dashboard_referrals_title",value:e.dashboard_referrals_title,onChange:e=>f("dashboard_referrals_title",e.target.value),className:"settings-input",placeholder:"\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430",maxLength:200}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u043e\u0432 \u0432 Dashboard."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"dashboard_referrals_description",className:"settings-label",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u043e\u0432"}),(0,Ft.jsx)("textarea",{id:"dashboard_referrals_description",value:e.dashboard_referrals_description,onChange:e=>f("dashboard_referrals_description",e.target.value),className:"settings-textarea",placeholder:"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0430\u0439\u0442\u0435 \u0434\u0440\u0443\u0437\u0435\u0439 \u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u0439\u0442\u0435 \u0431\u043e\u043d\u0443\u0441\u044b",maxLength:300,rows:3}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u043e\u0432."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"dashboard_support_title",className:"settings-label",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438"}),(0,Ft.jsx)("input",{type:"text",id:"dashboard_support_title",value:e.dashboard_support_title,onChange:e=>f("dashboard_support_title",e.target.value),className:"settings-input",placeholder:"\u0422\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430",maxLength:200}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0432 Dashboard."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"dashboard_support_description",className:"settings-label",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438"}),(0,Ft.jsx)("textarea",{id:"dashboard_support_description",value:e.dashboard_support_description,onChange:e=>f("dashboard_support_description",e.target.value),className:"settings-textarea",placeholder:"\u041c\u044b \u0432\u0441\u0435\u0433\u0434\u0430 \u0433\u043e\u0442\u043e\u0432\u044b \u043f\u043e\u043c\u043e\u0447\u044c",maxLength:300,rows:3}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438."})]})]}),(0,Ft.jsxs)("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"1rem",fontSize:"1.2rem"},children:"\ud83c\udff7\ufe0f \u041d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0442\u0430\u0440\u0438\u0444\u043e\u0432"}),(0,Ft.jsx)("p",{className:"admin-description-text",style:{marginBottom:"1.5rem"},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u043a\u0430\u0441\u0442\u043e\u043c\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0434\u043b\u044f \u0443\u0440\u043e\u0432\u043d\u0435\u0439 \u0442\u0430\u0440\u0438\u0444\u043e\u0432 (basic, pro, elite)."}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"tariff_tier_basic_name",className:"settings-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f Basic \u0442\u0430\u0440\u0438\u0444\u0430"}),(0,Ft.jsx)("input",{type:"text",id:"tariff_tier_basic_name",value:e.tariff_tier_basic_name,onChange:e=>f("tariff_tier_basic_name",e.target.value),className:"settings-input",placeholder:"\u0411\u0430\u0437\u043e\u0432\u044b\u0439",maxLength:100}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0442\u0430\u0440\u0438\u0444\u043e\u0432 \u0443\u0440\u043e\u0432\u043d\u044f Basic. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"tariff_tier_pro_name",className:"settings-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f Pro \u0442\u0430\u0440\u0438\u0444\u0430"}),(0,Ft.jsx)("input",{type:"text",id:"tariff_tier_pro_name",value:e.tariff_tier_pro_name,onChange:e=>f("tariff_tier_pro_name",e.target.value),className:"settings-input",placeholder:"\u041f\u0440\u0435\u043c\u0438\u0443\u043c",maxLength:100}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0442\u0430\u0440\u0438\u0444\u043e\u0432 \u0443\u0440\u043e\u0432\u043d\u044f Pro. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"tariff_tier_elite_name",className:"settings-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f Elite \u0442\u0430\u0440\u0438\u0444\u0430"}),(0,Ft.jsx)("input",{type:"text",id:"tariff_tier_elite_name",value:e.tariff_tier_elite_name,onChange:e=>f("tariff_tier_elite_name",e.target.value),className:"settings-input",placeholder:"\u042d\u043b\u0438\u0442\u043d\u044b\u0439",maxLength:100}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041a\u0430\u0441\u0442\u043e\u043c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u0442\u0430\u0440\u0438\u0444\u043e\u0432 \u0443\u0440\u043e\u0432\u043d\u044f Elite. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"tariff_features_names",className:"settings-label",children:"\u041a\u0430\u0441\u0442\u043e\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0442\u0430\u0440\u0438\u0444\u043e\u0432 (JSON)"}),(0,Ft.jsx)("textarea",{id:"tariff_features_names",value:JSON.stringify(e.tariff_features_names||{},null,2),onChange:e=>{try{const t=JSON.parse(e.target.value);f("tariff_features_names",t)}catch(t){}},className:"settings-textarea",placeholder:'{"\u0411\u0435\u0437\u043b\u0438\u043c\u0438\u0442\u043d\u044b\u0439 \u0442\u0440\u0430\u0444\u0438\u043a": "\u041d\u0435\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442", "\u0414\u043e 5 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432": "\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 5 \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"}',rows:6,style:{fontFamily:"monospace",fontSize:"0.9em"}}),(0,Ft.jsxs)("p",{className:"settings-hint",children:["JSON \u043e\u0431\u044a\u0435\u043a\u0442 \u0434\u043b\u044f \u0437\u0430\u043c\u0435\u043d\u044b \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0442\u0430\u0440\u0438\u0444\u043e\u0432. \u041a\u043b\u044e\u0447 - \u043e\u0440\u0438\u0433\u0438\u043d\u0430\u043b\u044c\u043d\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435, \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435 - \u043d\u043e\u0432\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435.",(0,Ft.jsx)("br",{}),(0,Ft.jsx)("strong",{children:"\u041f\u0440\u0438\u043c\u0435\u0440:"})," ",(0,Ft.jsxs)("code",{children:["{",'"\u0411\u0435\u0437\u043b\u0438\u043c\u0438\u0442\u043d\u044b\u0439 \u0442\u0440\u0430\u0444\u0438\u043a": "\u041d\u0435\u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u043d\u044b\u0439 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442"',"}"]})]})]})]}),(0,Ft.jsxs)("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"1rem",fontSize:"1.2rem"},children:"\ud83d\udd18 \u0422\u0435\u043a\u0441\u0442\u044b \u043a\u043d\u043e\u043f\u043e\u043a"}),(0,Ft.jsx)("p",{className:"admin-description-text",style:{marginBottom:"1.5rem"},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0442\u0435\u043a\u0441\u0442\u044b \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043e\u043a \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430."}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"button_subscribe_text",className:"settings-label",children:'\u0422\u0435\u043a\u0441\u0442 \u043a\u043d\u043e\u043f\u043a\u0438 "\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"'}),(0,Ft.jsx)("input",{type:"text",id:"button_subscribe_text",value:e.button_subscribe_text,onChange:e=>f("button_subscribe_text",e.target.value),className:"settings-input",placeholder:"\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f",maxLength:50})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"button_buy_text",className:"settings-label",children:'\u0422\u0435\u043a\u0441\u0442 \u043a\u043d\u043e\u043f\u043a\u0438 "\u041a\u0443\u043f\u0438\u0442\u044c"'}),(0,Ft.jsx)("input",{type:"text",id:"button_buy_text",value:e.button_buy_text,onChange:e=>f("button_buy_text",e.target.value),className:"settings-input",placeholder:"\u041a\u0443\u043f\u0438\u0442\u044c",maxLength:50})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"button_connect_text",className:"settings-label",children:'\u0422\u0435\u043a\u0441\u0442 \u043a\u043d\u043e\u043f\u043a\u0438 "\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c"'}),(0,Ft.jsx)("input",{type:"text",id:"button_connect_text",value:e.button_connect_text,onChange:e=>f("button_connect_text",e.target.value),className:"settings-input",placeholder:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c",maxLength:50})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"button_share_text",className:"settings-label",children:'\u0422\u0435\u043a\u0441\u0442 \u043a\u043d\u043e\u043f\u043a\u0438 "\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f"'}),(0,Ft.jsx)("input",{type:"text",id:"button_share_text",value:e.button_share_text,onChange:e=>f("button_share_text",e.target.value),className:"settings-input",placeholder:"\u041f\u043e\u0434\u0435\u043b\u0438\u0442\u044c\u0441\u044f",maxLength:50})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"button_copy_text",className:"settings-label",children:'\u0422\u0435\u043a\u0441\u0442 \u043a\u043d\u043e\u043f\u043a\u0438 "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c"'}),(0,Ft.jsx)("input",{type:"text",id:"button_copy_text",value:e.button_copy_text,onChange:e=>f("button_copy_text",e.target.value),className:"settings-input",placeholder:"\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",maxLength:50})]})]}),(0,Ft.jsxs)("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"1rem",fontSize:"1.2rem"},children:"\ud83d\udcdd \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0442\u0435\u043a\u0441\u0442\u044b"}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"subscription_active_text",className:"settings-label",children:"\u0422\u0435\u043a\u0441\u0442 \u0434\u043b\u044f \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),(0,Ft.jsx)("input",{type:"text",id:"subscription_active_text",value:e.subscription_active_text,onChange:e=>f("subscription_active_text",e.target.value),className:"settings-input",placeholder:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u0430",maxLength:200})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"subscription_expired_text",className:"settings-label",children:"\u0422\u0435\u043a\u0441\u0442 \u0434\u043b\u044f \u0438\u0441\u0442\u0435\u043a\u0448\u0435\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438"}),(0,Ft.jsx)("input",{type:"text",id:"subscription_expired_text",value:e.subscription_expired_text,onChange:e=>f("subscription_expired_text",e.target.value),className:"settings-input",placeholder:"\u041f\u043e\u0434\u043f\u0438\u0441\u043a\u0430 \u0438\u0441\u0442\u0435\u043a\u043b\u0430",maxLength:200})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"subscription_trial_text",className:"settings-label",children:"\u0422\u0435\u043a\u0441\u0442 \u0434\u043b\u044f \u043f\u0440\u043e\u0431\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430"}),(0,Ft.jsx)("input",{type:"text",id:"subscription_trial_text",value:e.subscription_trial_text,onChange:e=>f("subscription_trial_text",e.target.value),className:"settings-input",placeholder:"\u041f\u0440\u043e\u0431\u043d\u044b\u0439 \u043f\u0435\u0440\u0438\u043e\u0434",maxLength:200})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"balance_label_text",className:"settings-label",children:'\u0422\u0435\u043a\u0441\u0442 \u043c\u0435\u0442\u043a\u0438 "\u0411\u0430\u043b\u0430\u043d\u0441"'}),(0,Ft.jsx)("input",{type:"text",id:"balance_label_text",value:e.balance_label_text,onChange:e=>f("balance_label_text",e.target.value),className:"settings-input",placeholder:"\u0411\u0430\u043b\u0430\u043d\u0441",maxLength:50})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"referral_code_label_text",className:"settings-label",children:'\u0422\u0435\u043a\u0441\u0442 \u043c\u0435\u0442\u043a\u0438 "\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434"'}),(0,Ft.jsx)("input",{type:"text",id:"referral_code_label_text",value:e.referral_code_label_text,onChange:e=>f("referral_code_label_text",e.target.value),className:"settings-input",placeholder:"\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u0434",maxLength:50})]})]}),(0,Ft.jsxs)("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"1rem",fontSize:"1.2rem"},children:"\ud83d\udd0d \u041c\u0435\u0442\u0430-\u0442\u0435\u0433\u0438 (SEO)"}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"favicon_url",className:"settings-label",children:"URL Favicon"}),(0,Ft.jsx)("input",{type:"url",id:"favicon_url",value:e.favicon_url,onChange:e=>f("favicon_url",e.target.value),className:"settings-input",placeholder:"https://example.com/favicon.ico"}),(0,Ft.jsx)("p",{className:"settings-hint",children:"URL \u0438\u043a\u043e\u043d\u043a\u0438 \u0441\u0430\u0439\u0442\u0430 (favicon). \u0420\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0443\u0435\u043c\u044b\u0439 \u0440\u0430\u0437\u043c\u0435\u0440: 32x32px \u0438\u043b\u0438 16x16px."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"meta_title",className:"settings-label",children:"Meta Title"}),(0,Ft.jsx)("input",{type:"text",id:"meta_title",value:e.meta_title,onChange:e=>f("meta_title",e.target.value),className:"settings-input",placeholder:"StealthNET - \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0439 VPN",maxLength:200}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c (title \u0442\u0435\u0433)."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"meta_description",className:"settings-label",children:"Meta Description"}),(0,Ft.jsx)("textarea",{id:"meta_description",value:e.meta_description,onChange:e=>f("meta_description",e.target.value),className:"settings-textarea",placeholder:"\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0439 VPN \u0441\u0435\u0440\u0432\u0438\u0441 \u0441 \u0432\u044b\u0441\u043e\u043a\u043e\u0439 \u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c\u044e \u0438 \u0437\u0430\u0449\u0438\u0442\u043e\u0439 \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u0438",maxLength:500,rows:3}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c (meta description)."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"meta_keywords",className:"settings-label",children:"Meta Keywords"}),(0,Ft.jsx)("input",{type:"text",id:"meta_keywords",value:e.meta_keywords,onChange:e=>f("meta_keywords",e.target.value),className:"settings-input",placeholder:"VPN, \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u044c, \u043f\u0440\u0438\u0432\u0430\u0442\u043d\u043e\u0441\u0442\u044c, \u043f\u0440\u043e\u043a\u0441\u0438",maxLength:300}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041a\u043b\u044e\u0447\u0435\u0432\u044b\u0435 \u0441\u043b\u043e\u0432\u0430 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u043e\u0432\u044b\u0445 \u0441\u0438\u0441\u0442\u0435\u043c (meta keywords). \u0420\u0430\u0437\u0434\u0435\u043b\u044f\u0439\u0442\u0435 \u0437\u0430\u043f\u044f\u0442\u044b\u043c\u0438."})]})]}),(0,Ft.jsxs)("div",{style:{marginTop:"2rem",paddingTop:"2rem",borderTop:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"1rem",fontSize:"1.2rem"},children:"\ud83d\udce5 \u0411\u044b\u0441\u0442\u0440\u043e\u0435 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435"}),(0,Ft.jsx)("p",{className:"admin-description-text",style:{marginBottom:"1.5rem"},children:'\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0431\u043b\u043e\u043a "\u0411\u044b\u0441\u0442\u0440\u043e\u0435 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435" \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438. \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0438 \u043d\u0430 \u0432\u0430\u0448\u0438 \u043a\u043b\u0438\u0435\u043d\u0442\u044b \u0434\u043b\u044f \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c.'}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsxs)("label",{className:"settings-label",style:{display:"flex",alignItems:"center",gap:"10px",cursor:"pointer"},children:[(0,Ft.jsx)("input",{type:"checkbox",checked:e.quick_download_enabled,onChange:e=>f("quick_download_enabled",e.target.checked),style:{width:"18px",height:"18px",cursor:"pointer"}}),(0,Ft.jsx)("span",{children:'\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u0431\u043b\u043e\u043a "\u0411\u044b\u0441\u0442\u0440\u043e\u0435 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u0435"'})]}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0415\u0441\u043b\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0438\u0442\u044c, \u0431\u043b\u043e\u043a \u0441 \u043a\u043d\u043e\u043f\u043a\u0430\u043c\u0438 \u0441\u043a\u0430\u0447\u0438\u0432\u0430\u043d\u0438\u044f \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438."})]}),e.quick_download_enabled&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"quick_download_windows_url",className:"settings-label",children:"\ud83e\ude9f \u0421\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f Windows"}),(0,Ft.jsx)("input",{type:"url",id:"quick_download_windows_url",value:e.quick_download_windows_url,onChange:e=>f("quick_download_windows_url",e.target.value),className:"settings-input",placeholder:"https://example.com/downloads/Client-Setup.exe"}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041f\u0440\u044f\u043c\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0449\u0438\u043a Windows. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c, \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u0440\u044b\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"quick_download_android_url",className:"settings-label",children:"\ud83e\udd16 \u0421\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f Android"}),(0,Ft.jsx)("input",{type:"url",id:"quick_download_android_url",value:e.quick_download_android_url,onChange:e=>f("quick_download_android_url",e.target.value),className:"settings-input",placeholder:"https://example.com/downloads/client.apk"}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041f\u0440\u044f\u043c\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 APK \u0444\u0430\u0439\u043b. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c, \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u0440\u044b\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"quick_download_macos_url",className:"settings-label",children:"\ud83c\udf4e \u0421\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f macOS"}),(0,Ft.jsx)("input",{type:"url",id:"quick_download_macos_url",value:e.quick_download_macos_url,onChange:e=>f("quick_download_macos_url",e.target.value),className:"settings-input",placeholder:"https://example.com/downloads/Client.dmg"}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041f\u0440\u044f\u043c\u0430\u044f \u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0443\u0441\u0442\u0430\u043d\u043e\u0432\u0449\u0438\u043a macOS. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c, \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u0440\u044b\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{htmlFor:"quick_download_ios_url",className:"settings-label",children:"\ud83d\udcf1 \u0421\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f iOS"}),(0,Ft.jsx)("input",{type:"url",id:"quick_download_ios_url",value:e.quick_download_ios_url,onChange:e=>f("quick_download_ios_url",e.target.value),className:"settings-input",placeholder:"https://apps.apple.com/app/..."}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 App Store \u0438\u043b\u0438 TestFlight. \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c, \u0447\u0442\u043e\u0431\u044b \u0441\u043a\u0440\u044b\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443."})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",style:{marginTop:"1.5rem",paddingTop:"1.5rem",borderTop:"1px dashed var(--border-color)"},children:[(0,Ft.jsx)("label",{htmlFor:"quick_download_profile_deeplink",className:"settings-label",children:'\ud83d\udd17 Deeplink \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043a\u0438 "\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"'}),(0,Ft.jsx)("input",{type:"text",id:"quick_download_profile_deeplink",value:e.quick_download_profile_deeplink,onChange:e=>f("quick_download_profile_deeplink",e.target.value),className:"settings-input",placeholder:"stealthnet://install-config?url="}),(0,Ft.jsxs)("p",{className:"settings-hint",children:["Deeplink \u0441\u0445\u0435\u043c\u0430 \u0432\u0430\u0448\u0435\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f. \u041a \u043d\u0435\u0439 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430 \u0441\u0441\u044b\u043b\u043a\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f.",(0,Ft.jsx)("br",{}),(0,Ft.jsx)("strong",{children:"\u041f\u0440\u0438\u043c\u0435\u0440:"})," ",(0,Ft.jsx)("code",{children:"stealthnet://install-config?url="})," \u2192 ",(0,Ft.jsx)("code",{children:"stealthnet://install-config?url=https://..."})]})]})]})]}),(0,Ft.jsxs)("div",{className:"settings-actions",children:[(0,Ft.jsx)("button",{type:"submit",className:"btn",style:{maxWidth:"200px"},disabled:a,children:a?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"}),"success"===c&&(0,Ft.jsx)("div",{className:"message-success",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!"})]})]})]})})},Ha=(0,t.createContext)(),Ua={light:{primary:"#3f69ff",bgPrimary:"#f8fafc",bgSecondary:"#eef2ff",textPrimary:"#0f172a",textSecondary:"#64748b"},dark:{primary:"#6c7bff",bgPrimary:"#050816",bgSecondary:"#0f172a",textPrimary:"#e2e8f0",textSecondary:"#94a3b8"}},Wa=e=>{let{children:r}=e;const[n,i]=(0,t.useState)(localStorage.getItem("theme")||"light"),[a,s]=(0,t.useState)(()=>{const e=localStorage.getItem("themeColors");return e?JSON.parse(e):Ua});(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/public/system-settings");if(e.ok){const t=await e.json(),r={light:{primary:t.theme_primary_color||Ua.light.primary,bgPrimary:t.theme_bg_primary||Ua.light.bgPrimary,bgSecondary:t.theme_bg_secondary||Ua.light.bgSecondary,textPrimary:t.theme_text_primary||Ua.light.textPrimary,textSecondary:t.theme_text_secondary||Ua.light.textSecondary},dark:{primary:t.theme_primary_color_dark||Ua.dark.primary,bgPrimary:t.theme_bg_primary_dark||Ua.dark.bgPrimary,bgSecondary:t.theme_bg_secondary_dark||Ua.dark.bgSecondary,textPrimary:t.theme_text_primary_dark||Ua.dark.textPrimary,textSecondary:t.theme_text_secondary_dark||Ua.dark.textSecondary}};s(r),localStorage.setItem("themeColors",JSON.stringify(r))}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0446\u0432\u0435\u0442\u043e\u0432 \u0442\u0435\u043c\u044b:",YM)}})()},[]),(0,t.useEffect)(()=>{const e=window.document.body,t=document.documentElement;e.classList.remove("light","dark"),e.classList.add(n),localStorage.setItem("theme",n);const r="light"===n?a.light:a.dark;t.style.setProperty("--accent-primary",r.primary),t.style.setProperty("--accent-primary-hover",r.primary),t.style.setProperty("--bg-primary",r.bgPrimary),t.style.setProperty("--bg-secondary",r.bgSecondary),t.style.setProperty("--text-primary",r.textPrimary),t.style.setProperty("--text-secondary",r.textSecondary),t.style.setProperty("--text-link",r.primary),t.style.setProperty("--surface-strong","".concat(r.primary,"20")),t.style.setProperty("--accent-color",a.dark.primary),t.style.setProperty("--body-bg","light"===n?"linear-gradient(180deg, ".concat(r.bgPrimary," 0%, ").concat(r.bgSecondary," 35%, ").concat(r.bgSecondary," 100%)"):"radial-gradient(circle at 20% 20%, ".concat(r.primary,"40, transparent 45%), ").concat(r.bgPrimary)),t.style.setProperty("--glass-bg","light"===n?"".concat(r.bgPrimary,"f2"):"".concat(r.bgSecondary,"eb"))},[n,a]);return(0,Ft.jsx)(Ha.Provider,{value:{theme:n,toggleTheme:()=>{i(e=>"light"===e?"dark":"light")},themeColors:a,updateThemeColors:(e,t)=>{fetch("/api/public/system-settings").then(e=>e.json()).then(e=>{const t={light:{primary:e.theme_primary_color||Ua.light.primary,bgPrimary:e.theme_bg_primary||Ua.light.bgPrimary,bgSecondary:e.theme_bg_secondary||Ua.light.bgSecondary,textPrimary:e.theme_text_primary||Ua.light.textPrimary,textSecondary:e.theme_text_secondary||Ua.light.textSecondary},dark:{primary:e.theme_primary_color_dark||Ua.dark.primary,bgPrimary:e.theme_bg_primary_dark||Ua.dark.bgPrimary,bgSecondary:e.theme_bg_secondary_dark||Ua.dark.bgSecondary,textPrimary:e.theme_text_primary_dark||Ua.dark.textPrimary,textSecondary:e.theme_text_secondary_dark||Ua.dark.textSecondary}};s(t),localStorage.setItem("themeColors",JSON.stringify(t))}).catch(e=>console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f \u0446\u0432\u0435\u0442\u043e\u0432:",e))}},children:r})},qa=()=>(0,t.useContext)(Ha),Ka=e=>{if(!e)return{h:0,s:0,l:50};3===(e=e.replace("#","")).length&&(e=e.split("").map(e=>e+e).join(""));const t=parseInt(e.slice(0,2),16)/255,r=parseInt(e.slice(2,4),16)/255,n=parseInt(e.slice(4,6),16)/255,i=Math.max(t,r,n),a=Math.min(t,r,n);let s,o,l=(i+a)/2;if(i===a)s=o=0;else{const e=i-a;switch(o=l>.5?e/(2-i-a):e/(i+a),i){case t:s=((r-n)/e+(r<n?6:0))/6;break;case r:s=((n-t)/e+2)/6;break;case n:s=((t-r)/e+4)/6;break;default:s=0}}return{h:Math.round(360*s),s:Math.round(100*o),l:Math.round(100*l)}},Va=e=>{let{color:r,onChange:n,label:i}=e;const[a,s]=(0,t.useState)(()=>Ka(r)),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),h=(0,t.useRef)(null),f=(0,t.useRef)(null);(0,t.useEffect)(()=>{s(Ka(r))},[r]);const p=(0,t.useCallback)(e=>{s(e),n(((e,t,r)=>{r/=100;const n=(t/=100)*Math.min(r,1-r),i=t=>{const i=(t+e/30)%12,a=r-n*Math.max(Math.min(i-3,9-i,1),-1);return Math.round(255*a).toString(16).padStart(2,"0")};return"#".concat(i(0)).concat(i(8)).concat(i(4))})(e.h,e.s,e.l))},[n]),m=(0,t.useCallback)(e=>{if(!h.current)return;const t=h.current.getBoundingClientRect(),r=Math.max(0,Math.min(1,(e.clientX-t.left)/t.width)),n=Math.max(0,Math.min(1,(e.clientY-t.top)/t.height));p(u(u({},a),{},{s:Math.round(100*r),l:Math.round(50*(1-n)+50*(1-r)*(1-n))}))},[a,p]),g=(0,t.useCallback)(e=>{if(!f.current)return;const t=f.current.getBoundingClientRect(),r=Math.max(0,Math.min(1,(e.clientX-t.left)/t.width));p(u(u({},a),{},{h:Math.round(360*r)}))},[a,p]);return(0,t.useEffect)(()=>{const e=e=>{"satlight"===o?m(e):"hue"===o&&g(e)},t=()=>l(null);return o&&(window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}},[o,m,g]),(0,Ft.jsxs)("div",{className:"color-picker-compact",children:[(0,Ft.jsxs)("div",{className:"color-picker-header",onClick:()=>d(!c),children:[(0,Ft.jsx)("div",{className:"color-preview-small",style:{background:r}}),(0,Ft.jsx)("span",{className:"color-picker-label",children:i}),(0,Ft.jsx)("input",{type:"text",value:(null===r||void 0===r?void 0:r.toUpperCase())||"#000000",onChange:e=>{e.stopPropagation();const t=e.target.value;/^#[0-9A-Fa-f]{6}$/.test(t)&&n(t)},onClick:e=>e.stopPropagation(),className:"color-hex-input-small",maxLength:7})]}),c&&(0,Ft.jsxs)("div",{className:"color-picker-expanded",children:[(0,Ft.jsxs)("div",{ref:h,className:"color-picker-satlight-small",style:{background:"linear-gradient(to right, #fff, hsl(".concat(a.h,", 100%, 50%))")},onMouseDown:e=>{l("satlight"),m(e)},children:[(0,Ft.jsx)("div",{className:"satlight-overlay"}),(0,Ft.jsx)("div",{className:"color-picker-cursor-small",style:{left:"".concat(a.s,"%"),top:"".concat(100-a.l,"%"),background:r}})]}),(0,Ft.jsx)("div",{ref:f,className:"color-picker-hue-small",onMouseDown:e=>{l("hue"),g(e)},children:(0,Ft.jsx)("div",{className:"hue-cursor-small",style:{left:"".concat(a.h/360*100,"%")}})})]})]})},Ya={primary:"#3f69ff",bgPrimary:"#f8fafc",bgSecondary:"#eef2ff",textPrimary:"#0f172a",textSecondary:"#64748b"},Ga={primary:"#6c7bff",bgPrimary:"#050816",bgSecondary:"#0f172a",textPrimary:"#e2e8f0",textSecondary:"#94a3b8"},Xa=[{name:"\u0421\u0438\u043d\u0438\u0439 (\u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e)",light:{primary:"#3f69ff",bgPrimary:"#f8fafc",bgSecondary:"#eef2ff",textPrimary:"#0f172a",textSecondary:"#64748b"},dark:{primary:"#6c7bff",bgPrimary:"#050816",bgSecondary:"#0f172a",textPrimary:"#e2e8f0",textSecondary:"#94a3b8"}},{name:"\u0424\u0438\u043e\u043b\u0435\u0442\u043e\u0432\u044b\u0439",light:{primary:"#8b5cf6",bgPrimary:"#faf5ff",bgSecondary:"#f3e8ff",textPrimary:"#1e1b4b",textSecondary:"#6b7280"},dark:{primary:"#a78bfa",bgPrimary:"#0c0a1d",bgSecondary:"#1e1b4b",textPrimary:"#e9d5ff",textSecondary:"#a5b4fc"}},{name:"\u0418\u0437\u0443\u043c\u0440\u0443\u0434\u043d\u044b\u0439",light:{primary:"#10b981",bgPrimary:"#f0fdf4",bgSecondary:"#dcfce7",textPrimary:"#064e3b",textSecondary:"#6b7280"},dark:{primary:"#34d399",bgPrimary:"#022c22",bgSecondary:"#064e3b",textPrimary:"#d1fae5",textSecondary:"#86efac"}},{name:"\u0420\u043e\u0437\u043e\u0432\u044b\u0439",light:{primary:"#ec4899",bgPrimary:"#fdf2f8",bgSecondary:"#fce7f3",textPrimary:"#831843",textSecondary:"#6b7280"},dark:{primary:"#f472b6",bgPrimary:"#1a0a14",bgSecondary:"#831843",textPrimary:"#fbcfe8",textSecondary:"#f9a8d4"}},{name:"\u041e\u0440\u0430\u043d\u0436\u0435\u0432\u044b\u0439",light:{primary:"#f97316",bgPrimary:"#fffbeb",bgSecondary:"#fef3c7",textPrimary:"#7c2d12",textSecondary:"#6b7280"},dark:{primary:"#fb923c",bgPrimary:"#1c1108",bgSecondary:"#7c2d12",textPrimary:"#fed7aa",textSecondary:"#fdba74"}},{name:"\u0422\u0451\u043c\u043d\u044b\u0439 \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u0438\u0437\u043c",light:{primary:"#374151",bgPrimary:"#f9fafb",bgSecondary:"#f3f4f6",textPrimary:"#111827",textSecondary:"#6b7280"},dark:{primary:"#9ca3af",bgPrimary:"#030712",bgSecondary:"#111827",textPrimary:"#f9fafb",textSecondary:"#d1d5db"}}];function $a(){const{token:e}=Wt(),{theme:r,updateThemeColors:n}=qa(),[i,a]=(0,t.useState)(Ya),[s,o]=(0,t.useState)(Ga),[l,c]=(0,t.useState)(!0),[d,h]=(0,t.useState)(!1),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(r);(0,t.useEffect)(()=>{e&&(async()=>{try{const t=await fetch("/api/admin/system-settings",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){const e=await t.json();a({primary:e.theme_primary_color||Ya.primary,bgPrimary:e.theme_bg_primary||Ya.bgPrimary,bgSecondary:e.theme_bg_secondary||Ya.bgSecondary,textPrimary:e.theme_text_primary||Ya.textPrimary,textSecondary:e.theme_text_secondary||Ya.textSecondary}),o({primary:e.theme_primary_color_dark||Ga.primary,bgPrimary:e.theme_bg_primary_dark||Ga.bgPrimary,bgSecondary:e.theme_bg_secondary_dark||Ga.bgSecondary,textPrimary:e.theme_text_primary_dark||Ga.textPrimary,textSecondary:e.theme_text_secondary_dark||Ga.textSecondary})}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0442\u0435\u043c\u044b:",YM)}finally{c(!1)}})()},[e]),(0,t.useEffect)(()=>{const e=document.documentElement,t="light"===m?i:s;e.style.setProperty("--accent-primary",t.primary),e.style.setProperty("--bg-primary",t.bgPrimary),e.style.setProperty("--bg-secondary",t.bgSecondary),e.style.setProperty("--text-primary",t.textPrimary),e.style.setProperty("--text-secondary",t.textSecondary),e.style.setProperty("--body-bg","light"===m?"linear-gradient(180deg, ".concat(t.bgPrimary," 0%, ").concat(t.bgSecondary," 35%, ").concat(t.bgSecondary," 100%)"):"radial-gradient(circle at 20% 20%, ".concat(t.primary,"40, transparent 45%), ").concat(t.bgPrimary)),e.style.setProperty("--glass-bg","light"===m?"".concat(t.bgPrimary,"f2"):"".concat(t.bgSecondary,"eb")),e.style.setProperty("--surface-strong","".concat(t.primary,"20"))},[i,s,m]);if(l)return(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."});const v="light"===m?i:s,y="light"===m?(e,t)=>{a(r=>u(u({},r),{},{[e]:t}))}:(e,t)=>{o(r=>u(u({},r),{},{[e]:t}))};return(0,Ft.jsxs)("main",{className:"admin-page-content",children:[(0,Ft.jsxs)("section",{className:"glass-card",style:{marginBottom:"24px"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,Ft.jsx)(ni,{size:28,style:{color:"var(--accent-primary)"}}),(0,Ft.jsx)("h2",{style:{margin:0},children:"\u041f\u043e\u043b\u043d\u0430\u044f \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0442\u0435\u043c\u044b"})]}),(0,Ft.jsx)("p",{style:{color:"var(--text-secondary)",margin:0},children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 \u0446\u0432\u0435\u0442\u043e\u0432\u0443\u044e \u0441\u0445\u0435\u043c\u0443 \u043f\u0430\u043d\u0435\u043b\u0438: \u0444\u043e\u043d, \u0430\u043a\u0446\u0435\u043d\u0442\u043d\u044b\u0435 \u0446\u0432\u0435\u0442\u0430 \u0438 \u0442\u0435\u043a\u0441\u0442. \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u043a\u043e \u0432\u0441\u0435\u043c\u0443 \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0443."})]}),(0,Ft.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(340px, 1fr))",gap:"24px"},children:[(0,Ft.jsxs)("section",{className:"glass-card",children:[(0,Ft.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"24px"},children:[(0,Ft.jsxs)("button",{className:"btn ".concat("light"===m?"btn-primary":"btn-secondary"),onClick:()=>g("light"),style:{flex:1},children:[(0,Ft.jsx)(yi,{})," \u0421\u0432\u0435\u0442\u043b\u0430\u044f"]}),(0,Ft.jsxs)("button",{className:"btn ".concat("dark"===m?"btn-primary":"btn-secondary"),onClick:()=>g("dark"),style:{flex:1},children:[(0,Ft.jsx)(ei,{})," \u0422\u0451\u043c\u043d\u0430\u044f"]})]}),(0,Ft.jsx)("h4",{style:{margin:"0 0 16px",color:"var(--text-secondary)"},children:"light"===m?"\u2600\ufe0f \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0441\u0432\u0435\u0442\u043b\u043e\u0439 \u0442\u0435\u043c\u044b":"\ud83c\udf19 \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0442\u0451\u043c\u043d\u043e\u0439 \u0442\u0435\u043c\u044b"}),(0,Ft.jsxs)("div",{className:"color-settings-grid",children:[(0,Ft.jsx)(Va,{color:v.primary,onChange:e=>y("primary",e),label:"\u0410\u043a\u0446\u0435\u043d\u0442\u043d\u044b\u0439 \u0446\u0432\u0435\u0442"}),(0,Ft.jsx)(Va,{color:v.bgPrimary,onChange:e=>y("bgPrimary",e),label:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0444\u043e\u043d"}),(0,Ft.jsx)(Va,{color:v.bgSecondary,onChange:e=>y("bgSecondary",e),label:"\u0412\u0442\u043e\u0440\u0438\u0447\u043d\u044b\u0439 \u0444\u043e\u043d"}),(0,Ft.jsx)(Va,{color:v.textPrimary,onChange:e=>y("textPrimary",e),label:"\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439 \u0442\u0435\u043a\u0441\u0442"}),(0,Ft.jsx)(Va,{color:v.textSecondary,onChange:e=>y("textSecondary",e),label:"\u0412\u0442\u043e\u0440\u0438\u0447\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442"})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",marginTop:"24px"},children:[(0,Ft.jsx)("button",{className:"btn btn-primary",onClick:async()=>{h(!0);try{(await fetch("/api/admin/system-settings",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({theme_primary_color:i.primary,theme_bg_primary:i.bgPrimary,theme_bg_secondary:i.bgSecondary,theme_text_primary:i.textPrimary,theme_text_secondary:i.textSecondary,theme_primary_color_dark:s.primary,theme_bg_primary_dark:s.bgPrimary,theme_bg_secondary_dark:s.bgSecondary,theme_text_primary_dark:s.textPrimary,theme_text_secondary_dark:s.textSecondary})})).ok&&(p(!0),setTimeout(()=>p(!1),2e3),n(i.primary,s.primary))}catch(YM){alert("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f")}finally{h(!1)}},disabled:d,style:{flex:1},children:d?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":f?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(kn,{})," \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e"]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(ci,{})," \u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"]})}),(0,Ft.jsx)("button",{className:"btn btn-secondary",onClick:()=>{a(Ya),o(Ga)},title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044f\u043c \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",children:(0,Ft.jsx)(li,{})})]})]}),(0,Ft.jsxs)("section",{className:"glass-card",children:[(0,Ft.jsx)("h3",{style:{marginTop:0,marginBottom:"20px"},children:"\u0413\u043e\u0442\u043e\u0432\u044b\u0435 \u0441\u0445\u0435\u043c\u044b"}),(0,Ft.jsx)("div",{className:"theme-presets-grid",children:Xa.map((e,t)=>(0,Ft.jsxs)("button",{className:"theme-preset-btn ".concat(i.primary===e.light.primary&&s.primary===e.dark.primary?"active":""),onClick:()=>(e=>{a(e.light),o(e.dark)})(e),title:e.name,children:[(0,Ft.jsxs)("div",{className:"preset-colors-row",children:[(0,Ft.jsx)("span",{style:{background:e.light.bgPrimary,border:"1px solid #ddd"}}),(0,Ft.jsx)("span",{style:{background:e.light.primary}}),(0,Ft.jsx)("span",{style:{background:e.dark.bgPrimary}}),(0,Ft.jsx)("span",{style:{background:e.dark.primary}})]}),(0,Ft.jsx)("span",{className:"preset-name",children:e.name}),i.primary===e.light.primary&&s.primary===e.dark.primary&&(0,Ft.jsx)(kn,{className:"preset-check"})]},t))})]}),(0,Ft.jsxs)("section",{className:"glass-card",children:[(0,Ft.jsxs)("h3",{style:{marginTop:0,marginBottom:"20px"},children:[(0,Ft.jsx)(In,{style:{marginRight:"8px"}}),"\u041f\u0440\u0435\u0432\u044c\u044e"]}),(0,Ft.jsxs)("div",{className:"theme-preview-box",style:{background:v.bgPrimary,color:v.textPrimary,borderRadius:"16px",padding:"20px",border:"1px solid ".concat(v.textSecondary,"30")},children:[(0,Ft.jsxs)("div",{style:{background:v.bgSecondary,borderRadius:"12px",padding:"16px",marginBottom:"16px"},children:[(0,Ft.jsx)("h4",{style:{margin:"0 0 8px",color:v.textPrimary},children:"\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430"}),(0,Ft.jsx)("p",{style:{margin:0,color:v.textSecondary,fontSize:"14px"},children:"\u0412\u0442\u043e\u0440\u0438\u0447\u043d\u044b\u0439 \u0442\u0435\u043a\u0441\u0442 \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438"})]}),(0,Ft.jsx)("button",{style:{background:v.primary,color:"#fff",border:"none",padding:"12px 24px",borderRadius:"10px",cursor:"pointer",width:"100%",fontWeight:600,marginBottom:"12px"},children:"\u041a\u043d\u043e\u043f\u043a\u0430"}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[(0,Ft.jsx)("span",{style:{background:"".concat(v.primary,"20"),color:v.primary,padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:600},children:"\u0422\u0435\u0433 1"}),(0,Ft.jsx)("span",{style:{background:"".concat(v.primary,"20"),color:v.primary,padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:600},children:"\u0422\u0435\u0433 2"})]}),(0,Ft.jsx)("a",{href:"#preview",onClick:e=>e.preventDefault(),style:{color:v.primary,textDecoration:"none"},children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u0441 \u0430\u043a\u0446\u0435\u043d\u0442\u043d\u044b\u043c \u0446\u0432\u0435\u0442\u043e\u043c \u2192"})]})]})]})]})}const Ja=e=>{let{title:r,icon:n,children:i,defaultOpen:a=!1}=e;const[s,o]=(0,t.useState)(a);return(0,Ft.jsxs)("div",{className:"bot-constructor-accordion",children:[(0,Ft.jsxs)("button",{className:"bot-constructor-accordion-header ".concat(s?"open":""),onClick:()=>o(!s),children:[(0,Ft.jsxs)("div",{className:"accordion-title",children:[n&&(0,Ft.jsx)(n,{size:20}),(0,Ft.jsx)("span",{children:r})]}),s?(0,Ft.jsx)(Cn,{size:20}):(0,Ft.jsx)(En,{size:20})]}),s&&(0,Ft.jsx)("div",{className:"bot-constructor-accordion-content",children:i})]})},Qa=e=>{let{label:t,checked:r,onChange:n,description:i}=e;return(0,Ft.jsxs)("div",{className:"bot-toggle-item",children:[(0,Ft.jsxs)("div",{className:"bot-toggle-info",children:[(0,Ft.jsx)("span",{className:"bot-toggle-label",children:t}),i&&(0,Ft.jsx)("span",{className:"bot-toggle-description",children:i})]}),(0,Ft.jsx)("button",{className:"bot-toggle-switch ".concat(r?"active":""),onClick:()=>n(!r),children:(0,Ft.jsx)("div",{className:"bot-toggle-thumb"})})]})},Za=e=>{let{translations:r,onChange:n,defaultTranslations:i}=e;const[a,s]=(0,t.useState)("ru"),[o,l]=(0,t.useState)(""),c=r[a]||{},d=i[a]||{},h=Object.keys(d).filter(e=>e.toLowerCase().includes(o.toLowerCase())||(d[e]||"").toLowerCase().includes(o.toLowerCase())||(c[e]||"").toLowerCase().includes(o.toLowerCase())),f=(e,t)=>{const i=u({},r);i[a]||(i[a]={}),i[a][e]=t,n(i)};return(0,Ft.jsxs)("div",{className:"translation-editor",children:[(0,Ft.jsx)("div",{className:"translation-tabs",children:[{code:"ru",name:"\ud83c\uddf7\ud83c\uddfa \u0420\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"ua",name:"\ud83c\uddfa\ud83c\udde6 \u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430"},{code:"en",name:"\ud83c\uddec\ud83c\udde7 English"},{code:"cn",name:"\ud83c\udde8\ud83c\uddf3 \u4e2d\u6587"}].map(e=>(0,Ft.jsx)("button",{className:"translation-tab ".concat(a===e.code?"active":""),onClick:()=>s(e.code),children:e.name},e.code))}),(0,Ft.jsx)("div",{className:"translation-search",children:(0,Ft.jsx)("input",{type:"text",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043a\u043b\u044e\u0447\u0443 \u0438\u043b\u0438 \u0442\u0435\u043a\u0441\u0442\u0443...",value:o,onChange:e=>l(e.target.value),className:"settings-input"})}),(0,Ft.jsxs)("div",{className:"translation-list",children:[h.map(e=>(0,Ft.jsxs)("div",{className:"translation-item",children:[(0,Ft.jsxs)("div",{className:"translation-key",children:[(0,Ft.jsx)("code",{children:e}),(0,Ft.jsx)("button",{className:"btn-reset-translation",onClick:()=>(e=>{f(e,d[e]||"")})(e),title:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e \u043f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e",children:(0,Ft.jsx)(li,{size:14})})]}),(0,Ft.jsx)("div",{className:"translation-default",children:(0,Ft.jsxs)("small",{children:["\u041f\u043e \u0443\u043c\u043e\u043b\u0447\u0430\u043d\u0438\u044e: ",d[e]||"\u2014"]})}),(0,Ft.jsx)("textarea",{className:"translation-input",value:void 0!==c[e]?c[e]:d[e]||"",onChange:t=>f(e,t.target.value),rows:2,placeholder:d[e]||""})]},e)),0===h.length&&(0,Ft.jsx)("div",{className:"translation-empty",children:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"})]})]})},es=e=>{let{buttonsOrder:t,onChange:r}=e;const n={connect:{icon:"\ud83d\ude80",label:"\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a VPN",single:!0},trial:{icon:"\ud83c\udf81",label:"\u0422\u0440\u0438\u0430\u043b",single:!0},status:{icon:"\ud83d\udcca",label:"\u041c\u043e\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"},tariffs:{icon:"\ud83d\udc8e",label:"\u0422\u0430\u0440\u0438\u0444\u044b"},options:{icon:"\ud83d\udce6",label:"\u041e\u043f\u0446\u0438\u0438"},referrals:{icon:"\ud83c\udf81",label:"\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u043a\u0430"},support:{icon:"\ud83d\udcac",label:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430"},settings:{icon:"\u2699\ufe0f",label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",single:!0},webapp:{icon:"\ud83d\udcf1",label:"Web \u041a\u0430\u0431\u0438\u043d\u0435\u0442",single:!0}},i=["trial","connect","status","tariffs","options","referrals","support","settings","webapp"],a=Object.keys(n),s=[...(t&&t.length>0?t:i).filter(e=>a.includes(e))];i.forEach(e=>{s.includes(e)||s.push(e)});const o=(e,t)=>{const n=[...s],i=n.indexOf(e),a=i+t;a<0||a>=n.length||([n[i],n[a]]=[n[a],n[i]],r(n))},l=(()=>{const e=[];let t=0;for(;t<s.length;){const r=s[t],i=n[r];if(null!==i&&void 0!==i&&i.single)e.push([r]),t++;else if(t+1<s.length){const i=s[t+1],a=n[i];null!==a&&void 0!==a&&a.single?(e.push([r]),t++):(e.push([r,i]),t+=2)}else e.push([r]),t++}return e})();return(0,Ft.jsxs)("div",{className:"buttons-order-editor-v2",children:[(0,Ft.jsxs)("div",{className:"bot-preview-container",children:[(0,Ft.jsx)("div",{className:"bot-preview-header",children:(0,Ft.jsx)("span",{children:"\ud83d\udcf1 \u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u043c\u0435\u043d\u044e \u0431\u043e\u0442\u0430"})}),(0,Ft.jsx)("div",{className:"bot-preview-buttons",children:l.map((e,t)=>(0,Ft.jsx)("div",{className:"bot-preview-row ".concat(1===e.length?"single":"double"),children:e.map(e=>{const t=n[e];if(!t)return null;const r=s.indexOf(e);return(0,Ft.jsxs)("div",{className:"bot-preview-button",children:[(0,Ft.jsxs)("div",{className:"bot-preview-button-content",children:[(0,Ft.jsx)("span",{className:"bot-preview-icon",children:t.icon}),(0,Ft.jsx)("span",{className:"bot-preview-label",children:t.label})]}),(0,Ft.jsxs)("div",{className:"bot-preview-controls",children:[(0,Ft.jsx)("button",{className:"btn-move-mini",onClick:()=>o(e,-1),disabled:0===r,title:"\u0412\u0432\u0435\u0440\u0445",children:"\u2191"}),(0,Ft.jsx)("button",{className:"btn-move-mini",onClick:()=>o(e,1),disabled:r===s.length-1,title:"\u0412\u043d\u0438\u0437",children:"\u2193"})]})]},e)})},t))})]}),(0,Ft.jsxs)("p",{className:"settings-hint",style:{marginTop:"0.75rem"},children:["\u041f\u043e\u0434\u043c\u0435\u043d\u044e \u043d\u0435 \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u044e\u0442 \u0432 \u043f\u043e\u0440\u044f\u0434\u043a\u0435 \u0433\u043b\u0430\u0432\u043d\u043e\u0433\u043e \u043c\u0435\u043d\u044e:",(0,Ft.jsx)("br",{}),(0,Ft.jsx)("b",{children:"\u041c\u043e\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430"}),": \u043a\u043e\u043d\u0444\u0438\u0433\u0438, \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435.",(0,Ft.jsx)("br",{}),(0,Ft.jsx)("b",{children:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430"}),": \u0442\u0438\u043a\u0435\u0442\u044b, \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435, \u043e\u0444\u0435\u0440\u0442\u0430."]}),(0,Ft.jsx)("p",{className:"settings-hint",style:{marginTop:"1rem",textAlign:"center"},children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 \u0441\u0442\u0440\u0435\u043b\u043a\u0438 \u2191\u2193 \u0434\u043b\u044f \u043f\u0435\u0440\u0435\u043c\u0435\u0449\u0435\u043d\u0438\u044f \u043a\u043d\u043e\u043f\u043e\u043a. \u041a\u043d\u043e\u043f\u043a\u0438 \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0433\u0440\u0443\u043f\u043f\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u043f\u043e 2 \u0432 \u0440\u044f\u0434."})]})},ts=e=>{let{title:r,values:n,onChange:i,placeholder:a}=e;const[s,o]=(0,t.useState)("ru");return(0,Ft.jsxs)("div",{className:"document-editor",children:[(0,Ft.jsx)("h4",{children:r}),(0,Ft.jsx)("div",{className:"document-tabs",children:[{code:"ru",name:"\ud83c\uddf7\ud83c\uddfa RU"},{code:"ua",name:"\ud83c\uddfa\ud83c\udde6 UA"},{code:"en",name:"\ud83c\uddec\ud83c\udde7 EN"},{code:"cn",name:"\ud83c\udde8\ud83c\uddf3 CN"}].map(e=>(0,Ft.jsx)("button",{className:"document-tab ".concat(s===e.code?"active":""),onClick:()=>o(e.code),children:e.name},e.code))}),(0,Ft.jsx)("textarea",{className:"document-textarea",value:n[s]||"",onChange:e=>i(u(u({},n),{},{[s]:e.target.value})),rows:10,placeholder:a}),(0,Ft.jsxs)("p",{className:"settings-hint",children:["\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442\u0441\u044f Markdown. \u041f\u0435\u0440\u0435\u043c\u0435\u043d\u043d\u044b\u0435: ","{SERVICE_NAME}"," \u2014 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"]})]})};const rs=function(){const{token:e}=Wt(),[r,n]=(0,t.useState)(!0),[i,a]=(0,t.useState)(!1),[s,o]=(0,t.useState)(null),[l,c]=(0,t.useState)(null),[d,h]=(0,t.useState)({}),[f,p]=(0,t.useState)({service_name:"StealthNET",bot_username:"",support_url:"",support_bot_username:"",trial_days:3,show_connect_button:!0,show_status_button:!0,show_tariffs_button:!0,show_options_button:!0,show_webapp_button:!0,show_trial_button:!0,show_referral_button:!0,show_support_button:!0,show_servers_button:!0,show_agreement_button:!0,show_offer_button:!0,show_topup_button:!0,show_settings_button:!0,translations_ru:{},translations_ua:{},translations_en:{},translations_cn:{},welcome_message_ru:"",welcome_message_ua:"",welcome_message_en:"",welcome_message_cn:"",user_agreement_ru:"",user_agreement_ua:"",user_agreement_en:"",user_agreement_cn:"",offer_text_ru:"",offer_text_ua:"",offer_text_en:"",offer_text_cn:"",require_channel_subscription:!1,channel_id:"",channel_url:"",channel_subscription_text_ru:"",channel_subscription_text_ua:"",channel_subscription_text_en:"",channel_subscription_text_cn:"",bot_link_for_miniapp:"",buttons_order:["trial","connect","status","tariffs","options","referrals","support","settings","webapp"]});(0,t.useEffect)(()=>{e&&(async()=>{n(!0);try{const[t,r]=await Promise.all([fetch("/api/admin/bot-config",{headers:{Authorization:"Bearer ".concat(e)}}),fetch("/api/admin/bot-config/default-translations",{headers:{Authorization:"Bearer ".concat(e)}})]);if(t.ok){const e=await t.json();p(t=>u(u({},t),e))}if(r.ok){const e=await r.json();h(e)}}catch(YM){o("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e")}finally{n(!1)}})()},[e]);const m=async()=>{a(!0),o(null),c(null);try{if(!(await fetch("/api/admin/bot-config",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(f)})).ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044e");c("\u2705 \u041a\u043e\u043d\u0444\u0438\u0433\u0443\u0440\u0430\u0446\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0430! \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043c\u0438\u043d\u0443\u0442\u044b."),setTimeout(()=>c(null),5e3)}catch(YM){o(YM.message)}finally{a(!1)}};if(r)return(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440\u0430..."})})});const g={ru:f.translations_ru||{},ua:f.translations_ua||{},en:f.translations_en||{},cn:f.translations_cn||{}};return(0,Ft.jsx)("main",{className:"admin-page-content bot-constructor",children:(0,Ft.jsxs)("section",{children:[(0,Ft.jsxs)("div",{className:"bot-constructor-header",children:[(0,Ft.jsxs)("div",{children:[(0,Ft.jsxs)("h2",{className:"admin-page-title",children:[(0,Ft.jsx)(wn,{size:28})," \u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u0431\u043e\u0442\u0430"]}),(0,Ft.jsx)("p",{className:"admin-description-text",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u0442\u0435 Telegram \u0431\u043e\u0442\u0430: \u0442\u0435\u043a\u0441\u0442\u044b, \u043a\u043d\u043e\u043f\u043a\u0438, \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b \u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b"})]}),(0,Ft.jsxs)("button",{className:"btn btn-primary",onClick:m,disabled:i,children:[(0,Ft.jsx)(ci,{size:18}),i?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u0441\u0451"]})]}),s&&(0,Ft.jsx)("div",{className:"message-error",children:s}),l&&(0,Ft.jsx)("div",{className:"message-success",children:l}),(0,Ft.jsx)(Ja,{title:"\u041e\u0431\u0449\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",icon:hi,defaultOpen:!0,children:(0,Ft.jsxs)("div",{className:"settings-grid",children:[(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{className:"settings-label",children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0432\u0438\u0441\u0430"}),(0,Ft.jsx)("input",{type:"text",className:"settings-input",value:f.service_name,onChange:e=>p(t=>u(u({},t),{},{service_name:e.target.value})),placeholder:"StealthNET"}),(0,Ft.jsxs)("p",{className:"settings-hint",children:["\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f \u0432 \u0442\u0435\u043a\u0441\u0442\u0430\u0445 \u0431\u043e\u0442\u0430 \u043a\u0430\u043a ","{SERVICE_NAME}"]})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{className:"settings-label",children:"Username \u0431\u043e\u0442\u0430"}),(0,Ft.jsx)("input",{type:"text",className:"settings-input",value:f.bot_username,onChange:e=>p(t=>u(u({},t),{},{bot_username:e.target.value})),placeholder:"@StealthNetBot"})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{className:"settings-label",children:"\u0414\u043d\u0435\u0439 \u0442\u0440\u0438\u0430\u043b\u0430"}),(0,Ft.jsx)("input",{type:"number",className:"settings-input",value:f.trial_days,onChange:e=>p(t=>u(u({},t),{},{trial_days:parseInt(e.target.value)||3})),min:"1",max:"30"}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u0434\u043d\u0435\u0439 \u043f\u043e\u043b\u0443\u0447\u0438\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u0440\u0438 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0442\u0440\u0438\u0430\u043b\u0430"})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{className:"settings-label",children:"Username \u0431\u043e\u0442\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438"}),(0,Ft.jsx)("input",{type:"text",className:"settings-input",value:f.support_bot_username,onChange:e=>p(t=>u(u({},t),{},{support_bot_username:e.target.value})),placeholder:"@StealthNetSupportBot"})]}),(0,Ft.jsxs)("div",{className:"settings-form-group full-width",children:[(0,Ft.jsx)("label",{className:"settings-label",children:"URL \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438"}),(0,Ft.jsx)("input",{type:"url",className:"settings-input",value:f.support_url,onChange:e=>p(t=>u(u({},t),{},{support_url:e.target.value})),placeholder:"https://t.me/StealthNetSupport"}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0447\u0430\u0442/\u043a\u0430\u043d\u0430\u043b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438"})]})]})}),(0,Ft.jsxs)(Ja,{title:"\u0412\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u044c \u0440\u0430\u0437\u0434\u0435\u043b\u043e\u0432",icon:_i,children:[(0,Ft.jsx)("p",{className:"settings-hint",style:{marginBottom:"1rem"},children:"\u0412\u043a\u043b\u044e\u0447\u0430\u0439\u0442\u0435 \u0438\u043b\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0439\u0442\u0435 \u0440\u0430\u0437\u0434\u0435\u043b\u044b (\u0433\u043b\u0430\u0432\u043d\u043e\u0435 \u043c\u0435\u043d\u044e \u0438 \u043f\u043e\u0434\u043c\u0435\u043d\u044e)"}),(0,Ft.jsxs)("div",{className:"bot-toggles-grid",children:[(0,Ft.jsx)(Qa,{label:"\ud83d\ude80 \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a VPN",checked:f.show_connect_button,onChange:e=>p(t=>u(u({},t),{},{show_connect_button:e})),description:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0443 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u0438 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0435"}),(0,Ft.jsx)(Qa,{label:"\ud83c\udf81 \u0410\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u0440\u0438\u0430\u043b",checked:f.show_trial_button,onChange:e=>p(t=>u(u({},t),{},{show_trial_button:e})),description:"\u041a\u043d\u043e\u043f\u043a\u0430 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u043f\u0440\u043e\u0431\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430"}),(0,Ft.jsx)(Qa,{label:"\ud83d\udcca \u041c\u043e\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430",checked:f.show_status_button,onChange:e=>p(t=>u(u({},t),{},{show_status_button:e})),description:"\u041f\u043e\u0434\u043c\u0435\u043d\u044e: \u043a\u043e\u043d\u0444\u0438\u0433\u0438, \u0441\u0435\u0440\u0432\u0435\u0440\u0430, \u043f\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435"}),(0,Ft.jsx)(Qa,{label:"\ud83d\udc8e \u0422\u0430\u0440\u0438\u0444\u044b",checked:f.show_tariffs_button,onChange:e=>p(t=>u(u({},t),{},{show_tariffs_button:e})),description:"\u041f\u043e\u043a\u0443\u043f\u043a\u0430 \u0442\u0430\u0440\u0438\u0444\u043e\u0432"}),(0,Ft.jsx)(Qa,{label:"\ud83d\udce6 \u041e\u043f\u0446\u0438\u0438",checked:f.show_options_button,onChange:e=>p(t=>u(u({},t),{},{show_options_button:e})),description:"\u041f\u043e\u043a\u0443\u043f\u043a\u0430 \u043e\u043f\u0446\u0438\u0439"}),(0,Ft.jsx)(Qa,{label:"\ud83d\udcf1 \u041a\u0430\u0431\u0438\u043d\u0435\u0442 (WebApp)",checked:f.show_webapp_button,onChange:e=>p(t=>u(u({},t),{},{show_webapp_button:e})),description:"\u041a\u043d\u043e\u043f\u043a\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f Mini App"}),(0,Ft.jsx)(Qa,{label:"\ud83d\udcb0 \u041f\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0431\u0430\u043b\u0430\u043d\u0441 (\u0432 \xab\u041c\u043e\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430\xbb)",checked:f.show_topup_button,onChange:e=>p(t=>u(u({},t),{},{show_topup_button:e})),description:"\u041f\u0443\u043d\u043a\u0442 \u043f\u043e\u0434\u043c\u0435\u043d\u044e \xab\u041c\u043e\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430\xbb"}),(0,Ft.jsx)(Qa,{label:"\ud83c\udf10 \u0421\u0435\u0440\u0432\u0435\u0440\u044b (\u0432 \xab\u041c\u043e\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430\xbb)",checked:f.show_servers_button,onChange:e=>p(t=>u(u({},t),{},{show_servers_button:e})),description:"\u041f\u0443\u043d\u043a\u0442 \u043f\u043e\u0434\u043c\u0435\u043d\u044e \xab\u041c\u043e\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430\xbb"}),(0,Ft.jsx)(Qa,{label:"\ud83c\udf81 \u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044b",checked:f.show_referral_button,onChange:e=>p(t=>u(u({},t),{},{show_referral_button:e})),description:"\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430"}),(0,Ft.jsx)(Qa,{label:"\ud83d\udcac \u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430",checked:f.show_support_button,onChange:e=>p(t=>u(u({},t),{},{show_support_button:e})),description:"\u0420\u0430\u0437\u0434\u0435\u043b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 (\u0442\u0438\u043a\u0435\u0442\u044b, \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b)"}),(0,Ft.jsx)(Qa,{label:"\u2699\ufe0f \u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",checked:f.show_settings_button,onChange:e=>p(t=>u(u({},t),{},{show_settings_button:e})),description:"\u0412\u044b\u0431\u043e\u0440 \u044f\u0437\u044b\u043a\u0430 \u0438 \u0432\u0430\u043b\u044e\u0442\u044b"}),(0,Ft.jsx)(Qa,{label:"\ud83d\udcc4 \u0421\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 (\u0432 \xab\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430\xbb)",checked:f.show_agreement_button,onChange:e=>p(t=>u(u({},t),{},{show_agreement_button:e})),description:"\u041f\u0443\u043d\u043a\u0442 \u043f\u043e\u0434\u043c\u0435\u043d\u044e \xab\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430\xbb"}),(0,Ft.jsx)(Qa,{label:"\ud83d\udccb \u041e\u0444\u0435\u0440\u0442\u0430 (\u0432 \xab\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430\xbb)",checked:f.show_offer_button,onChange:e=>p(t=>u(u({},t),{},{show_offer_button:e})),description:"\u041f\u0443\u043d\u043a\u0442 \u043f\u043e\u0434\u043c\u0435\u043d\u044e \xab\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430\xbb"})]})]}),(0,Ft.jsxs)(Ja,{title:"\u0422\u0435\u043a\u0441\u0442\u044b \u0438 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u044b",icon:Kn,children:[(0,Ft.jsx)("p",{className:"settings-hint",style:{marginBottom:"1rem"},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0442\u0435\u043a\u0441\u0442\u044b \u0431\u043e\u0442\u0430 \u043d\u0430 \u0432\u0441\u0435\u0445 \u044f\u0437\u044b\u043a\u0430\u0445. \u0418\u0437\u043c\u0435\u043d\u0451\u043d\u043d\u044b\u0435 \u0442\u0435\u043a\u0441\u0442\u044b \u043f\u0435\u0440\u0435\u0437\u0430\u043f\u0438\u0441\u044b\u0432\u0430\u044e\u0442 \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u044b\u0435."}),(0,Ft.jsx)(Za,{translations:g,onChange:e=>{p(t=>u(u({},t),{},{translations_ru:e.ru||t.translations_ru,translations_ua:e.ua||t.translations_ua,translations_en:e.en||t.translations_en,translations_cn:e.cn||t.translations_cn}))},defaultTranslations:d})]}),(0,Ft.jsx)(Ja,{title:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",icon:Zn,children:(0,Ft.jsx)(ts,{title:"\u041f\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 (\u043f\u0440\u0438 /start)",values:{ru:f.welcome_message_ru,ua:f.welcome_message_ua,en:f.welcome_message_en,cn:f.welcome_message_cn},onChange:e=>p(t=>u(u({},t),{},{welcome_message_ru:e.ru,welcome_message_ua:e.ua,welcome_message_en:e.en,welcome_message_cn:e.cn})),placeholder:"\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0433\u043e \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})}),(0,Ft.jsxs)(Ja,{title:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u044b",icon:Bn,children:[(0,Ft.jsx)(ts,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0435 \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435",values:{ru:f.user_agreement_ru,ua:f.user_agreement_ua,en:f.user_agreement_en,cn:f.user_agreement_cn},onChange:e=>p(t=>u(u({},t),{},{user_agreement_ru:e.ru,user_agreement_ua:e.ua,user_agreement_en:e.en,user_agreement_cn:e.cn})),placeholder:"\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0433\u043e \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f..."}),(0,Ft.jsx)("div",{style:{marginTop:"2rem"},children:(0,Ft.jsx)(ts,{title:"\u041f\u0443\u0431\u043b\u0438\u0447\u043d\u0430\u044f \u043e\u0444\u0435\u0440\u0442\u0430",values:{ru:f.offer_text_ru,ua:f.offer_text_ua,en:f.offer_text_en,cn:f.offer_text_cn},onChange:e=>p(t=>u(u({},t),{},{offer_text_ru:e.ru,offer_text_ua:e.ua,offer_text_en:e.en,offer_text_cn:e.cn})),placeholder:"\u0422\u0435\u043a\u0441\u0442 \u043f\u0443\u0431\u043b\u0438\u0447\u043d\u043e\u0439 \u043e\u0444\u0435\u0440\u0442\u044b..."})})]}),(0,Ft.jsxs)(Ja,{title:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430",icon:Ei,children:[(0,Ft.jsx)("div",{className:"settings-form-group",style:{marginBottom:"1.5rem"},children:(0,Ft.jsx)(Qa,{label:"\u0422\u0440\u0435\u0431\u043e\u0432\u0430\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0443 \u043d\u0430 \u043a\u0430\u043d\u0430\u043b \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",checked:f.require_channel_subscription,onChange:e=>p(t=>u(u({},t),{},{require_channel_subscription:e})),description:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043a\u0430\u043d\u0430\u043b/\u0433\u0440\u0443\u043f\u043f\u0443 \u043f\u0435\u0440\u0435\u0434 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0435\u0439"})}),f.require_channel_subscription&&(0,Ft.jsxs)("div",{className:"settings-grid",children:[(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{className:"settings-label",children:"ID \u043a\u0430\u043d\u0430\u043b\u0430/\u0433\u0440\u0443\u043f\u043f\u044b"}),(0,Ft.jsx)("input",{type:"text",className:"settings-input",value:f.channel_id,onChange:e=>p(t=>u(u({},t),{},{channel_id:e.target.value})),placeholder:"@channelname \u0438\u043b\u0438 -1001234567890"}),(0,Ft.jsx)("p",{className:"settings-hint",children:"Username \u043a\u0430\u043d\u0430\u043b\u0430 (@channel) \u0438\u043b\u0438 \u0447\u0438\u0441\u043b\u043e\u0432\u043e\u0439 ID"})]}),(0,Ft.jsxs)("div",{className:"settings-form-group",children:[(0,Ft.jsx)("label",{className:"settings-label",children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u043d\u0430\u043b"}),(0,Ft.jsx)("input",{type:"url",className:"settings-input",value:f.channel_url,onChange:e=>p(t=>u(u({},t),{},{channel_url:e.target.value})),placeholder:"https://t.me/yourchannel"}),(0,Ft.jsx)("p",{className:"settings-hint",children:'\u0421\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f \u043a\u043d\u043e\u043f\u043a\u0438 "\u041f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f"'})]}),(0,Ft.jsx)("div",{className:"settings-form-group full-width",children:(0,Ft.jsx)(ts,{title:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u043e \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0435",values:{ru:f.channel_subscription_text_ru||"\u0414\u043b\u044f \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u0442\u044c\u0441\u044f \u043d\u0430 \u043d\u0430\u0448 \u043a\u0430\u043d\u0430\u043b",ua:f.channel_subscription_text_ua||"\u0414\u043b\u044f \u0440\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u0457 \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e \u043f\u0456\u0434\u043f\u0438\u0441\u0430\u0442\u0438\u0441\u044f \u043d\u0430 \u043d\u0430\u0448 \u043a\u0430\u043d\u0430\u043b",en:f.channel_subscription_text_en||"You need to subscribe to our channel to register",cn:f.channel_subscription_text_cn||"\u60a8\u9700\u8981\u8ba2\u9605\u6211\u4eec\u7684\u9891\u9053\u624d\u80fd\u6ce8\u518c"},onChange:e=>p(t=>u(u({},t),{},{channel_subscription_text_ru:e.ru,channel_subscription_text_ua:e.ua,channel_subscription_text_en:e.en,channel_subscription_text_cn:e.cn})),placeholder:"\u0422\u0435\u043a\u0441\u0442 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f..."})})]})]}),(0,Ft.jsx)(Ja,{title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 Mini App",icon:Gn,children:(0,Ft.jsx)("div",{className:"settings-grid",children:(0,Ft.jsxs)("div",{className:"settings-form-group full-width",children:[(0,Ft.jsx)("label",{className:"settings-label",children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0431\u043e\u0442\u0430"}),(0,Ft.jsx)("input",{type:"url",className:"settings-input",value:f.bot_link_for_miniapp,onChange:e=>p(t=>u(u({},t),{},{bot_link_for_miniapp:e.target.value})),placeholder:"https://t.me/YourBotName"}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044f \u0432 Mini App \u0434\u043b\u044f \u043d\u0435\u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439"})]})})}),(0,Ft.jsxs)(Ja,{title:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043a\u043d\u043e\u043f\u043e\u043a \u0432 \u043c\u0435\u043d\u044e",icon:Hn,children:[(0,Ft.jsx)("p",{className:"settings-hint",style:{marginBottom:"1rem"},children:"\u041f\u0435\u0440\u0435\u043c\u0435\u0449\u0430\u0439\u0442\u0435 \u043a\u043d\u043e\u043f\u043a\u0438 \u0434\u043b\u044f \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0438\u0445 \u043f\u043e\u0440\u044f\u0434\u043a\u0430 \u0432 \u0433\u043b\u0430\u0432\u043d\u043e\u043c \u043c\u0435\u043d\u044e \u0431\u043e\u0442\u0430"}),(0,Ft.jsx)(es,{buttonsOrder:f.buttons_order||[],onChange:e=>p(t=>u(u({},t),{},{buttons_order:e}))})]}),(0,Ft.jsxs)("div",{className:"bot-constructor-footer",children:[(0,Ft.jsxs)("button",{className:"btn btn-primary btn-lg",onClick:m,disabled:i,children:[(0,Ft.jsx)(ci,{size:20}),i?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0432\u0441\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"]}),(0,Ft.jsx)("p",{className:"settings-hint",children:"\u2728 \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0440\u0438\u043c\u0435\u043d\u044f\u044e\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u043c\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 1 \u043c\u0438\u043d\u0443\u0442\u044b"})]})]})})};const ns=function(){const[e,r]=(0,t.useState)({days:3,devices:3,traffic_limit_bytes:0,enabled:!0,title_ru:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 {days} \u0434\u043d\u0435\u0439 \u043f\u0440\u0435\u043c\u0438\u0443\u043c",title_ua:"\u041e\u0442\u0440\u0438\u043c\u0430\u0439\u0442\u0435 {days} \u0434\u043d\u0456\u0432 \u043f\u0440\u0435\u043c\u0456\u0443\u043c",title_en:"Get {days} Days Premium",title_cn:"\u83b7\u5f97 {days} \u5929\u9ad8\u7ea7\u7248",description_ru:"\u0414\u0430\u0434\u0438\u043c \u043f\u043e\u043b\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0431\u0435\u0437 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439 \u2014 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0435\u0442\u044c \u043f\u0435\u0440\u0435\u0434 \u043e\u043f\u043b\u0430\u0442\u043e\u0439.",description_ua:"\u0414\u0430\u043c\u043e \u043f\u043e\u0432\u043d\u0438\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0431\u0435\u0437 \u043e\u0431\u043c\u0435\u0436\u0435\u043d\u044c \u2014 \u043f\u0440\u043e\u0442\u0435\u0441\u0442\u0443\u0439\u0442\u0435 \u043c\u0435\u0440\u0435\u0436\u0443 \u043f\u0435\u0440\u0435\u0434 \u043e\u043f\u043b\u0430\u0442\u043e\u044e.",description_en:"We'll give you full access without restrictions \u2014 test the network before payment.",description_cn:"\u6211\u4eec\u5c06\u4e3a\u60a8\u63d0\u4f9b\u65e0\u9650\u5236\u7684\u5b8c\u5168\u8bbf\u95ee\u6743\u9650 \u2014 \u5728\u4ed8\u6b3e\u524d\u6d4b\u8bd5\u7f51\u7edc\u3002",button_text_ru:"\ud83c\udf81 \u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e ({days} \u0434\u043d\u044f)",button_text_ua:"\ud83c\udf81 \u0421\u043f\u0440\u043e\u0431\u0443\u0432\u0430\u0442\u0438 \u0431\u0435\u0437\u043a\u043e\u0448\u0442\u043e\u0432\u043d\u043e ({days} \u0434\u043d\u0456)",button_text_en:"\ud83c\udf81 Try Free ({days} Days)",button_text_cn:"\ud83c\udf81 \u514d\u8d39\u8bd5\u7528 ({days} \u5929)",activation_message_ru:"\u2705 \u0422\u0440\u0438\u0430\u043b \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d! \u0412\u0430\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e {days} \u0434\u043d\u0435\u0439 \u043f\u0440\u0435\u043c\u0438\u0443\u043c-\u0434\u043e\u0441\u0442\u0443\u043f\u0430.",activation_message_ua:"\u2705 \u0422\u0440\u0456\u0430\u043b \u0430\u043a\u0442\u0438\u0432\u043e\u0432\u0430\u043d\u043e! \u0412\u0430\u043c \u0434\u043e\u0434\u0430\u043d\u043e {days} \u0434\u043d\u0456\u0432 \u043f\u0440\u0435\u043c\u0456\u0443\u043c-\u0434\u043e\u0441\u0442\u0443\u043f\u0443.",activation_message_en:"\u2705 Trial activated! You have been added {days} days of premium access.",activation_message_cn:"\u2705 \u8bd5\u7528\u5df2\u6fc0\u6d3b\uff01\u60a8\u5df2\u83b7\u5f97 {days} \u5929\u7684\u9ad8\u7ea7\u8bbf\u95ee\u6743\u9650\u3002"}),[n,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)(null),{token:c}=Wt();(0,t.useEffect)(()=>{c&&(async()=>{i(!0),s(null);try{const e=await fetch("/api/admin/trial-settings",{headers:{Authorization:"Bearer ".concat(c)}});if(!e.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438");const t=await e.json();r(e=>u(u({},e),t))}catch(YM){s(YM.message)}finally{i(!1)}})()},[c]);const d=e=>{const{name:t,value:n,type:i,checked:a}=e.target;r(e=>u(u({},e),{},{[t]:"checkbox"===i?a:"number"===i?(t.includes("bytes"),parseInt(n,10)):n}))};return n?(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})}):(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("section",{children:[(0,Ft.jsx)("h2",{children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0442\u0440\u0438\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430"}),(0,Ft.jsx)("p",{className:"admin-description-text",children:"\u0417\u0434\u0435\u0441\u044c \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0438\u0442\u044c \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b \u0442\u0440\u0438\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043f\u0435\u0440\u0438\u043e\u0434\u0430: \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439, \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432, \u043b\u0438\u043c\u0438\u0442 \u0442\u0440\u0430\u0444\u0438\u043a\u0430 \u0438 \u0442\u0435\u043a\u0441\u0442\u044b, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0431\u0443\u0434\u0443\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c \u0432 \u0431\u043e\u0442\u0435, \u043c\u0438\u043d\u0438-\u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438 \u0438 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435."}),a&&(0,Ft.jsx)("div",{className:"message-error",children:a}),(0,Ft.jsxs)("form",{className:"tariff-form",onSubmit:async t=>{t.preventDefault(),l("saving"),s(null);try{const t=await fetch("/api/admin/trial-settings",{method:"POST",headers:{Authorization:"Bearer ".concat(c),"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json();if(!t.ok)throw new Error(r.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f");l("success"),setTimeout(()=>l(null),2e3)}catch(t){s(t.message),l("error")}},children:[(0,Ft.jsxs)("div",{className:"form-section",style:{marginBottom:"30px",padding:"20px",background:"var(--glass-bg)",borderRadius:"12px"},children:[(0,Ft.jsx)("h3",{style:{marginTop:0,marginBottom:"20px"},children:"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u0430\u0440\u0430\u043c\u0435\u0442\u0440\u044b"}),(0,Ft.jsxs)("div",{className:"form-row",children:[(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 30%"},children:[(0,Ft.jsx)("label",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439 \u0442\u0440\u0438\u0430\u043b\u0430 *"}),(0,Ft.jsx)("input",{type:"number",name:"days",value:e.days,onChange:d,min:"1",max:"365",required:!0}),(0,Ft.jsx)("small",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u043d\u0435\u0439 \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e\u0433\u043e \u0434\u043e\u0441\u0442\u0443\u043f\u0430"})]}),(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 30%"},children:[(0,Ft.jsx)("label",{children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432 *"}),(0,Ft.jsx)("input",{type:"number",name:"devices",value:e.devices,onChange:d,min:"1",max:"100",required:!0}),(0,Ft.jsx)("small",{children:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432"})]}),(0,Ft.jsxs)("div",{className:"form-group",style:{flex:"1 1 30%"},children:[(0,Ft.jsx)("label",{children:"\u041b\u0438\u043c\u0438\u0442 \u0442\u0440\u0430\u0444\u0438\u043a\u0430 (GB)"}),(0,Ft.jsx)("input",{type:"number",value:0===e.traffic_limit_bytes?"":(e.traffic_limit_bytes/1073741824).toFixed(2),onChange:e=>{const t=e.target.value;if(""===t||"0"===t)r(e=>u(u({},e),{},{traffic_limit_bytes:0}));else{const e=parseFloat(t),n=Math.round(1024*e*1024*1024);r(e=>u(u({},e),{},{traffic_limit_bytes:n}))}},min:"0",step:"0.01",placeholder:"\u0411\u0435\u0437\u043b\u0438\u043c\u0438\u0442"}),(0,Ft.jsxs)("small",{children:["\u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u043c \u0434\u043b\u044f \u0431\u0435\u0437\u043b\u0438\u043c\u0438\u0442\u043d\u043e\u0433\u043e \u0442\u0440\u0430\u0444\u0438\u043a\u0430 (\u0442\u0435\u043a\u0443\u0449\u0435\u0435: ",(e=>{if(0===e)return"\u0411\u0435\u0437\u043b\u0438\u043c\u0438\u0442";return"".concat((e/1073741824).toFixed(2)," GB")})(e.traffic_limit_bytes),")"]})]})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[(0,Ft.jsx)("input",{type:"checkbox",name:"enabled",checked:e.enabled,onChange:d}),"\u0422\u0440\u0438\u0430\u043b \u0432\u043a\u043b\u044e\u0447\u0435\u043d"]}),(0,Ft.jsx)("small",{children:"\u0415\u0441\u043b\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0435\u043d\u043e, \u043a\u043d\u043e\u043f\u043a\u0430 \u0442\u0440\u0438\u0430\u043b\u0430 \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f"})]})]}),[{code:"ru",name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",flag:"\ud83c\uddf7\ud83c\uddfa"},{code:"ua",name:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",flag:"\ud83c\uddfa\ud83c\udde6"},{code:"en",name:"English",flag:"\ud83c\uddec\ud83c\udde7"},{code:"cn",name:"\u4e2d\u6587",flag:"\ud83c\udde8\ud83c\uddf3"}].map(t=>(0,Ft.jsxs)("div",{className:"form-section",style:{marginBottom:"30px",padding:"20px",background:"var(--glass-bg)",borderRadius:"12px"},children:[(0,Ft.jsxs)("h3",{style:{marginTop:0,marginBottom:"20px"},children:[t.flag," ",t.name]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),(0,Ft.jsx)("input",{type:"text",name:"title_".concat(t.code),value:e["title_".concat(t.code)]||"",onChange:d,placeholder:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 {days} \u0434\u043d\u0435\u0439 \u043f\u0440\u0435\u043c\u0438\u0443\u043c"}),(0,Ft.jsxs)("small",{children:["\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 ","{days}"," \u0434\u043b\u044f \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0434\u043d\u0435\u0439"]})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,Ft.jsx)("textarea",{name:"description_".concat(t.code),value:e["description_".concat(t.code)]||"",onChange:d,rows:"3",placeholder:"\u0414\u0430\u0434\u0438\u043c \u043f\u043e\u043b\u043d\u044b\u0439 \u0434\u043e\u0441\u0442\u0443\u043f \u0431\u0435\u0437 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439..."}),(0,Ft.jsx)("small",{children:"\u0422\u0435\u043a\u0441\u0442, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u0443\u0434\u0435\u0442 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c\u0441\u044f \u043f\u043e\u0434 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u043e\u043c"})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0422\u0435\u043a\u0441\u0442 \u043a\u043d\u043e\u043f\u043a\u0438"}),(0,Ft.jsx)("input",{type:"text",name:"button_text_".concat(t.code),value:e["button_text_".concat(t.code)]||"",onChange:d,placeholder:"\ud83c\udf81 \u041f\u043e\u043f\u0440\u043e\u0431\u043e\u0432\u0430\u0442\u044c \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e ({days} \u0434\u043d\u044f)"}),(0,Ft.jsxs)("small",{children:["\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 ","{days}"," \u0434\u043b\u044f \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u043a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0434\u043d\u0435\u0439"]})]}),(0,Ft.jsxs)("div",{className:"form-group",children:[(0,Ft.jsx)("label",{children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043f\u0440\u0438 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438"}),(0,Ft.jsx)("textarea",{name:"activation_message_".concat(t.code),value:e["activation_message_".concat(t.code)]||"",onChange:d,rows:"2",placeholder:"\u2705 \u0422\u0440\u0438\u0430\u043b \u0430\u043a\u0442\u0438\u0432\u0438\u0440\u043e\u0432\u0430\u043d! \u0412\u0430\u043c \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e {days} \u0434\u043d\u0435\u0439..."}),(0,Ft.jsxs)("small",{children:["\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435, \u043a\u043e\u0442\u043e\u0440\u043e\u0435 \u0443\u0432\u0438\u0434\u0438\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u043f\u043e\u0441\u043b\u0435 \u0430\u043a\u0442\u0438\u0432\u0430\u0446\u0438\u0438 \u0442\u0440\u0438\u0430\u043b\u0430. \u0418\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0439\u0442\u0435 ","{days}"," \u0434\u043b\u044f \u043f\u043e\u0434\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438"]})]})]},t.code)),(0,Ft.jsx)("div",{className:"form-actions",style:{marginTop:"30px"},children:(0,Ft.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:"saving"===o,children:"saving"===o?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"success"===o?"\u2705 \u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e!":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})})]})]})})};function is(e){var t,r,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=is(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function as(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=is(e))&&(n&&(n+=" "),n+=t);return n}var ss=r(7820),os=r.n(ss),ls=r(7770),cs=r.n(ls);function us(e){var t=10**(arguments.length>1&&void 0!==arguments[1]?arguments[1]:4),r=Math.round(e*t)/t;return Object.is(r,-0)?0:r}function ds(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((e,t,n)=>{var i=r[n-1];return"string"===typeof i?e+i+t:void 0!==i?e+us(i)+t:e+t},"")}var hs=e=>0===e?0:e>0?1:-1,fs=e=>"number"==typeof e&&e!=+e,ps=e=>"string"===typeof e&&e.indexOf("%")===e.length-1,ms=e=>("number"===typeof e||e instanceof Number)&&!fs(e),gs=e=>ms(e)||"string"===typeof e,vs=0,ys=e=>{var t=++vs;return"".concat(e||"").concat(t)},bs=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!ms(e)&&"string"!==typeof e)return n;if(ps(e)){if(null==t)return n;var a=e.indexOf("%");r=t*parseFloat(e.slice(0,a))/100}else r=+e;return fs(r)&&(r=n),i&&null!=t&&r>t&&(r=t),r},xs=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++){if(r[String(e[n])])return!0;r[String(e[n])]=!0}return!1};function _s(e,t,r){return ms(e)&&ms(t)?us(e+r*(t-e)):t}function ws(e,t,r){if(e&&e.length)return e.find(e=>e&&("function"===typeof t?t(e):cs()(e,t))===r)}var Ss=e=>null===e||"undefined"===typeof e,js=e=>Ss(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function ks(e){return null!=e}function Cs(){}var Es=function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if("undefined"!==typeof console&&console.warn&&(void 0===t&&console.warn("LogUtils requires an error message argument"),!e))if(void 0===t)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(t.replace(/%s/g,()=>n[a++]))}},Os={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},Ps=(e,t,r)=>{var{width:n=Os.width,height:i=Os.height,aspect:a,maxHeight:s}=r,o=ps(n)?e:Number(n),l=ps(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&null!=l&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},Ns={width:0,height:0,overflow:"visible"},As={width:0,overflowX:"visible"},Ts={height:0,overflowY:"visible"},Rs={},Ds=e=>{var{width:t,height:r}=e,n=ps(t),i=ps(r);return n&&i?Ns:n?As:i?Ts:Rs};function Ls(e){return Number.isFinite(e)}function Ms(e){return"number"===typeof e&&e>0&&Number.isFinite(e)}function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Is.apply(null,arguments)}function Bs(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zs(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(r),!0).forEach(function(t){Fs(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bs(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Fs(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Hs=(0,t.createContext)(Os.initialDimension);function Us(e){var{children:r,width:n,height:i}=e,a=(0,t.useMemo)(()=>({width:n,height:i}),[n,i]);return function(e){return Ms(e.width)&&Ms(e.height)}(a)?t.createElement(Hs.Provider,{value:a},r):null}var Ws=()=>(0,t.useContext)(Hs),qs=(0,t.forwardRef)((e,r)=>{var{aspect:n,initialDimension:i=Os.initialDimension,width:a,height:s,minWidth:o=Os.minWidth,minHeight:l,maxHeight:c,children:u,debounce:d=Os.debounce,id:h,className:f,onResize:p,style:m={}}=e,g=(0,t.useRef)(null),v=(0,t.useRef)();v.current=p,(0,t.useImperativeHandle)(r,()=>g.current);var[y,b]=(0,t.useState)({containerWidth:i.width,containerHeight:i.height}),x=(0,t.useCallback)((e,t)=>{b(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]);(0,t.useEffect)(()=>{if(null==g.current||"undefined"===typeof ResizeObserver)return Cs;var e=e=>{var t,r=e[0];if(null!=r){var{width:n,height:i}=r.contentRect;x(n,i),null===(t=v.current)||void 0===t||t.call(v,n,i)}};d>0&&(e=os()(e,d,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),{width:r,height:n}=g.current.getBoundingClientRect();return x(r,n),t.observe(g.current),()=>{t.disconnect()}},[x,d]);var{containerWidth:_,containerHeight:w}=y;Es(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:S,calculatedHeight:j}=Ps(_,w,{width:a,height:s,aspect:n,maxHeight:c});return Es(null!=S&&S>0||null!=j&&j>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",S,j,a,s,o,l,n),t.createElement("div",{id:h?"".concat(h):void 0,className:as("recharts-responsive-container",f),style:zs(zs({},m),{},{width:a,height:s,minWidth:o,minHeight:l,maxHeight:c}),ref:g},t.createElement("div",{style:Ds({width:a,height:s})},t.createElement(Us,{width:S,height:j},u)))}),Ks=(0,t.forwardRef)((e,r)=>{var n=Ws();if(Ms(n.width)&&Ms(n.height))return e.children;var{width:i,height:a}=function(e){var{width:t,height:r,aspect:n}=e,i=t,a=r;return void 0===i&&void 0===a?(i=Os.width,a=Os.height):void 0===i?i=n&&n>0?void 0:Os.width:void 0===a&&(a=n&&n>0?void 0:Os.height),{width:i,height:a}}({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:s,calculatedHeight:o}=Ps(void 0,void 0,{width:i,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return ms(s)&&ms(o)?t.createElement(Us,{width:s,height:o},e.children):t.createElement(qs,Is({},e,{width:i,height:a,ref:r}))}),Vs=Symbol.for("immer-nothing"),Ys=Symbol.for("immer-draftable"),Gs=Symbol.for("immer-state");function Xs(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var $s=Object,Js=$s.getPrototypeOf,Qs="constructor",Zs="prototype",eo="configurable",to="enumerable",ro="writable",no="value",io=e=>!!e&&!!e[Gs];function ao(e){var t;return!!e&&(lo(e)||mo(e)||!!e[Ys]||!(null===(t=e[Qs])||void 0===t||!t[Ys])||go(e)||vo(e))}var so=$s[Zs][Qs].toString(),oo=new WeakMap;function lo(e){if(!e||!yo(e))return!1;const t=Js(e);if(null===t||t===$s[Zs])return!0;const r=$s.hasOwnProperty.call(t,Qs)&&t[Qs];if(r===Object)return!0;if(!bo(r))return!1;let n=oo.get(r);return void 0===n&&(n=Function.toString.call(r),oo.set(r,n)),n===so}function co(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===uo(e)){(r?Reflect.ownKeys(e):$s.keys(e)).forEach(r=>{t(r,e[r],e)})}else e.forEach((r,n)=>t(n,r,e))}function uo(e){const t=e[Gs];return t?t.type_:mo(e)?1:go(e)?2:vo(e)?3:0}var ho=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:uo(e))?e.has(t):$s[Zs].hasOwnProperty.call(e,t)},fo=function(e,t){return 2===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:uo(e))?e.get(t):e[t]},po=function(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:uo(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r};var mo=Array.isArray,go=e=>e instanceof Map,vo=e=>e instanceof Set,yo=e=>"object"===typeof e,bo=e=>"function"===typeof e,xo=e=>"boolean"===typeof e;var _o=e=>e.copy_||e.base_,wo=e=>e.modified_?e.copy_:e.base_;function So(e,t){if(go(e))return new Map(e);if(vo(e))return new Set(e);if(mo(e))return Array[Zs].slice.call(e);const r=lo(e);if(!0===t||"class_only"===t&&!r){const t=$s.getOwnPropertyDescriptors(e);delete t[Gs];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n],a=t[i];!1===a[ro]&&(a[ro]=!0,a[eo]=!0),(a.get||a.set)&&(t[i]={[eo]:!0,[ro]:!0,[to]:a[to],[no]:e[i]})}return $s.create(Js(e),t)}{const t=Js(e);if(null!==t&&r)return u({},e);const n=$s.create(t);return $s.assign(n,e)}}function jo(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Co(e)||io(e)||!ao(e)||(uo(e)>1&&$s.defineProperties(e,{set:ko,add:ko,clear:ko,delete:ko}),$s.freeze(e),t&&co(e,(e,t)=>{jo(t,!0)},!1)),e}var ko={[no]:function(){Xs(2)}};function Co(e){return null===e||!yo(e)||$s.isFrozen(e)}var Eo="MapSet",Oo="Patches",Po="ArrayMethods",No={};function Ao(e){const t=No[e];return t||Xs(0),t}var To,Ro=e=>!!No[e];var Do=()=>To;function Lo(e,t){t&&(e.patchPlugin_=Ao(Oo),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Mo(e){Io(e),e.drafts_.forEach(zo),e.drafts_=null}function Io(e){e===To&&(To=e.parent_)}var Bo=e=>To={drafts_:[],parent_:To,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Ro(Eo)?Ao(Eo):void 0,arrayMethodsPlugin_:Ro(Po)?Ao(Po):void 0};function zo(e){const t=e[Gs];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function Fo(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(void 0!==e&&e!==r){r[Gs].modified_&&(Mo(t),Xs(4)),ao(e)&&(e=Ho(t,e));const{patchPlugin_:n}=t;n&&n.generateReplacementPatches_(r[Gs].base_,e,t)}else e=Ho(t,r);return function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&jo(t,r)}(t,e,!0),Mo(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Vs?e:void 0}function Ho(e,t){if(Co(t))return t;const r=t[Gs];if(!r){return Go(t,e.handledSet_,e)}if(!Wo(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:t}=r;if(t)for(;t.length>0;){t.pop()(e)}Vo(r,e)}return r.copy_}function Uo(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Wo=(e,t)=>e.scope_===t,qo=[];function Ko(e,t,r,n){var i;const a=_o(e),s=e.type_;if(void 0!==n){if(fo(a,n,s)===t)return void po(a,n,r,s)}if(!e.draftLocations_){const t=e.draftLocations_=new Map;co(a,(e,r)=>{if(io(r)){const n=t.get(r)||[];n.push(e),t.set(r,n)}})}const o=null!==(i=e.draftLocations_.get(t))&&void 0!==i?i:qo;for(const l of o)po(a,l,r,s)}function Vo(e,t){var r,n;if(e.modified_&&!e.finalized_&&(3===e.type_||1===e.type_&&e.allIndicesReassigned_||(null!==(r=null===(n=e.assigned_)||void 0===n?void 0:n.size)&&void 0!==r?r:0)>0)){const{patchPlugin_:r}=t;if(r){const n=r.getPath(e);n&&r.generatePatches_(e,n,t)}Uo(e)}}function Yo(e,t,r){const{scope_:n}=e;if(io(r)){const i=r[Gs];Wo(i,n)&&i.callbacks_.push(function(){el(e);const n=wo(i);Ko(e,r,n,t)})}else ao(r)&&e.callbacks_.push(function(){const i=_o(e);var a;3===e.type_?i.has(r)&&Go(r,n.handledSet_,n):fo(i,t,e.type_)===r&&n.drafts_.length>1&&!0===(null!==(a=e.assigned_.get(t))&&void 0!==a&&a)&&e.copy_&&Go(fo(e.copy_,t,e.type_),n.handledSet_,n)})}function Go(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||io(e)||t.has(e)||!ao(e)||Co(e)||(t.add(e),co(e,(n,i)=>{if(io(i)){const t=i[Gs];if(Wo(t,r)){const r=wo(t);po(e,n,r,e.type_),Uo(t)}}else ao(i)&&Go(i,t,r)})),e}var Xo={get(e,t){if(t===Gs)return e;let r=e.scope_.arrayMethodsPlugin_;const n=1===e.type_&&"string"===typeof t;if(n&&null!==r&&void 0!==r&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const i=_o(e);if(!ho(i,t,e.type_))return function(e,t,r){var n;const i=Qo(t,r);return i?no in i?i[no]:null===(n=i.get)||void 0===n?void 0:n.call(e.draft_):void 0}(e,i,t);const a=i[t];if(e.finalized_||!ao(a))return a;if(n&&e.operationMethod&&null!==r&&void 0!==r&&r.isMutatingArrayMethod(e.operationMethod)&&function(e){const t=+e;return Number.isInteger(t)&&String(t)===e}(t))return a;if(a===Jo(e.base_,t)){el(e);const r=1===e.type_?+t:t,n=tl(e.scope_,a,e,r);return e.copy_[r]=n}return a},has:(e,t)=>t in _o(e),ownKeys:e=>Reflect.ownKeys(_o(e)),set(e,t,r){const n=Qo(_o(e),t);if(null!==n&&void 0!==n&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=Jo(_o(e),t),s=null===n||void 0===n?void 0:n[Gs];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(((i=r)===(a=n)?0!==i||1/i===1/a:i!==i&&a!==a)&&(void 0!==r||ho(e.base_,t,e.type_)))return!0;el(e),Zo(e)}var i,a;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Yo(e,t,r)),!0},deleteProperty:(e,t)=>(el(e),void 0!==Jo(e.base_,t)||t in e.base_?(e.assigned_.set(t,!1),Zo(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=_o(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{[ro]:!0,[eo]:1!==e.type_||"length"!==t,[to]:n[to],[no]:r[t]}:n},defineProperty(){Xs(11)},getPrototypeOf:e=>Js(e.base_),setPrototypeOf(){Xs(12)}},$o={};for(let r in Xo){let e=Xo[r];$o[r]=function(){const t=arguments;return t[0]=t[0][0],e.apply(this,t)}}function Jo(e,t){const r=e[Gs];return(r?_o(r):e)[t]}function Qo(e,t){if(!(t in e))return;let r=Js(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Js(r)}}function Zo(e){e.modified_||(e.modified_=!0,e.parent_&&Zo(e.parent_))}function el(e){e.copy_||(e.assigned_=new Map,e.copy_=So(e.base_,e.scope_.immer_.useStrictShallowCopy_))}$o.deleteProperty=function(e,t){return $o.set.call(this,e,t,void 0)},$o.set=function(e,t,r){return Xo.set.call(this,e[0],t,r,e[0])};function tl(e,t,r,n){var i,a;const[s,o]=go(t)?Ao(Eo).proxyMap_(t,r):vo(t)?Ao(Eo).proxySet_(t,r):function(e,t){const r=mo(e),n={type_:r?1:0,scope_:t?t.scope_:Do(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Xo;r&&(i=[n],a=$o);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}(t,r);return(null!==(i=null===r||void 0===r?void 0:r.scope_)&&void 0!==i?i:Do()).drafts_.push(s),o.callbacks_=null!==(a=null===r||void 0===r?void 0:r.callbacks_)&&void 0!==a?a:[],o.key_=n,r&&void 0!==n?function(e,t,r){e.callbacks_.push(function(n){var i,a;const s=t;if(!s||!Wo(s,n))return;null===(i=n.mapSetPlugin_)||void 0===i||i.fixSetContents(s);const o=wo(s);Ko(e,null!==(a=s.draft_)&&void 0!==a?a:s,o,r),Vo(s,n)})}(r,o,n):o.callbacks_.push(function(e){var t;null===(t=e.mapSetPlugin_)||void 0===t||t.fixSetContents(o);const{patchPlugin_:r}=e;o.modified_&&r&&r.generatePatches_(o,[],e)}),s}function rl(e){return io(e)||Xs(10),nl(e)}function nl(e){if(!ao(e)||Co(e))return e;const t=e[Gs];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=So(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=So(e,!0);return co(r,(e,t)=>{po(r,e,nl(t))},n),t&&(t.finalized_=!1),r}var il=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,t,r)=>{if(bo(e)&&!bo(t)){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return n.produce(e,e=>t.call(this,e,...a))}}let n;if(bo(t)||Xs(6),void 0===r||bo(r)||Xs(7),ao(e)){const i=Bo(this),a=tl(i,e,void 0);let s=!0;try{n=t(a),s=!1}finally{s?Mo(i):Io(i)}return Lo(i,r),Fo(n,i)}if(!e||!yo(e)){if(n=t(e),void 0===n&&(n=e),n===Vs&&(n=void 0),this.autoFreeze_&&jo(n,!0),r){const t=[],i=[];Ao(Oo).generateReplacementPatches_(e,n,{patches_:t,inversePatches_:i}),r(t,i)}return n}Xs(1)},this.produceWithPatches=(e,r)=>{if(bo(e))return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.produceWithPatches(r,t=>e(t,...i))};let n,i;return[this.produce(e,r,(e,t)=>{n=e,i=t}),n,i]},xo(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),xo(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),xo(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){ao(e)||Xs(8),io(e)&&(e=rl(e));const t=Bo(this),r=tl(t,e,void 0);return r[Gs].isManual_=!0,Io(t),r}finishDraft(e,t){const r=e&&e[Gs];r&&r.isManual_||Xs(9);const{scope_:n}=r;return Lo(n,t),Fo(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=Ao(Oo).applyPatches_;return io(e)?n(e,t):this.produce(e,e=>n(e,t))}},al=il.produce;function sl(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var ol=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),ll=()=>Math.random().toString(36).substring(7).split("").join("."),cl={INIT:"@@redux/INIT".concat(ll()),REPLACE:"@@redux/REPLACE".concat(ll()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(ll())};function ul(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function dl(e,t,r){if("function"!==typeof e)throw new Error(sl(2));if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(sl(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(sl(1));return r(dl)(e,t)}let n=e,i=t,a=new Map,s=a,o=0,l=!1;function c(){s===a&&(s=new Map,a.forEach((e,t)=>{s.set(t,e)}))}function u(){if(l)throw new Error(sl(3));return i}function d(e){if("function"!==typeof e)throw new Error(sl(4));if(l)throw new Error(sl(5));let t=!0;c();const r=o++;return s.set(r,e),function(){if(t){if(l)throw new Error(sl(6));t=!1,c(),s.delete(r),a=null}}}function h(e){if(!ul(e))throw new Error(sl(7));if("undefined"===typeof e.type)throw new Error(sl(8));if("string"!==typeof e.type)throw new Error(sl(17));if(l)throw new Error(sl(9));try{l=!0,i=n(i,e)}finally{l=!1}return(a=s).forEach(e=>{e()}),e}h({type:cl.INIT});return{dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(sl(10));n=e,h({type:cl.REPLACE})},[ol]:function(){const e=d;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(sl(11));function r(){const e=t;e.next&&e.next(u())}r();return{unsubscribe:e(r)}},[ol](){return this}}}}}function hl(e){const t=Object.keys(e),r={};for(let a=0;a<t.length;a++){const n=t[a];0,"function"===typeof e[n]&&(r[n]=e[n])}const n=Object.keys(r);let i;try{!function(e){Object.keys(e).forEach(t=>{const r=e[t];if("undefined"===typeof r(void 0,{type:cl.INIT}))throw new Error(sl(12));if("undefined"===typeof r(void 0,{type:cl.PROBE_UNKNOWN_ACTION()}))throw new Error(sl(13))})}(r)}catch(YM){i=YM}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let a=!1;const s={};for(let i=0;i<n.length;i++){const o=n[i],l=r[o],c=e[o],u=l(c,t);if("undefined"===typeof u){t&&t.type;throw new Error(sl(14))}s[o]=u,a=a||u!==c}return a=a||n.length!==Object.keys(e).length,a?s:e}}function fl(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function pl(e){return ul(e)&&"type"in e&&"string"===typeof e.type}function ml(e){return t=>{let{dispatch:r,getState:n}=t;return t=>i=>"function"===typeof i?i(r,n,e):t(i)}}var gl=ml(),vl=ml;const yl=["reducerPath"];var bl="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?fl:fl.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function xl(e,t){function r(){if(t){let r=t(...arguments);if(!r)throw new Error(pc(0));return u(u({type:e,payload:r.payload},"meta"in r&&{meta:r.meta}),"error"in r&&{error:r.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return r.toString=()=>"".concat(e),r.type=e,r.match=t=>pl(t)&&t.type===e,r}var _l=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return 1===r.length&&Array.isArray(r[0])?new e(...r[0].concat(this)):new e(...r.concat(this))}};function wl(e){return ao(e)?al(e,()=>{}):e}function Sl(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}var jl="RTK_autoBatch",kl=()=>e=>({payload:e,meta:{[jl]:!0}}),Cl=e=>t=>{setTimeout(t,e)},El=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const r=t(...arguments);let n=!0,i=!1,a=!1;const s=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Cl(10):"callback"===e.type?e.queueNotification:Cl(e.timeout),l=()=>{a=!1,i&&(i=!1,s.forEach(e=>e()))};return Object.assign({},r,{subscribe(e){const t=r.subscribe(()=>n&&e());return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{var t;return n=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[jl]),i=!n,i&&(a||(a=!0,o(l))),r.dispatch(e)}finally{n=!0}}})}};function Ol(e){const t=function(e){const{thunk:t=!0,immutableCheck:r=!0,serializableCheck:n=!0,actionCreatorCheck:i=!0}=null!==e&&void 0!==e?e:{};let a=new _l;return t&&("boolean"===typeof t?a.push(gl):a.push(vl(t.extraArgument))),a},{reducer:r,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:a=!0,preloadedState:s,enhancers:o}=e||{};let l,c;if("function"===typeof r)l=r;else{if(!ul(r))throw new Error(pc(1));l=hl(r)}c="function"===typeof n?n(t):t();let d=fl;i&&(d=bl(u({trace:!1},"object"===typeof i&&i)));const h=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(sl(15))};const s={getState:i.getState,dispatch:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return a(e,...r)}},o=t.map(e=>e(s));return a=fl(...o)(i.dispatch),u(u({},i),{},{dispatch:a})}}(...c),f=(e=>function(t){const{autoBatch:r=!0}=null!==t&&void 0!==t?t:{};let n=new _l(e);return r&&n.push(El("object"===typeof r?r:void 0)),n})(h);return dl(l,s,d(..."function"===typeof o?o(f):f()))}function Pl(e){const t={},r=[];let n;const i={addCase(e,r){const n="string"===typeof e?e:e.type;if(!n)throw new Error(pc(28));if(n in t)throw new Error(pc(29));return t[n]=r,i},addAsyncThunk:(e,n)=>(n.pending&&(t[e.pending.type]=n.pending),n.rejected&&(t[e.rejected.type]=n.rejected),n.fulfilled&&(t[e.fulfilled.type]=n.fulfilled),n.settled&&r.push({matcher:e.settled,reducer:n.settled}),i),addMatcher:(e,t)=>(r.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(n=e,i)};return e(i),[t,r,n]}var Nl=function(){let e="",t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;for(;t--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e};var Al=Symbol.for("rtk-slice-createasyncthunk");function Tl(e,t){return"".concat(e,"/").concat(t)}function Rl(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Al];return function(e){const{name:t,reducerPath:n=t}=e;if(!t)throw new Error(pc(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return u({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},s=Object.keys(i),o={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},l={addCase(e,t){const r="string"===typeof e?e:e.type;if(!r)throw new Error(pc(12));if(r in o.sliceCaseReducersByType)throw new Error(pc(13));return o.sliceCaseReducersByType[r]=t,l},addMatcher:(e,t)=>(o.sliceMatchers.push({matcher:e,reducer:t}),l),exposeAction:(e,t)=>(o.actionCreators[e]=t,l),exposeCaseReducer:(e,t)=>(o.sliceCaseReducersByName[e]=t,l)};function c(){const[t={},r=[],n]="function"===typeof e.extraReducers?Pl(e.extraReducers):[e.extraReducers],i=u(u({},t),o.sliceCaseReducersByType);return function(e,t){let r,[n,i,a]=Pl(t);if("function"===typeof e)r=()=>wl(e());else{const t=wl(e);r=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r(),t=arguments.length>1?arguments[1]:void 0,s=[n[t.type],...i.filter(e=>{let{matcher:r}=e;return r(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===s.filter(e=>!!e).length&&(s=[a]),s.reduce((e,r)=>{if(r){if(io(e)){const n=r(e,t);return void 0===n?e:n}if(ao(e))return al(e,e=>r(e,t));{const n=r(e,t);if(void 0===n){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}}return e},e)}return s.getInitialState=r,s}(e.initialState,e=>{for(let t in i)e.addCase(t,i[t]);for(let t of o.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of r)e.addMatcher(t.matcher,t.reducer);n&&e.addDefaultCase(n)})}s.forEach(n=>{const a=i[n],s={reducerName:n,type:Tl(t,n),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,r){let n,i,{type:a,reducerName:s,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(pc(17));n=t.reducer,i=t.prepare}else n=t;r.addCase(a,n).exposeCaseReducer(s,n).exposeAction(s,i?xl(a,i):xl(a))}(s,a,l):function(e,t,r,n){let{type:i,reducerName:a}=e;if(!n)throw new Error(pc(18));const{payloadCreator:s,fulfilled:o,pending:l,rejected:c,settled:u,options:d}=t,h=n(i,s,d);r.exposeAction(a,h),o&&r.addCase(h.fulfilled,o);l&&r.addCase(h.pending,l);c&&r.addCase(h.rejected,c);u&&r.addMatcher(h.settled,u);r.exposeCaseReducer(a,{fulfilled:o||Ml,pending:l||Ml,rejected:c||Ml,settled:u||Ml})}(s,a,l,r)});const d=e=>e,h=new Map,f=new WeakMap;let p;function m(e,t){return p||(p=c()),p(e,t)}function g(){return p||(p=c()),p.getInitialState()}function v(t){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e){let i=e[t];return"undefined"===typeof i&&r&&(i=Sl(f,n,g)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d;const n=Sl(h,r,()=>new WeakMap);return Sl(n,t,()=>{const n={};for(const[a,s]of Object.entries(null!==(i=e.selectors)&&void 0!==i?i:{})){var i;n[a]=Dl(s,t,()=>Sl(f,t,g),r)}return n})}return{reducerPath:t,getSelectors:i,get selectors(){return i(n)},selectSlice:n}}const y=u(u({name:t,reducer:m,actions:o.actionCreators,caseReducers:o.sliceCaseReducersByName,getInitialState:g},v(n)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:r}=t,i=a(t,yl);const s=null!==r&&void 0!==r?r:n;return e.inject({reducerPath:s,reducer:m},i),u(u({},y),v(s,!0))}});return y}}function Dl(e,t,r,n){function i(i){let a=t(i);"undefined"===typeof a&&n&&(a=r());for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return e(a,...o)}return i.unwrapped=e,i}var Ll=Rl();function Ml(){}var Il="listener",Bl="completed",zl="cancelled",Fl="task-".concat(zl),Hl="task-".concat(Bl),Ul="".concat(Il,"-").concat(zl),Wl="".concat(Il,"-").concat(Bl),ql=class{constructor(e){l(this,"name","TaskAbortError"),l(this,"message",void 0),this.code=e,this.message="".concat("task"," ").concat(zl," (reason: ").concat(e,")")}},Kl=(e,t)=>{if("function"!==typeof e)throw new TypeError(pc(32))},Vl=()=>{},Yl=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vl;return e.catch(t),e},Gl=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Xl=e=>{if(e.aborted)throw new ql(e.reason)};function $l(e,t){let r=Vl;return new Promise((n,i)=>{const a=()=>i(new ql(e.reason));e.aborted?a():(r=Gl(e,a),t.finally(()=>r()).then(n,i))}).finally(()=>{r=Vl})}var Jl=e=>t=>Yl($l(e,t).then(t=>(Xl(e),t))),Ql=e=>{const t=Jl(e);return e=>t(new Promise(t=>setTimeout(t,e)))},{assign:Zl}=Object,ec={},tc="listenerMiddleware",rc=(e,t)=>(r,n)=>{Kl(r);const i=new AbortController;var a;a=i,Gl(e,()=>a.abort(e.reason));const s=(async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ql?"cancelled":"rejected",error:r}}finally{null===t||void 0===t||t()}})(async()=>{Xl(e),Xl(i.signal);const t=await r({pause:Jl(i.signal),delay:Ql(i.signal),signal:i.signal});return Xl(i.signal),t},()=>i.abort(Hl));return null!==n&&void 0!==n&&n.autoJoin&&t.push(s.catch(Vl)),{result:Jl(e)(s),cancel(){i.abort(Fl)}}},nc=(e,t)=>(r,n)=>Yl((async(r,n)=>{Xl(t);let i=()=>{};const a=[new Promise((t,n)=>{let a=e({predicate:r,effect:(e,r)=>{r.unsubscribe(),t([e,r.getState(),r.getOriginalState()])}});i=()=>{a(),n()}})];null!=n&&a.push(new Promise(e=>setTimeout(e,n,null)));try{const e=await $l(t,Promise.race(a));return Xl(t),e}finally{i()}})(r,n)),ic=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:a}=e;if(t)i=xl(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(pc(21));return Kl(a),{predicate:i,type:t,effect:a}},ac=Zl(e=>{const{type:t,predicate:r,effect:n}=ic(e);return{id:Nl(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(pc(22))}}},{withTypes:()=>ac}),sc=(e,t)=>{const{type:r,effect:n,predicate:i}=ic(t);return Array.from(e.values()).find(e=>("string"===typeof r?e.type===r:e.predicate===i)&&e.effect===n)},oc=e=>{e.pending.forEach(e=>{e.abort(Ul)})},lc=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},cc=Zl(xl("".concat(tc,"/add")),{withTypes:()=>cc}),uc=xl("".concat(tc,"/removeAll")),dc=Zl(xl("".concat(tc,"/remove")),{withTypes:()=>dc}),hc=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];console.error("".concat(tc,"/error"),...t)},fc=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new Map,r=new Map,{extra:n,onError:i=hc}=e;Kl(i);const a=e=>{var r;return(e=>(e.unsubscribe=()=>t.delete(e.id),t.set(e.id,e),t=>{e.unsubscribe(),null!==t&&void 0!==t&&t.cancelActive&&oc(e)}))(null!==(r=sc(t,e))&&void 0!==r?r:ac(e))};Zl(a,{withTypes:()=>a});const s=e=>{const r=sc(t,e);return r&&(r.unsubscribe(),e.cancelActive&&oc(r)),!!r};Zl(s,{withTypes:()=>s});const o=async(e,s,o,l)=>{const c=new AbortController,u=nc(a,c.signal),d=[];try{e.pending.add(c),(e=>{var t;const n=null!==(t=r.get(e))&&void 0!==t?t:0;r.set(e,n+1)})(e),await Promise.resolve(e.effect(s,Zl({},o,{getOriginalState:l,condition:(e,t)=>u(e,t).then(Boolean),take:u,delay:Ql(c.signal),pause:Jl(c.signal),extra:n,signal:c.signal,fork:rc(c.signal,d),unsubscribe:e.unsubscribe,subscribe:()=>{t.set(e.id,e)},cancelActiveListeners:()=>{e.pending.forEach((e,t,r)=>{e!==c&&(e.abort(Ul),r.delete(e))})},cancel:()=>{c.abort(Ul),e.pending.delete(c)},throwIfCancelled:()=>{Xl(c.signal)}})))}catch(h){h instanceof ql||lc(i,h,{raisedBy:"effect"})}finally{await Promise.all(d),c.abort(Wl),(e=>{var t;const n=null!==(t=r.get(e))&&void 0!==t?t:1;1===n?r.delete(e):r.set(e,n-1)})(e),e.pending.delete(c)}},l=((e,t)=>()=>{for(const e of t.keys())oc(e);e.clear()})(t,r);return{middleware:e=>r=>n=>{if(!pl(n))return r(n);if(cc.match(n))return a(n.payload);if(uc.match(n))return void l();if(dc.match(n))return s(n.payload);let c=e.getState();const u=()=>{if(c===ec)throw new Error(pc(23));return c};let d;try{if(d=r(n),t.size>0){const r=e.getState(),a=Array.from(t.values());for(const t of a){let a=!1;try{a=t.predicate(n,r,c)}catch(h){a=!1,lc(i,h,{raisedBy:"predicate"})}a&&o(t,n,e,u)}}}finally{c=ec}return d},startListening:a,stopListening:s,clearListeners:l}};Symbol.for("rtk-state-proxy-original");function pc(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var mc=(e,t)=>{if(t&&Array.isArray(e)){var r=Number.parseInt(t,10);if(!fs(r))return e[r]}},gc=Ll({name:"options",initialState:{chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},reducers:{createEventEmitter:e=>{null==e.eventEmitter&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),vc=gc.reducer,{createEventEmitter:yc}=gc.actions;r(7237);function bc(e){e()}var xc={notify(){},get:()=>[]};function _c(e,t){let r,n=xc,i=0,a=!1;function s(){c.onStateChange&&c.onStateChange()}function o(){i++,r||(r=t?t.addNestedSub(s):e.subscribe(s),n=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){bc(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let r=e;for(;r;)t.push(r),r=r.next;return t},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){n&&null!==e&&(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function l(){i--,r&&0===i&&(r(),r=void 0,n.clear(),n=xc)}const c={addNestedSub:function(e){o();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:s,isSubscribed:function(){return a},trySubscribe:function(){a||(a=!0,o())},tryUnsubscribe:function(){a&&(a=!1,l())},getListeners:()=>n};return c}var wc=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),Sc=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),jc=(()=>wc||Sc?t.useLayoutEffect:t.useEffect)();function kc(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function Cc(e,t){if(kc(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(t,r[i])||!kc(e[r[i]],t[r[i]]))return!1;return!0}Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Ec=Symbol.for("react-redux-context"),Oc="undefined"!==typeof globalThis?globalThis:{};function Pc(){var e;if(!t.createContext)return{};const r=null!==(e=Oc[Ec])&&void 0!==e?e:Oc[Ec]=new Map;let n=r.get(t.createContext);return n||(n=t.createContext(null),r.set(t.createContext,n)),n}var Nc=Pc();var Ac=function(e){const{children:r,context:n,serverState:i,store:a}=e,s=t.useMemo(()=>{const e=_c(a);return{store:a,subscription:e,getServerState:i?()=>i:void 0}},[a,i]),o=t.useMemo(()=>a.getState(),[a]);jc(()=>{const{subscription:e}=s;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),o!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[s,o]);const l=n||Nc;return t.createElement(l.Provider,{value:s},r)};var Tc=Symbol.for("immer-nothing"),Rc=Symbol.for("immer-draftable"),Dc=Symbol.for("immer-state");function Lc(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Mc=Object.getPrototypeOf;function Ic(e){return!!e&&!!e[Dc]}function Bc(e){var t;return!!e&&(Hc(e)||Array.isArray(e)||!!e[Rc]||!(null===(t=e.constructor)||void 0===t||!t[Rc])||Vc(e)||Yc(e))}var zc=Object.prototype.constructor.toString(),Fc=new WeakMap;function Hc(e){if(!e||"object"!==typeof e)return!1;const t=Object.getPrototypeOf(e);if(null===t||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if("function"!==typeof r)return!1;let n=Fc.get(r);return void 0===n&&(n=Function.toString.call(r),Fc.set(r,n)),n===zc}function Uc(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===Wc(e)){(r?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)})}else e.forEach((r,n)=>t(n,r,e))}function Wc(e){const t=e[Dc];return t?t.type_:Array.isArray(e)?1:Vc(e)?2:Yc(e)?3:0}function qc(e,t){return 2===Wc(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Kc(e,t,r){const n=Wc(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function Vc(e){return e instanceof Map}function Yc(e){return e instanceof Set}function Gc(e){return e.copy_||e.base_}function Xc(e,t){if(Vc(e))return new Map(e);if(Yc(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=Hc(e);if(!0===t||"class_only"===t&&!r){const t=Object.getOwnPropertyDescriptors(e);delete t[Dc];let r=Reflect.ownKeys(t);for(let n=0;n<r.length;n++){const i=r[n],a=t[i];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[i]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[i]})}return Object.create(Mc(e),t)}{const t=Mc(e);if(null!==t&&r)return u({},e);const n=Object.create(t);return Object.assign(n,e)}}function $c(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Qc(e)||Ic(e)||!Bc(e)||(Wc(e)>1&&Object.defineProperties(e,{set:Jc,add:Jc,clear:Jc,delete:Jc}),Object.freeze(e),t&&Object.values(e).forEach(e=>$c(e,!0))),e}var Jc={value:function(){Lc(2)}};function Qc(e){return null===e||"object"!==typeof e||Object.isFrozen(e)}var Zc,eu={};function tu(e){const t=eu[e];return t||Lc(0),t}function ru(){return Zc}function nu(e,t){t&&(tu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function iu(e){au(e),e.drafts_.forEach(ou),e.drafts_=null}function au(e){e===Zc&&(Zc=e.parent_)}function su(e){return Zc={drafts_:[],parent_:Zc,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ou(e){const t=e[Dc];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function lu(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return void 0!==e&&e!==r?(r[Dc].modified_&&(iu(t),Lc(4)),Bc(e)&&(e=cu(t,e),t.parent_||du(t,e)),t.patches_&&tu("Patches").generateReplacementPatches_(r[Dc].base_,e,t.patches_,t.inversePatches_)):e=cu(t,r,[]),iu(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Tc?e:void 0}function cu(e,t,r){if(Qc(t))return t;const n=e.immer_.shouldUseStrictIteration(),i=t[Dc];if(!i)return Uc(t,(n,a)=>uu(e,i,t,n,a,r),n),t;if(i.scope_!==e)return t;if(!i.modified_)return du(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const t=i.copy_;let a=t,s=!1;3===i.type_&&(a=new Set(t),t.clear(),s=!0),Uc(a,(n,a)=>uu(e,i,t,n,a,r,s),n),du(e,t,!1),r&&e.patches_&&tu("Patches").generatePatches_(i,r,e.patches_,e.inversePatches_)}return i.copy_}function uu(e,t,r,n,i,a,s){if(null==i)return;if("object"!==typeof i&&!s)return;const o=Qc(i);if(!o||s){if(Ic(i)){const s=cu(e,i,a&&t&&3!==t.type_&&!qc(t.assigned_,n)?a.concat(n):void 0);if(Kc(r,n,s),!Ic(s))return;e.canAutoFreeze_=!1}else s&&r.add(i);if(Bc(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;if(t&&t.base_&&t.base_[n]===i&&o)return;cu(e,i),t&&t.scope_.parent_||"symbol"===typeof n||!(Vc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))||du(e,i)}}}function du(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&$c(t,r)}var hu={get(e,t){if(t===Dc)return e;const r=Gc(e);if(!qc(r,t))return function(e,t,r){var n;const i=mu(t,r);return i?"value"in i?i.value:null===(n=i.get)||void 0===n?void 0:n.call(e.draft_):void 0}(e,r,t);const n=r[t];return e.finalized_||!Bc(n)?n:n===pu(e.base_,t)?(vu(e),e.copy_[t]=yu(n,e)):n},has:(e,t)=>t in Gc(e),ownKeys:e=>Reflect.ownKeys(Gc(e)),set(e,t,r){const n=mu(Gc(e),t);if(null!==n&&void 0!==n&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const n=pu(Gc(e),t),s=null===n||void 0===n?void 0:n[Dc];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(((i=r)===(a=n)?0!==i||1/i===1/a:i!==i&&a!==a)&&(void 0!==r||qc(e.base_,t)))return!0;vu(e),gu(e)}var i,a;return e.copy_[t]===r&&(void 0!==r||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==pu(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,vu(e),gu(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const r=Gc(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty(){Lc(11)},getPrototypeOf:e=>Mc(e.base_),setPrototypeOf(){Lc(12)}},fu={};function pu(e,t){const r=e[Dc];return(r?Gc(r):e)[t]}function mu(e,t){if(!(t in e))return;let r=Mc(e);for(;r;){const e=Object.getOwnPropertyDescriptor(r,t);if(e)return e;r=Mc(r)}}function gu(e){e.modified_||(e.modified_=!0,e.parent_&&gu(e.parent_))}function vu(e){e.copy_||(e.copy_=Xc(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Uc(hu,(e,t)=>{fu[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),fu.deleteProperty=function(e,t){return fu.set.call(this,e,t,void 0)},fu.set=function(e,t,r){return hu.set.call(this,e[0],t,r,e[0])};function yu(e,t){const r=Vc(e)?tu("MapSet").proxyMap_(e,t):Yc(e)?tu("MapSet").proxySet_(e,t):function(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ru(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=hu;r&&(i=[n],a=fu);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}(e,t);return(t?t.scope_:ru()).drafts_.push(r),r}function bu(e){if(!Bc(e)||Qc(e))return e;const t=e[Dc];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Xc(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Xc(e,!0);return Uc(r,(e,t)=>{Kc(r,e,bu(t))},n),t&&(t.finalized_=!1),r}var xu=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,t,r)=>{if("function"===typeof e&&"function"!==typeof t){const r=t;t=e;const n=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;for(var i=arguments.length,a=new Array(i>1?i-1:0),s=1;s<i;s++)a[s-1]=arguments[s];return n.produce(e,e=>t.call(this,e,...a))}}let n;if("function"!==typeof t&&Lc(6),void 0!==r&&"function"!==typeof r&&Lc(7),Bc(e)){const i=su(this),a=yu(e,void 0);let s=!0;try{n=t(a),s=!1}finally{s?iu(i):au(i)}return nu(i,r),lu(n,i)}if(!e||"object"!==typeof e){if(n=t(e),void 0===n&&(n=e),n===Tc&&(n=void 0),this.autoFreeze_&&$c(n,!0),r){const t=[],i=[];tu("Patches").generateReplacementPatches_(e,n,t,i),r(t,i)}return n}Lc(1)},this.produceWithPatches=(e,r)=>{if("function"===typeof e)return function(r){for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t.produceWithPatches(r,t=>e(t,...i))};let n,i;return[this.produce(e,r,(e,t)=>{n=e,i=t}),n,i]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Bc(e)||Lc(8),Ic(e)&&(e=function(e){Ic(e)||Lc(10);return bu(e)}(e));const t=su(this),r=yu(e,void 0);return r[Dc].isManual_=!0,au(t),r}finishDraft(e,t){const r=e&&e[Dc];r&&r.isManual_||Lc(9);const{scope_:n}=r;return nu(n,t),lu(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));const n=tu("Patches").applyPatches_;return Ic(e)?n(e,t):this.produce(e,e=>n(e,t))}};xu.produce;var _u={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},wu=Ll({name:"tooltip",initialState:{itemInteraction:{click:_u,hover:_u},axisInteraction:{click:_u,hover:_u},keyboardInteraction:_u,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:kl()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,i=rl(e).tooltipItemPayloads.indexOf(r);i>-1&&(e.tooltipItemPayloads[i]=n)},prepare:kl()},removeTooltipEntrySettings:{reducer(e,t){var r=rl(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:kl()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:Su,replaceTooltipEntrySettings:ju,removeTooltipEntrySettings:ku,setTooltipSettingsState:Cu,setActiveMouseOverItemIndex:Eu,mouseLeaveItem:Ou,mouseLeaveChart:Pu,setActiveClickItemIndex:Nu,setMouseOverAxisIndex:Au,setMouseClickAxisIndex:Tu,setSyncInteraction:Ru,setKeyboardInteraction:Du}=wu.actions,Lu=wu.reducer,Mu=Ll({name:"chartData",initialState:{chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},reducers:{setChartData(e,t){if(e.chartData=t.payload,null==t.payload)return e.dataStartIndex=0,void(e.dataEndIndex=0);t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;null!=r&&(e.dataStartIndex=r),null!=n&&(e.dataEndIndex=n)}}}),{setChartData:Iu,setDataStartEndIndexes:Bu,setComputedData:zu}=Mu.actions,Fu=Mu.reducer,Hu=Ll({name:"chartLayout",initialState:{layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,i,a;e.margin.top=null!==(r=t.payload.top)&&void 0!==r?r:0,e.margin.right=null!==(n=t.payload.right)&&void 0!==n?n:0,e.margin.bottom=null!==(i=t.payload.bottom)&&void 0!==i?i:0,e.margin.left=null!==(a=t.payload.left)&&void 0!==a?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:Uu,setLayout:Wu,setChartSize:qu,setScale:Ku}=Hu.actions,Vu=Hu.reducer;function Yu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(t)}var Gu=e=>Array.isArray(e)?e:[e];function Xu(e){const t=Array.isArray(e[0])?e[0]:e;return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every(e=>"function"===typeof e)){const r=e.map(e=>"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e).join(", ");throw new TypeError("".concat(t,"[").concat(r,"]"))}}(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}Symbol(),Object.getPrototypeOf({});var $u="undefined"!==typeof WeakRef?WeakRef:class{constructor(e){this.value=e}deref(){return this.value}};function Ju(){return{s:0,v:void 0,o:null,p:null}}function Qu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={s:0,v:void 0,o:null,p:null};const{resultEqualityCheck:n}=t;let i,a=0;function s(){let t=r;const{length:s}=arguments;for(let e=0,r=s;e<r;e++){const r=arguments[e];if("function"===typeof r||"object"===typeof r&&null!==r){let e=t.o;null===e&&(t.o=e=new WeakMap);const n=e.get(r);void 0===n?(t=Ju(),e.set(r,t)):t=n}else{let e=t.p;null===e&&(t.p=e=new Map);const n=e.get(r);void 0===n?(t=Ju(),e.set(r,t)):t=n}}const o=t;let l;if(1===t.s)l=t.v;else if(l=e.apply(null,arguments),a++,n){var c,u,d;const e=null!==(c=null===(u=i)||void 0===u||null===(d=u.deref)||void 0===d?void 0:d.call(u))&&void 0!==c?c:i;null!=e&&n(e,l)&&(l=e,0!==a&&a--);i="object"===typeof l&&null!==l||"function"===typeof l?new $u(l):l}return o.s=1,o.v=l,l}return s.clearCache=()=>{r={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Zu(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const i="function"===typeof e?{memoize:e,memoizeOptions:r}:e,a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n,a=0,s=0,o={},l=t.pop();"object"===typeof l&&(o=l,l=t.pop()),Yu(l,"createSelector expects an output function after the inputs, but received: [".concat(typeof l,"]"));const c=u(u({},i),o),{memoize:d,memoizeOptions:h=[],argsMemoize:f=Qu,argsMemoizeOptions:p=[],devModeChecks:m={}}=c,g=Gu(h),v=Gu(p),y=Xu(t),b=d(function(){return a++,l.apply(null,arguments)},...g);const x=f(function(){s++;const e=function(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}(y,arguments);return n=b.apply(null,e),n},...v);return Object.assign(x,{resultFunc:l,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>n,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:d,argsMemoize:f})};return Object.assign(a,{withTypes:()=>a}),a}var ed=Zu(Qu),td=Object.assign(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ed;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(t)}(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));const r=Object.keys(e),n=t(r.map(t=>e[t]),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((e,t,n)=>(e[r[n]]=t,e),{})});return n},{withTypes:()=>td}),rd=r(8443),nd=(0,t.createContext)(null),id=e=>e,ad=()=>{var e=(0,t.useContext)(nd);return e?e.store.dispatch:id},sd=()=>{},od=()=>sd,ld=(e,t)=>e===t;function cd(e){var r=(0,t.useContext)(nd),n=(0,t.useMemo)(()=>r?t=>{if(null!=t)return e(t)}:sd,[r,e]);return(0,rd.useSyncExternalStoreWithSelector)(r?r.subscription.addNestedSub:od,r?r.store.getState:sd,r?r.store.getState:sd,n,ld)}var ud=r(3821),dd=r.n(ud),hd=e=>e.legend.settings,fd=ed([e=>e.legend.payload,hd],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?dd()(n,r):n});function pd(e,t){if((i=e.length)>1)for(var r,n,i,a=1,s=e[t[0]],o=s.length;a<i;++a)for(n=s,s=e[t[a]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}Array.prototype.slice;function md(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function gd(e){return function(){return e}}function vd(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function yd(e,t){return e[t]}function bd(e){const t=[];return t.key=e,t}function xd(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function _d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_d(Object(r),!0).forEach(function(t){Sd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Sd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jd(e,t,r){return Ss(e)||Ss(t)?r:gs(t)?cs()(e,t,r):"function"===typeof t?t(e):r}var kd=(e,t)=>"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t,Cd=(e,t,r,n)=>{if(n)return e.map(e=>e.coordinate);var i,a,s=e.map(e=>(e.coordinate===t&&(i=!0),e.coordinate===r&&(a=!0),e.coordinate));return i||s.push(t),a||s.push(r),s},Ed=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:c,tickCount:u,ticks:d,niceTicks:h,axisType:f}=e;if(!s)return null;var p="scaleBand"===o&&s.bandwidth?s.bandwidth()/2:2,m=(t||r)&&"category"===i&&s.bandwidth?s.bandwidth()/p:0;return m="angleAxis"===f&&a&&a.length>=2?2*hs(a[0]-a[1])*m:m,t&&(d||h)?(d||h||[]).map((e,t)=>{var r=n?n.indexOf(e):e,i=s.map(r);return Ls(i)?{coordinate:i+m,value:e,offset:m,index:t}:null}).filter(ks):l&&c?c.map((e,t)=>{var r=s.map(e);return Ls(r)?{coordinate:r+m,value:e,index:t,offset:m}:null}).filter(ks):s.ticks&&!r&&null!=u?s.ticks(u).map((e,t)=>{var r=s.map(e);return Ls(r)?{coordinate:r+m,value:e,index:t,offset:m}:null}).filter(ks):s.domain().map((e,t)=>{var r=s.map(e);return Ls(r)?{coordinate:r+m,value:n?n[e]:e,index:t,offset:m}:null}).filter(ks)},Od={sign:e=>{var t,r=e.length;if(!(r<=0)){var n=null===(t=e[0])||void 0===t?void 0:t.length;if(!(null==n||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,o=0;o<r;++o){var l=e[o],c=null===l||void 0===l?void 0:l[i];if(null!=c){var u=c[1],d=c[0],h=fs(u)?d:u;h>=0?(c[0]=a,a+=h,c[1]=a):(c[0]=s,s+=h,c[1]=s)}}}},expand:function(e,t){if((n=e.length)>0){for(var r,n,i,a=0,s=e[0].length;a<s;++a){for(i=r=0;r<n;++r)i+=e[r][a][1]||0;if(i)for(r=0;r<n;++r)e[r][a][1]/=i}pd(e,t)}},none:pd,silhouette:function(e,t){if((r=e.length)>0){for(var r,n=0,i=e[t[0]],a=i.length;n<a;++n){for(var s=0,o=0;s<r;++s)o+=e[s][n][1]||0;i[n][1]+=i[n][0]=-o/2}pd(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(n=(r=e[t[0]]).length)>0){for(var r,n,i,a=0,s=1;s<n;++s){for(var o=0,l=0,c=0;o<i;++o){for(var u=e[t[o]],d=u[s][1]||0,h=(d-(u[s-1][1]||0))/2,f=0;f<o;++f){var p=e[t[f]];h+=(p[s][1]||0)-(p[s-1][1]||0)}l+=d,c+=h*d}r[s-1][1]+=r[s-1][0]=a,l&&(a-=c/l)}r[s-1][1]+=r[s-1][0]=a,pd(e,t)}},positive:e=>{var t,r=e.length;if(!(r<=0)){var n=null===(t=e[0])||void 0===t?void 0:t.length;if(!(null==n||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var o=e[s],l=null===o||void 0===o?void 0:o[i];if(null!=l){var c=fs(l[1])?l[0]:l[1];c>=0?(l[0]=a,a+=c,l[1]=a):(l[0]=0,l[1]=0)}}}}},Pd=(e,t,r)=>{var n,i=null!==(n=Od[r])&&void 0!==n?n:pd,a=function(){var e=gd([]),t=vd,r=pd,n=yd;function i(i){var a,s,o=Array.from(e.apply(this,arguments),bd),l=o.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(o[a][c]=[0,+n(e,o[a].key,c,i)]).data=e;for(a=0,s=md(t(o));a<l;++a)o[s[a]].index=a;return r(o,s),o}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:gd(Array.from(t)),i):e},i.value=function(e){return arguments.length?(n="function"===typeof e?e:gd(+e),i):n},i.order=function(e){return arguments.length?(t=null==e?vd:"function"===typeof e?e:gd(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(r=null==e?pd:e,i):r},i}().keys(t).value((e,t)=>Number(jd(e,t,0))).order(vd).offset(i),s=a(e);return s.forEach((r,n)=>{r.forEach((r,i)=>{var a=jd(e[i],t[n],0);Array.isArray(a)&&2===a.length&&ms(a[0])&&ms(a[1])&&(r[0]=a[0],r[1]=a[1])})}),s};function Nd(e){var{axis:t,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=e;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!Ss(i[t.dataKey])){var o=ws(r,"value",i[t.dataKey]);if(o)return o.coordinate+n/2}return null!==r&&void 0!==r&&r[a]?r[a].coordinate+n/2:null}var l=jd(i,Ss(s)?t.dataKey:s),c=t.scale.map(l);return ms(c)?c:null}var Ad=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:a,index:s}=e;if("category"===t.type)return r[s]?r[s].coordinate+n:null;var o=jd(a,t.dataKey,t.scale.domain()[s]);if(Ss(o))return null;var l=t.scale.map(o);return ms(l)?l-i/2+n:null},Td=(e,t,r)=>{var n;if(null!=e)return n=Object.keys(e).reduce((n,i)=>{var a=e[i];if(!a)return n;var{stackedData:s}=a,o=s.reduce((e,n)=>{var i=(e=>{var t=e.flat(2).filter(ms);return[Math.min(...t),Math.max(...t)]})(xd(n,t,r));return Ls(i[0])&&Ls(i[1])?[Math.min(e[0],i[0]),Math.max(e[1],i[1])]:e},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]),[n[0]===1/0?0:n[0],n[1]===-1/0?0:n[1]]},Rd=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dd=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ld=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=dd()(t,e=>e.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],c=i[s-1];a=Math.min(((null===l||void 0===l?void 0:l.coordinate)||0)-((null===c||void 0===c?void 0:c.coordinate)||0),a)}return a===1/0?0:a}return r?void 0:0};function Md(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:a}=e;return wd(wd({},t),{},{dataKey:r,payload:n,value:i,name:a})}function Id(e,t){return e?String(e):"string"===typeof t?t:void 0}var Bd=e=>e.layout.width,zd=e=>e.layout.height,Fd=e=>e.layout.scale,Hd=e=>e.layout.margin,Ud=ed(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Wd=ed(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),qd="data-recharts-item-index",Kd="data-recharts-item-id";function Vd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Yd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vd(Object(r),!0).forEach(function(t){Gd(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vd(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Gd(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xd=ed([Bd,zd,Hd,e=>e.brush.height,function(e){return Wd(e).reduce((e,t)=>"left"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Wd(e).reduce((e,t)=>"right"!==t.orientation||t.mirror||t.hide?e:e+("number"===typeof t.width?t.width:60),0)},function(e){return Ud(e).reduce((e,t)=>"top"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},function(e){return Ud(e).reduce((e,t)=>"bottom"!==t.orientation||t.mirror||t.hide?e:e+t.height,0)},hd,e=>e.legend.size],(e,t,r,n,i,a,s,o,l,c)=>{var u={left:(r.left||0)+i,right:(r.right||0)+a},d=Yd(Yd({},{top:(r.top||0)+s,bottom:(r.bottom||0)+o}),u),h=d.bottom;d.bottom+=n,d=((e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=t;if(("vertical"===o||"horizontal"===o&&"middle"===s)&&"center"!==a&&ms(e[a]))return wd(wd({},e),{},{[a]:e[a]+(n||0)});if(("horizontal"===o||"vertical"===o&&"center"===a)&&"middle"!==s&&ms(e[s]))return wd(wd({},e),{},{[s]:e[s]+(i||0)})}return e})(d,l,c);var f=e-d.left-d.right,p=t-d.top-d.bottom;return Yd(Yd({brushBottom:h},d),{},{width:Math.max(f,0),height:Math.max(p,0)})}),$d=ed(Xd,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Jd=ed(Bd,zd,(e,t)=>({x:0,y:0,width:e,height:t})),Qd=(0,t.createContext)(null),Zd=()=>null!=(0,t.useContext)(Qd),eh=e=>e.brush,th=ed([eh,Xd,Hd],(e,t,r)=>({height:e.height,x:ms(e.x)?e.x:t.left,y:ms(e.y)?e.y:t.top+t.height+t.brushBottom-((null===r||void 0===r?void 0:r.bottom)||0),width:ms(e.width)?e.width:t.width}));function rh(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var nh=()=>{var e,t=Zd(),r=cd($d),n=cd(th),i=null===(e=cd(eh))||void 0===e?void 0:e.padding;return t&&n&&i?{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}:r},ih={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ah=()=>{var e;return null!==(e=cd(Xd))&&void 0!==e?e:ih},sh=()=>cd(Bd),oh=()=>cd(zd),lh=e=>e.layout.layoutType,ch=()=>cd(lh),uh=()=>{var e=ch();if("horizontal"===e||"vertical"===e)return e},dh=e=>{var t=e.layout.layoutType;if("centric"===t||"radial"===t)return t},hh=e=>{var r=ad(),n=Zd(),{width:i,height:a}=e,s=Ws(),o=i,l=a;return s&&(o=s.width>0?s.width:i,l=s.height>0?s.height:a),(0,t.useEffect)(()=>{!n&&Ms(o)&&Ms(l)&&r(qu({width:o,height:l}))},[r,n,o,l]),null},fh=r(9859),ph=r.n(fh);function mh(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function gh(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class vh extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_h;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[r,n]of e)this.set(r,n)}get(e){return super.get(yh(this,e))}has(e){return super.has(yh(this,e))}set(e,t){return super.set(bh(this,e),t)}delete(e){return super.delete(xh(this,e))}}Set;function yh(e,t){let{_intern:r,_key:n}=e;const i=n(t);return r.has(i)?r.get(i):t}function bh(e,t){let{_intern:r,_key:n}=e;const i=n(t);return r.has(i)?r.get(i):(r.set(i,t),t)}function xh(e,t){let{_intern:r,_key:n}=e;const i=n(t);return r.has(i)&&(t=r.get(i),r.delete(i)),t}function _h(e){return null!==e&&"object"===typeof e?e.valueOf():e}const wh=Symbol("implicit");function Sh(){var e=new vh,t=[],r=[],n=wh;function i(i){let a=e.get(i);if(void 0===a){if(n!==wh)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new vh;for(const n of r)e.has(n)||e.set(n,t.push(n)-1);return i},i.range=function(e){return arguments.length?(r=Array.from(e),i):r.slice()},i.unknown=function(e){return arguments.length?(n=e,i):n},i.copy=function(){return Sh(t,r).unknown(n)},mh.apply(i,arguments),i}function jh(){var e,t,r=Sh().unknown(void 0),n=r.domain,i=r.range,a=0,s=1,o=!1,l=0,c=0,u=.5;function d(){var r=n().length,d=s<a,h=d?s:a,f=d?a:s;e=(f-h)/Math.max(1,r-l+2*c),o&&(e=Math.floor(e)),h+=(f-h-e*(r-l))*u,t=e*(1-l),o&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((t-e)/r)),a=new Array(i);++n<i;)a[n]=e+n*r;return a}(r).map(function(t){return h+e*t});return i(d?p.reverse():p)}return delete r.unknown,r.domain=function(e){return arguments.length?(n(e),d()):n()},r.range=function(e){return arguments.length?([a,s]=e,a=+a,s=+s,d()):[a,s]},r.rangeRound=function(e){return[a,s]=e,a=+a,s=+s,o=!0,d()},r.bandwidth=function(){return t},r.step=function(){return e},r.round=function(e){return arguments.length?(o=!!e,d()):o},r.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},r.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},r.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},r.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},r.copy=function(){return jh(n(),[a,s]).round(o).paddingInner(l).paddingOuter(c).align(u)},mh.apply(d(),arguments)}function kh(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kh(t())},e}function Ch(){return kh(jh.apply(null,arguments).paddingInner(1))}const Eh=Math.sqrt(50),Oh=Math.sqrt(10),Ph=Math.sqrt(2);function Nh(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=Eh?10:a>=Oh?5:a>=Ph?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/s,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=r&&r<2?Nh(e,t,2*r):[o,l,c]}function Ah(e,t,r){if(!((r=+r)>0))return[];if((e=+e)===(t=+t))return[e];const n=t<e,[i,a,s]=n?Nh(t,e,r):Nh(e,t,r);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(n)if(s<0)for(let c=0;c<o;++c)l[c]=(a-c)/-s;else for(let c=0;c<o;++c)l[c]=(a-c)*s;else if(s<0)for(let c=0;c<o;++c)l[c]=(i+c)/-s;else for(let c=0;c<o;++c)l[c]=(i+c)*s;return l}function Th(e,t,r){return Nh(e=+e,t=+t,r=+r)[2]}function Rh(e,t,r){r=+r;const n=(t=+t)<(e=+e),i=n?Th(t,e,r):Th(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function Dh(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Lh(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mh(e){let t,r,n;function i(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;r(e[t],n)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=Dh,r=(t,r)=>Dh(e(t),r),n=(t,r)=>e(t)-r):(t=e===Dh||e===Lh?e:Ih,r=e,n=e),{left:i,center:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,r,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>r&&n(e[a-1],t)>-n(e[a],t)?a-1:a},right:function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(n,n))return a;do{const t=i+a>>>1;r(e[t],n)<=0?i=t+1:a=t}while(i<a)}return i}}}function Ih(){return 0}function Bh(e){return null===e?NaN:+e}const zh=Mh(Dh),Fh=zh.right,Hh=(zh.left,Mh(Bh).center,Fh);function Uh(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Wh(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function qh(){}var Kh=.7,Vh=1/Kh,Yh="\\s*([+-]?\\d+)\\s*",Gh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$h=/^#([0-9a-f]{3,8})$/,Jh=new RegExp("^rgb\\(".concat(Yh,",").concat(Yh,",").concat(Yh,"\\)$")),Qh=new RegExp("^rgb\\(".concat(Xh,",").concat(Xh,",").concat(Xh,"\\)$")),Zh=new RegExp("^rgba\\(".concat(Yh,",").concat(Yh,",").concat(Yh,",").concat(Gh,"\\)$")),ef=new RegExp("^rgba\\(".concat(Xh,",").concat(Xh,",").concat(Xh,",").concat(Gh,"\\)$")),tf=new RegExp("^hsl\\(".concat(Gh,",").concat(Xh,",").concat(Xh,"\\)$")),rf=new RegExp("^hsla\\(".concat(Gh,",").concat(Xh,",").concat(Xh,",").concat(Gh,"\\)$")),nf={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function af(){return this.rgb().formatHex()}function sf(){return this.rgb().formatRgb()}function of(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=$h.exec(e))?(r=t[1].length,t=parseInt(t[1],16),6===r?lf(t):3===r?new df(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===r?cf(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===r?cf(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Jh.exec(e))?new df(t[1],t[2],t[3],1):(t=Qh.exec(e))?new df(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Zh.exec(e))?cf(t[1],t[2],t[3],t[4]):(t=ef.exec(e))?cf(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=tf.exec(e))?vf(t[1],t[2]/100,t[3]/100,1):(t=rf.exec(e))?vf(t[1],t[2]/100,t[3]/100,t[4]):nf.hasOwnProperty(e)?lf(nf[e]):"transparent"===e?new df(NaN,NaN,NaN,0):null}function lf(e){return new df(e>>16&255,e>>8&255,255&e,1)}function cf(e,t,r,n){return n<=0&&(e=t=r=NaN),new df(e,t,r,n)}function uf(e,t,r,n){return 1===arguments.length?((i=e)instanceof qh||(i=of(i)),i?new df((i=i.rgb()).r,i.g,i.b,i.opacity):new df):new df(e,t,r,null==n?1:n);var i}function df(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}function hf(){return"#".concat(gf(this.r)).concat(gf(this.g)).concat(gf(this.b))}function ff(){const e=pf(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(mf(this.r),", ").concat(mf(this.g),", ").concat(mf(this.b)).concat(1===e?")":", ".concat(e,")"))}function pf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function mf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function gf(e){return((e=mf(e))<16?"0":"")+e.toString(16)}function vf(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new bf(e,t,r,n)}function yf(e){if(e instanceof bf)return new bf(e.h,e.s,e.l,e.opacity);if(e instanceof qh||(e=of(e)),!e)return new bf;if(e instanceof bf)return e;var t=(e=e.rgb()).r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),s=NaN,o=a-i,l=(a+i)/2;return o?(s=t===a?(r-n)/o+6*(r<n):r===a?(n-t)/o+2:(t-r)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new bf(s,o,l,e.opacity)}function bf(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}function xf(e){return(e=(e||0)%360)<0?e+360:e}function _f(e){return Math.max(0,Math.min(1,e||0))}function wf(e,t,r){return 255*(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)}function Sf(e,t,r,n,i){var a=e*e,s=a*e;return((1-3*e+3*a-s)*t+(4-6*a+3*s)*r+(1+3*e+3*a-3*s)*n+s*i)/6}Uh(qh,of,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:af,formatHex:af,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return yf(this).formatHsl()},formatRgb:sf,toString:sf}),Uh(df,uf,Wh(qh,{brighter(e){return e=null==e?Vh:Math.pow(Vh,e),new df(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Kh:Math.pow(Kh,e),new df(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new df(mf(this.r),mf(this.g),mf(this.b),pf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hf,formatHex:hf,formatHex8:function(){return"#".concat(gf(this.r)).concat(gf(this.g)).concat(gf(this.b)).concat(gf(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:ff,toString:ff})),Uh(bf,function(e,t,r,n){return 1===arguments.length?yf(e):new bf(e,t,r,null==n?1:n)},Wh(qh,{brighter(e){return e=null==e?Vh:Math.pow(Vh,e),new bf(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Kh:Math.pow(Kh,e),new bf(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new df(wf(e>=240?e-240:e+120,i,n),wf(e,i,n),wf(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new bf(xf(this.h),_f(this.s),_f(this.l),pf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pf(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(xf(this.h),", ").concat(100*_f(this.s),"%, ").concat(100*_f(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const jf=e=>()=>e;function kf(e,t){return function(r){return e+r*t}}function Cf(e){return 1===(e=+e)?Ef:function(t,r){return r-t?function(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}(t,r,e):jf(isNaN(t)?r:t)}}function Ef(e,t){var r=t-e;return r?kf(e,r):jf(isNaN(e)?t:e)}const Of=function e(t){var r=Cf(t);function n(e,t){var n=r((e=uf(e)).r,(t=uf(t)).r),i=r(e.g,t.g),a=r(e.b,t.b),s=Ef(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=i(t),e.b=a(t),e.opacity=s(t),e+""}}return n.gamma=e,n}(1);function Pf(e){return function(t){var r,n,i=t.length,a=new Array(i),s=new Array(i),o=new Array(i);for(r=0;r<i;++r)n=uf(t[r]),a[r]=n.r||0,s[r]=n.g||0,o[r]=n.b||0;return a=e(a),s=e(s),o=e(o),n.opacity=1,function(e){return n.r=a(e),n.g=s(e),n.b=o(e),n+""}}}Pf(function(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),i=e[n],a=e[n+1],s=n>0?e[n-1]:2*i-a,o=n<t-1?e[n+2]:2*a-i;return Sf((r-n/t)*t,s,i,a,o)}}),Pf(function(e){var t=e.length;return function(r){var n=Math.floor(((r%=1)<0?++r:r)*t),i=e[(n+t-1)%t],a=e[n%t],s=e[(n+1)%t],o=e[(n+2)%t];return Sf((r-n/t)*t,i,a,s,o)}});function Nf(e,t){var r,n=t?t.length:0,i=e?Math.min(n,e.length):0,a=new Array(i),s=new Array(n);for(r=0;r<i;++r)a[r]=Bf(e[r],t[r]);for(;r<n;++r)s[r]=t[r];return function(e){for(r=0;r<i;++r)s[r]=a[r](e);return s}}function Af(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Tf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function Rf(e,t){var r,n={},i={};for(r in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)r in e?n[r]=Bf(e[r],t[r]):i[r]=t[r];return function(e){for(r in n)i[r]=n[r](e);return i}}var Df=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lf=new RegExp(Df.source,"g");function Mf(e,t){var r,n,i,a=Df.lastIndex=Lf.lastIndex=0,s=-1,o=[],l=[];for(e+="",t+="";(r=Df.exec(e))&&(n=Lf.exec(t));)(i=n.index)>a&&(i=t.slice(a,i),o[s]?o[s]+=i:o[++s]=i),(r=r[0])===(n=n[0])?o[s]?o[s]+=n:o[++s]=n:(o[++s]=null,l.push({i:s,x:Tf(r,n)})),a=Lf.lastIndex;return a<t.length&&(i=t.slice(a),o[s]?o[s]+=i:o[++s]=i),o.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var r,n=0;n<t;++n)o[(r=l[n]).i]=r.x(e);return o.join("")})}function If(e,t){t||(t=[]);var r,n=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(r=0;r<n;++r)i[r]=e[r]*(1-a)+t[r]*a;return i}}function Bf(e,t){var r,n,i=typeof t;return null==t||"boolean"===i?jf(t):("number"===i?Tf:"string"===i?(r=of(t))?(t=r,Of):Mf:t instanceof of?Of:t instanceof Date?Af:(n=t,!ArrayBuffer.isView(n)||n instanceof DataView?Array.isArray(t)?Nf:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?Rf:Tf:If))(e,t)}function zf(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function Ff(e){return+e}var Hf=[0,1];function Uf(e){return e}function Wf(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:(r=isNaN(t)?NaN:.5,function(){return r});var r}function qf(e,t,r){var n=e[0],i=e[1],a=t[0],s=t[1];return i<n?(n=Wf(i,n),a=r(s,a)):(n=Wf(n,i),a=r(a,s)),function(e){return a(n(e))}}function Kf(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),s=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<n;)i[s]=Wf(e[s],e[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var r=Hh(e,t,1,n)-1;return a[r](i[r](t))}}function Vf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Yf(){var e,t,r,n,i,a,s=Hf,o=Hf,l=Bf,c=Uf;function u(){var e=Math.min(s.length,o.length);return c!==Uf&&(c=function(e,t){var r;return e>t&&(r=e,e=t,t=r),function(r){return Math.max(e,Math.min(t,r))}}(s[0],s[e-1])),n=e>2?Kf:qf,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?r:(i||(i=n(s.map(e),o,l)))(e(c(t)))}return d.invert=function(r){return c(t((a||(a=n(o,s.map(e),Tf)))(r)))},d.domain=function(e){return arguments.length?(s=Array.from(e,Ff),u()):s.slice()},d.range=function(e){return arguments.length?(o=Array.from(e),u()):o.slice()},d.rangeRound=function(e){return o=Array.from(e),l=zf,u()},d.clamp=function(e){return arguments.length?(c=!!e||Uf,u()):c!==Uf},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(r=e,d):r},function(r,n){return e=r,t=n,u()}}function Gf(){return Yf()(Uf,Uf)}var Xf,$f=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jf(e){if(!(t=$f.exec(e)))throw new Error("invalid format: "+e);var t;return new Qf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function Qf(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function Zf(e,t){if(!isFinite(e)||0===e)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ep(e){return(e=Zf(Math.abs(e)))?e[1]:NaN}function tp(e,t){var r=Zf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}Jf.prototype=Qf.prototype,Qf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const rp={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>tp(100*e,t),r:tp,s:function(e,t){var r=Zf(e,t);if(!r)return Xf=void 0,e.toPrecision(t);var n=r[0],i=r[1],a=i-(Xf=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Zf(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function np(e){return e}var ip,ap,sp,op=Array.prototype.map,lp=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function cp(e){var t,r,n=void 0===e.grouping||void 0===e.thousands?np:(t=op.call(e.grouping,Number),r=e.thousands+"",function(e,n){for(var i=e.length,a=[],s=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),a.push(e.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(r)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",s=void 0===e.decimal?".":e.decimal+"",o=void 0===e.numerals?np:function(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}(op.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e,t){var r=(e=Jf(e)).fill,d=e.align,h=e.sign,f=e.symbol,p=e.zero,m=e.width,g=e.comma,v=e.precision,y=e.trim,b=e.type;"n"===b?(g=!0,b="g"):rp[b]||(void 0===v&&(v=12),y=!0,b="g"),(p||"0"===r&&"="===d)&&(p=!0,r="0",d="=");var x=(t&&void 0!==t.prefix?t.prefix:"")+("$"===f?i:"#"===f&&/[boxX]/.test(b)?"0"+b.toLowerCase():""),_=("$"===f?a:/[%p]/.test(b)?l:"")+(t&&void 0!==t.suffix?t.suffix:""),w=rp[b],S=/[defgprs%]/.test(b);function j(e){var t,i,a,l=x,f=_;if("c"===b)f=w(e)+f,e="";else{var j=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),v),y&&(e=function(e){e:for(var t,r=e.length,n=1,i=-1;n<r;++n)switch(e[n]){case".":i=t=n;break;case"0":0===i&&(i=n),t=n;break;default:if(!+e[n])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),j&&0===+e&&"+"!==h&&(j=!1),l=(j?"("===h?h:c:"-"===h||"("===h?"":h)+l,f=("s"!==b||isNaN(e)||void 0===Xf?"":lp[8+Xf/3])+f+(j&&"("===h?")":""),S)for(t=-1,i=e.length;++t<i;)if(48>(a=e.charCodeAt(t))||a>57){f=(46===a?s+e.slice(t+1):e.slice(t))+f,e=e.slice(0,t);break}}g&&!p&&(e=n(e,1/0));var k=l.length+e.length+f.length,C=k<m?new Array(m-k+1).join(r):"";switch(g&&p&&(e=n(C+e,C.length?m-f.length:1/0),C=""),d){case"<":e=l+e+f+C;break;case"=":e=l+C+e+f;break;case"^":e=C.slice(0,k=C.length>>1)+l+e+f+C.slice(k);break;default:e=C+l+e+f}return o(e)}return v=void 0===v?6:/[gprs]/.test(b)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),j.toString=function(){return e+""},j}return{format:d,formatPrefix:function(e,t){var r=3*Math.max(-8,Math.min(8,Math.floor(ep(t)/3))),n=Math.pow(10,-r),i=d(((e=Jf(e)).type="f",e),{suffix:lp[8+r/3]});return function(e){return i(n*e)}}}}function up(e,t,r,n){var i,a=Rh(e,t,r);switch((n=Jf(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(e),Math.abs(t));return null!=n.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ep(t)/3)))-ep(Math.abs(e)))}(a,s))||(n.precision=i),sp(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ep(t)-ep(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(n.precision=i-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(i=function(e){return Math.max(0,-ep(Math.abs(e)))}(a))||(n.precision=i-2*("%"===n.type))}return ap(n)}function dp(e){var t=e.domain;return e.ticks=function(e){var r=t();return Ah(r[0],r[r.length-1],null==e?10:e)},e.tickFormat=function(e,r){var n=t();return up(n[0],n[n.length-1],null==e?10:e,r)},e.nice=function(r){null==r&&(r=10);var n,i,a=t(),s=0,o=a.length-1,l=a[s],c=a[o],u=10;for(c<l&&(i=l,l=c,c=i,i=s,s=o,o=i);u-- >0;){if((i=Th(l,c,r))===n)return a[s]=l,a[o]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}n=i}return e},e}function hp(){var e=Gf();return e.copy=function(){return Vf(e,hp())},mh.apply(e,arguments),dp(e)}function fp(e){var t;function r(e){return null==e||isNaN(e=+e)?t:e}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=Array.from(t,Ff),r):e.slice()},r.unknown=function(e){return arguments.length?(t=e,r):t},r.copy=function(){return fp(e).unknown(t)},e=arguments.length?Array.from(e,Ff):[0,1],dp(r)}function pp(e,t){var r,n=0,i=(e=e.slice()).length-1,a=e[n],s=e[i];return s<a&&(r=n,n=i,i=r,r=a,a=s,s=r),e[n]=t.floor(a),e[i]=t.ceil(s),e}function mp(e){return Math.log(e)}function gp(e){return Math.exp(e)}function vp(e){return-Math.log(-e)}function yp(e){return-Math.exp(-e)}function bp(e){return isFinite(e)?+("1e"+e):e<0?0:e}function xp(e){return(t,r)=>-e(-t,r)}function _p(e){const t=e(mp,gp),r=t.domain;let n,i,a=10;function s(){return n=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?bp:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),r()[0]<0?(n=xp(n),i=xp(i),e(vp,yp)):e(mp,gp),t}return t.base=function(e){return arguments.length?(a=+e,s()):a},t.domain=function(e){return arguments.length?(r(e),s()):r()},t.ticks=e=>{const t=r();let s=t[0],o=t[t.length-1];const l=o<s;l&&([s,o]=[o,s]);let c,u,d=n(s),h=n(o);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;p.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<s)){if(u>o)break;p.push(u)}2*p.length<f&&(p=Ah(s,o,f))}else p=Ah(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,r)=>{if(null==e&&(e=10),null==r&&(r=10===a?"s":","),"function"!==typeof r&&(a%1||null!=(r=Jf(r)).precision||(r.trim=!0),r=ap(r)),e===1/0)return r;const s=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(n(e)));return t*a<a-.5&&(t*=a),t<=s?r(e):""}},t.nice=()=>r(pp(r(),{floor:e=>i(Math.floor(n(e))),ceil:e=>i(Math.ceil(n(e)))})),t}function wp(){const e=_p(Yf()).domain([1,10]);return e.copy=()=>Vf(e,wp()).base(e.base()),mh.apply(e,arguments),e}function Sp(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jp(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function kp(e){var t=1,r=e(Sp(t),jp(t));return r.constant=function(r){return arguments.length?e(Sp(t=+r),jp(t)):t},dp(r)}function Cp(){var e=kp(Yf());return e.copy=function(){return Vf(e,Cp()).constant(e.constant())},mh.apply(e,arguments)}function Ep(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Op(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Pp(e){return e<0?-e*e:e*e}function Np(e){var t=e(Uf,Uf),r=1;return t.exponent=function(t){return arguments.length?1===(r=+t)?e(Uf,Uf):.5===r?e(Op,Pp):e(Ep(r),Ep(1/r)):r},dp(t)}function Ap(){var e=Np(Yf());return e.copy=function(){return Vf(e,Ap()).exponent(e.exponent())},mh.apply(e,arguments),e}function Tp(){return Ap.apply(null,arguments).exponent(.5)}function Rp(e){return Math.sign(e)*e*e}function Dp(){var e,t=Gf(),r=[0,1],n=!1;function i(r){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(r));return isNaN(i)?e:n?Math.round(i):i}return i.invert=function(e){return t.invert(Rp(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((r=Array.from(e,Ff)).map(Rp)),i):r.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(n=!!e,i):n},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Dp(t.domain(),r).round(n).clamp(t.clamp()).unknown(e)},mh.apply(i,arguments),dp(i)}function Lp(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r<n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r<i||void 0===r&&i>=i)&&(r=i)}return r}function Mp(e,t){let r;if(void 0===t)for(const n of e)null!=n&&(r>n||void 0===r&&n>=n)&&(r=n);else{let n=-1;for(let i of e)null!=(i=t(i,++n,e))&&(r>i||void 0===r&&i>=i)&&(r=i)}return r}function Ip(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dh;if(e===Dh)return Bp;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||0===n?n:(0===e(r,r))-(0===e(t,t))}}function Bp(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function zp(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=void 0===i?Bp:Ip(i);n>r;){if(n-r>600){const a=n-r+1,s=t-r+1,o=Math.log(a),l=.5*Math.exp(2*o/3),c=.5*Math.sqrt(o*l*(a-l)/a)*(s-a/2<0?-1:1);zp(e,t,Math.max(r,Math.floor(t-s*l/a+c)),Math.min(n,Math.floor(t+(a-s)*l/a+c)),i)}const a=e[t];let s=r,o=n;for(Fp(e,r,t),i(e[n],a)>0&&Fp(e,r,n);s<o;){for(Fp(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}0===i(e[r],a)?Fp(e,r,o):(++o,Fp(e,o,n)),o<=t&&(r=o+1),t<=o&&(n=o-1)}return e}function Fp(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Hp(e,t,r){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let r of e)null!=r&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)null!=(n=t(n,++r,e))&&(n=+n)>=n&&(yield n)}}(e,r)),(n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return Mp(e);if(t>=1)return Lp(e);var n,i=(n-1)*t,a=Math.floor(i),s=Lp(zp(e,a).subarray(0,a+1));return s+(Mp(e.subarray(a+1))-s)*(i-a)}}function Up(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Bh;if((n=e.length)&&!isNaN(t=+t)){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,a=Math.floor(i),s=+r(e[a],a,e);return s+(+r(e[a+1],a+1,e)-s)*(i-a)}}function Wp(){var e,t=[],r=[],n=[];function i(){var e=0,i=Math.max(1,r.length);for(n=new Array(i-1);++e<i;)n[e-1]=Up(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:r[Hh(n,t)]}return a.invertExtent=function(e){var i=r.indexOf(e);return i<0?[NaN,NaN]:[i>0?n[i-1]:t[0],i<n.length?n[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let r of e)null==r||isNaN(r=+r)||t.push(r);return t.sort(Dh),i()},a.range=function(e){return arguments.length?(r=Array.from(e),i()):r.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return n.slice()},a.copy=function(){return Wp().domain(t).range(r).unknown(e)},mh.apply(a,arguments)}function qp(){var e,t=0,r=1,n=1,i=[.5],a=[0,1];function s(t){return null!=t&&t<=t?a[Hh(i,t,0,n)]:e}function o(){var e=-1;for(i=new Array(n);++e<n;)i[e]=((e+1)*r-(e-n)*t)/(n+1);return s}return s.domain=function(e){return arguments.length?([t,r]=e,t=+t,r=+r,o()):[t,r]},s.range=function(e){return arguments.length?(n=(a=Array.from(e)).length-1,o()):a.slice()},s.invertExtent=function(e){var s=a.indexOf(e);return s<0?[NaN,NaN]:s<1?[t,i[0]]:s>=n?[i[n-1],r]:[i[s-1],i[s]]},s.unknown=function(t){return arguments.length?(e=t,s):s},s.thresholds=function(){return i.slice()},s.copy=function(){return qp().domain([t,r]).range(a).unknown(e)},mh.apply(dp(s),arguments)}function Kp(){var e,t=[.5],r=[0,1],n=1;function i(i){return null!=i&&i<=i?r[Hh(t,i,0,n)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),n=Math.min(t.length,r.length-1),i):t.slice()},i.range=function(e){return arguments.length?(r=Array.from(e),n=Math.min(t.length,r.length-1),i):r.slice()},i.invertExtent=function(e){var n=r.indexOf(e);return[t[n-1],t[n]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return Kp().domain(t).range(r).unknown(e)},mh.apply(i,arguments)}ip=cp({thousands:",",grouping:[3],currency:["$",""]}),ap=ip.format,sp=ip.formatPrefix;const Vp=1e3,Yp=6e4,Gp=36e5,Xp=864e5,$p=6048e5,Jp=2592e6,Qp=31536e6,Zp=new Date,em=new Date;function tm(e,t,r,n){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=r=>(e(r=new Date(r-1)),t(r,1),e(r),r),i.round=e=>{const t=i(e),r=i.ceil(e);return e-t<r-e?t:r},i.offset=(e,r)=>(t(e=new Date(+e),null==r?1:Math.floor(r)),e),i.range=(r,n,a)=>{const s=[];if(r=i.ceil(r),a=null==a?1:Math.floor(a),!(r<n)||!(a>0))return s;let o;do{s.push(o=new Date(+r)),t(r,a),e(r)}while(o<r&&r<n);return s},i.filter=r=>tm(t=>{if(t>=t)for(;e(t),!r(t);)t.setTime(t-1)},(e,n)=>{if(e>=e)if(n<0)for(;++n<=0;)for(;t(e,-1),!r(e););else for(;--n>=0;)for(;t(e,1),!r(e););}),r&&(i.count=(t,n)=>(Zp.setTime(+t),em.setTime(+n),e(Zp),e(em),Math.floor(r(Zp,em))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(n?t=>n(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const rm=tm(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rm.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?tm(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):rm:null);rm.range;const nm=tm(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vp)},(e,t)=>(t-e)/Vp,e=>e.getUTCSeconds()),im=(nm.range,tm(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vp)},(e,t)=>{e.setTime(+e+t*Yp)},(e,t)=>(t-e)/Yp,e=>e.getMinutes())),am=(im.range,tm(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Yp)},(e,t)=>(t-e)/Yp,e=>e.getUTCMinutes())),sm=(am.range,tm(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vp-e.getMinutes()*Yp)},(e,t)=>{e.setTime(+e+t*Gp)},(e,t)=>(t-e)/Gp,e=>e.getHours())),om=(sm.range,tm(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Gp)},(e,t)=>(t-e)/Gp,e=>e.getUTCHours())),lm=(om.range,tm(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yp)/Xp,e=>e.getDate()-1)),cm=(lm.range,tm(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xp,e=>e.getUTCDate()-1)),um=(cm.range,tm(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Xp,e=>Math.floor(e/Xp)));um.range;function dm(e){return tm(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(e,t)=>{e.setDate(e.getDate()+7*t)},(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Yp)/$p)}const hm=dm(0),fm=dm(1),pm=dm(2),mm=dm(3),gm=dm(4),vm=dm(5),ym=dm(6);hm.range,fm.range,pm.range,mm.range,gm.range,vm.range,ym.range;function bm(e){return tm(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)},(e,t)=>(t-e)/$p)}const xm=bm(0),_m=bm(1),wm=bm(2),Sm=bm(3),jm=bm(4),km=bm(5),Cm=bm(6),Em=(xm.range,_m.range,wm.range,Sm.range,jm.range,km.range,Cm.range,tm(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear()),e=>e.getMonth())),Om=(Em.range,tm(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear()),e=>e.getUTCMonth())),Pm=(Om.range,tm(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear()));Pm.every=e=>isFinite(e=Math.floor(e))&&e>0?tm(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)}):null;Pm.range;const Nm=tm(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Nm.every=e=>isFinite(e=Math.floor(e))&&e>0?tm(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)}):null;Nm.range;function Am(e,t,r,n,i,a){const s=[[nm,1,Vp],[nm,5,5e3],[nm,15,15e3],[nm,30,3e4],[a,1,Yp],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,Gp],[i,3,108e5],[i,6,216e5],[i,12,432e5],[n,1,Xp],[n,2,1728e5],[r,1,$p],[t,1,Jp],[t,3,7776e6],[e,1,Qp]];function o(t,r,n){const i=Math.abs(r-t)/n,a=Mh(e=>{let[,,t]=e;return t}).right(s,i);if(a===s.length)return e.every(Rh(t/Qp,r/Qp,n));if(0===a)return rm.every(Math.max(Rh(t,r,n),1));const[o,l]=s[i/s[a-1][2]<s[a][2]/i?a-1:a];return o.every(l)}return[function(e,t,r){const n=t<e;n&&([e,t]=[t,e]);const i=r&&"function"===typeof r.range?r:o(e,t,r),a=i?i.range(e,+t+1):[];return n?a.reverse():a},o]}const[Tm,Rm]=Am(Nm,Om,xm,um,om,am),[Dm,Lm]=Am(Pm,Em,hm,lm,sm,im);function Mm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Im(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bm(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}var zm,Fm,Hm,Um={"-":"",_:" ",0:"0"},Wm=/^\s*\d+/,qm=/^%/,Km=/[\\^$*+?|[\]().{}]/g;function Vm(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(t)+i:i)}function Ym(e){return e.replace(Km,"\\$&")}function Gm(e){return new RegExp("^(?:"+e.map(Ym).join("|")+")","i")}function Xm(e){return new Map(e.map((e,t)=>[e.toLowerCase(),t]))}function $m(e,t,r){var n=Wm.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function Jm(e,t,r){var n=Wm.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function Qm(e,t,r){var n=Wm.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function Zm(e,t,r){var n=Wm.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function eg(e,t,r){var n=Wm.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function tg(e,t,r){var n=Wm.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function rg(e,t,r){var n=Wm.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function ng(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function ig(e,t,r){var n=Wm.exec(t.slice(r,r+1));return n?(e.q=3*n[0]-3,r+n[0].length):-1}function ag(e,t,r){var n=Wm.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sg(e,t,r){var n=Wm.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function og(e,t,r){var n=Wm.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lg(e,t,r){var n=Wm.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function cg(e,t,r){var n=Wm.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ug(e,t,r){var n=Wm.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function dg(e,t,r){var n=Wm.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function hg(e,t,r){var n=Wm.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function fg(e,t,r){var n=qm.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function pg(e,t,r){var n=Wm.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function mg(e,t,r){var n=Wm.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function gg(e,t){return Vm(e.getDate(),t,2)}function vg(e,t){return Vm(e.getHours(),t,2)}function yg(e,t){return Vm(e.getHours()%12||12,t,2)}function bg(e,t){return Vm(1+lm.count(Pm(e),e),t,3)}function xg(e,t){return Vm(e.getMilliseconds(),t,3)}function _g(e,t){return xg(e,t)+"000"}function wg(e,t){return Vm(e.getMonth()+1,t,2)}function Sg(e,t){return Vm(e.getMinutes(),t,2)}function jg(e,t){return Vm(e.getSeconds(),t,2)}function kg(e){var t=e.getDay();return 0===t?7:t}function Cg(e,t){return Vm(hm.count(Pm(e)-1,e),t,2)}function Eg(e){var t=e.getDay();return t>=4||0===t?gm(e):gm.ceil(e)}function Og(e,t){return e=Eg(e),Vm(gm.count(Pm(e),e)+(4===Pm(e).getDay()),t,2)}function Pg(e){return e.getDay()}function Ng(e,t){return Vm(fm.count(Pm(e)-1,e),t,2)}function Ag(e,t){return Vm(e.getFullYear()%100,t,2)}function Tg(e,t){return Vm((e=Eg(e)).getFullYear()%100,t,2)}function Rg(e,t){return Vm(e.getFullYear()%1e4,t,4)}function Dg(e,t){var r=e.getDay();return Vm((e=r>=4||0===r?gm(e):gm.ceil(e)).getFullYear()%1e4,t,4)}function Lg(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Vm(t/60|0,"0",2)+Vm(t%60,"0",2)}function Mg(e,t){return Vm(e.getUTCDate(),t,2)}function Ig(e,t){return Vm(e.getUTCHours(),t,2)}function Bg(e,t){return Vm(e.getUTCHours()%12||12,t,2)}function zg(e,t){return Vm(1+cm.count(Nm(e),e),t,3)}function Fg(e,t){return Vm(e.getUTCMilliseconds(),t,3)}function Hg(e,t){return Fg(e,t)+"000"}function Ug(e,t){return Vm(e.getUTCMonth()+1,t,2)}function Wg(e,t){return Vm(e.getUTCMinutes(),t,2)}function qg(e,t){return Vm(e.getUTCSeconds(),t,2)}function Kg(e){var t=e.getUTCDay();return 0===t?7:t}function Vg(e,t){return Vm(xm.count(Nm(e)-1,e),t,2)}function Yg(e){var t=e.getUTCDay();return t>=4||0===t?jm(e):jm.ceil(e)}function Gg(e,t){return e=Yg(e),Vm(jm.count(Nm(e),e)+(4===Nm(e).getUTCDay()),t,2)}function Xg(e){return e.getUTCDay()}function $g(e,t){return Vm(_m.count(Nm(e)-1,e),t,2)}function Jg(e,t){return Vm(e.getUTCFullYear()%100,t,2)}function Qg(e,t){return Vm((e=Yg(e)).getUTCFullYear()%100,t,2)}function Zg(e,t){return Vm(e.getUTCFullYear()%1e4,t,4)}function ev(e,t){var r=e.getUTCDay();return Vm((e=r>=4||0===r?jm(e):jm.ceil(e)).getUTCFullYear()%1e4,t,4)}function tv(){return"+0000"}function rv(){return"%"}function nv(e){return+e}function iv(e){return Math.floor(+e/1e3)}function av(e){return new Date(e)}function sv(e){return e instanceof Date?+e:+new Date(+e)}function ov(e,t,r,n,i,a,s,o,l,c){var u=Gf(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),v=c("%a %d"),y=c("%b %d"),b=c("%B"),x=c("%Y");function _(e){return(l(e)<e?f:o(e)<e?p:s(e)<e?m:a(e)<e?g:n(e)<e?i(e)<e?v:y:r(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,sv)):h().map(av)},u.ticks=function(t){var r=h();return e(r[0],r[r.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?_:c(t)},u.nice=function(e){var r=h();return e&&"function"===typeof e.range||(e=t(r[0],r[r.length-1],null==e?10:e)),e?h(pp(r,e)):u},u.copy=function(){return Vf(u,ov(e,t,r,n,i,a,s,o,l,c))},u}function lv(){return mh.apply(ov(Dm,Lm,Pm,Em,hm,lm,sm,im,nm,Fm).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cv(){return mh.apply(ov(Tm,Rm,Nm,Om,xm,cm,om,am,nm,Hm).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uv(){var e,t,r,n,i,a=0,s=1,o=Uf,l=!1;function c(t){return null==t||isNaN(t=+t)?i:o(0===r?.5:(t=(n(t)-e)*r,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var r,n;return arguments.length?([r,n]=t,o=e(r,n),c):[o(0),o(1)]}}return c.domain=function(i){return arguments.length?([a,s]=i,e=n(a=+a),t=n(s=+s),r=e===t?0:1/(t-e),c):[a,s]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(o=e,c):o},c.range=u(Bf),c.rangeRound=u(zf),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return n=i,e=i(a),t=i(s),r=e===t?0:1/(t-e),c}}function dv(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function hv(){var e=dp(uv()(Uf));return e.copy=function(){return dv(e,hv())},gh.apply(e,arguments)}function fv(){var e=_p(uv()).domain([1,10]);return e.copy=function(){return dv(e,fv()).base(e.base())},gh.apply(e,arguments)}function pv(){var e=kp(uv());return e.copy=function(){return dv(e,pv()).constant(e.constant())},gh.apply(e,arguments)}function mv(){var e=Np(uv());return e.copy=function(){return dv(e,mv()).exponent(e.exponent())},gh.apply(e,arguments)}function gv(){return mv.apply(null,arguments).exponent(.5)}function vv(){var e=[],t=Uf;function r(r){if(null!=r&&!isNaN(r=+r))return t((Hh(e,r,1)-1)/(e.length-1))}return r.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let r of t)null==r||isNaN(r=+r)||e.push(r);return e.sort(Dh),r},r.interpolator=function(e){return arguments.length?(t=e,r):t},r.range=function(){return e.map((r,n)=>t(n/(e.length-1)))},r.quantiles=function(t){return Array.from({length:t+1},(r,n)=>Hp(e,n/t))},r.copy=function(){return vv(t).domain(e)},gh.apply(r,arguments)}function yv(){var e,t,r,n,i,a,s,o=0,l=.5,c=1,u=1,d=Uf,h=!1;function f(e){return isNaN(e=+e)?s:(e=.5+((e=+a(e))-t)*(u*e<u*t?n:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var r,n,i;return arguments.length?([r,n,i]=t,d=function(e,t){void 0===t&&(t=e,e=Bf);for(var r=0,n=t.length-1,i=t[0],a=new Array(n<0?0:n);r<n;)a[r]=e(i,i=t[++r]);return function(e){var t=Math.max(0,Math.min(n-1,Math.floor(e*=n)));return a[t](e-t)}}(e,[r,n,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(s){return arguments.length?([o,l,c]=s,e=a(o=+o),t=a(l=+l),r=a(c=+c),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),u=t<e?-1:1,f):[o,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(Bf),f.rangeRound=p(zf),f.unknown=function(e){return arguments.length?(s=e,f):s},function(s){return a=s,e=s(o),t=s(l),r=s(c),n=e===t?0:.5/(t-e),i=t===r?0:.5/(r-t),u=t<e?-1:1,f}}function bv(){var e=dp(yv()(Uf));return e.copy=function(){return dv(e,bv())},gh.apply(e,arguments)}function xv(){var e=_p(yv()).domain([.1,1,10]);return e.copy=function(){return dv(e,xv()).base(e.base())},gh.apply(e,arguments)}function _v(){var e=kp(yv());return e.copy=function(){return dv(e,_v()).constant(e.constant())},gh.apply(e,arguments)}function wv(){var e=Np(yv());return e.copy=function(){return dv(e,wv()).exponent(e.exponent())},gh.apply(e,arguments)}function Sv(){return wv.apply(null,arguments).exponent(.5)}!function(e){zm=function(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,c=Gm(i),u=Xm(i),d=Gm(a),h=Xm(a),f=Gm(s),p=Xm(s),m=Gm(o),g=Xm(o),v=Gm(l),y=Xm(l),b={a:function(e){return s[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return o[e.getMonth()]},c:null,d:gg,e:gg,f:_g,g:Tg,G:Dg,H:vg,I:yg,j:bg,L:xg,m:wg,M:Sg,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:nv,s:iv,S:jg,u:kg,U:Cg,V:Og,w:Pg,W:Ng,x:null,X:null,y:Ag,Y:Rg,Z:Lg,"%":rv},x={a:function(e){return s[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return o[e.getUTCMonth()]},c:null,d:Mg,e:Mg,f:Hg,g:Qg,G:ev,H:Ig,I:Bg,j:zg,L:Fg,m:Ug,M:Wg,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:nv,s:iv,S:qg,u:Kg,U:Vg,V:Gg,w:Xg,W:$g,x:null,X:null,y:Jg,Y:Zg,Z:tv,"%":rv},_={a:function(e,t,r){var n=f.exec(t.slice(r));return n?(e.w=p.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(e,t,r){var n=d.exec(t.slice(r));return n?(e.w=h.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(e,t,r){var n=v.exec(t.slice(r));return n?(e.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(e,t,r){var n=m.exec(t.slice(r));return n?(e.m=g.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(e,r,n){return j(e,t,r,n)},d:sg,e:sg,f:hg,g:rg,G:tg,H:lg,I:lg,j:og,L:dg,m:ag,M:cg,p:function(e,t,r){var n=c.exec(t.slice(r));return n?(e.p=u.get(n[0].toLowerCase()),r+n[0].length):-1},q:ig,Q:pg,s:mg,S:ug,u:Jm,U:Qm,V:Zm,w:$m,W:eg,x:function(e,t,n){return j(e,r,t,n)},X:function(e,t,r){return j(e,n,t,r)},y:rg,Y:tg,Z:ng,"%":fg};function w(e,t){return function(r){var n,i,a,s=[],o=-1,l=0,c=e.length;for(r instanceof Date||(r=new Date(+r));++o<c;)37===e.charCodeAt(o)&&(s.push(e.slice(l,o)),null!=(i=Um[n=e.charAt(++o)])?n=e.charAt(++o):i="e"===n?" ":"0",(a=t[n])&&(n=a(r,i)),s.push(n),l=o+1);return s.push(e.slice(l,o)),s.join("")}}function S(e,t){return function(r){var n,i,a=Bm(1900,void 0,1);if(j(a,e,r+="",0)!=r.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(n=Im(Bm(a.y,0,1))).getUTCDay(),n=i>4||0===i?_m.ceil(n):_m(n),n=cm.offset(n,7*(a.V-1)),a.y=n.getUTCFullYear(),a.m=n.getUTCMonth(),a.d=n.getUTCDate()+(a.w+6)%7):(i=(n=Mm(Bm(a.y,0,1))).getDay(),n=i>4||0===i?fm.ceil(n):fm(n),n=lm.offset(n,7*(a.V-1)),a.y=n.getFullYear(),a.m=n.getMonth(),a.d=n.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?Im(Bm(a.y,0,1)).getUTCDay():Mm(Bm(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,Im(a)):Mm(a)}}function j(e,t,r,n){for(var i,a,s=0,o=t.length,l=r.length;s<o;){if(n>=l)return-1;if(37===(i=t.charCodeAt(s++))){if(i=t.charAt(s++),!(a=_[i in Um?t.charAt(s++):i])||(n=a(e,r,n))<0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return b.x=w(r,b),b.X=w(n,b),b.c=w(t,b),x.x=w(r,x),x.X=w(n,x),x.c=w(t,x),{format:function(e){var t=w(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=w(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),Fm=zm.format,zm.parse,Hm=zm.utcFormat,zm.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var jv=e=>e.chartData,kv=ed([jv],e=>{var t=null!=e.chartData?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Cv=(e,t,r,n)=>n?kv(e):jv(e);function Ev(e){if(Array.isArray(e)&&2===e.length){var[t,r]=e;if(Ls(t)&&Ls(r))return!0}return!1}function Ov(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Pv(e,t){if(t&&"function"!==typeof e&&Array.isArray(e)&&2===e.length){var r,n,[i,a]=e;if(Ls(i))r=i;else if("function"===typeof i)return;if(Ls(a))n=a;else if("function"===typeof a)return;var s=[r,n];if(Ev(s))return s}}var Nv=r(8210),Av=r.n(Nv);function Tv(e){return 0===e?1:Math.floor(new(Av())(e).abs().log(10).toNumber())+1}function Rv(e,t,r){for(var n=new(Av())(e),i=0,a=[];n.lt(t)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var Dv=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},Lv=(e,t,r)=>{if(e.lte(0))return new(Av())(0);var n=Tv(e.toNumber()),i=new(Av())(10).pow(n),a=e.div(i),s=1!==n?.05:.1,o=new(Av())(Math.ceil(a.div(s).toNumber())).add(r).mul(s).mul(i);return t?new(Av())(o.toNumber()):new(Av())(Math.ceil(o.toNumber()))},Mv=function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new(Av())(0),tickMin:new(Av())(0),tickMax:new(Av())(0)};var a,s=Lv(new(Av())(t).sub(e).div(r-1),n,i);a=e<=0&&t>=0?new(Av())(0):(a=new(Av())(e).add(t).div(2)).sub(new(Av())(a).mod(s));var o=Math.ceil(a.sub(e).div(s).toNumber()),l=Math.ceil(new(Av())(t).sub(a).div(s).toNumber()),c=o+l+1;return c>r?Mv(e,t,r,n,i+1):(c<r&&(l=t>0?l+(r-c):l,o=t>0?o:o+(r-c)),{step:s,tickMin:a.sub(new(Av())(o).mul(s)),tickMax:a.add(new(Av())(l).mul(s))})},Iv=function(e){var[t,r]=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=Math.max(n,2),[s,o]=Dv([t,r]);if(s===-1/0||o===1/0){var l=o===1/0?[s,...Array(n-1).fill(1/0)]:[...Array(n-1).fill(-1/0),o];return t>r?l.reverse():l}if(s===o)return((e,t,r)=>{var n=new(Av())(1),i=new(Av())(e);if(!i.isint()&&r){var a=Math.abs(e);a<1?(n=new(Av())(10).pow(Tv(e)-1),i=new(Av())(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new(Av())(Math.floor(e)))}else 0===e?i=new(Av())(Math.floor((t-1)/2)):r||(i=new(Av())(Math.floor(e)));for(var s=Math.floor((t-1)/2),o=[],l=0;l<t;l++)o.push(i.add(new(Av())(l-s).mul(n)).toNumber());return o})(s,n,i);var{step:c,tickMin:u,tickMax:d}=Mv(s,o,a,i,0),h=Rv(u,d.add(new(Av())(.1).mul(c)),c);return t>r?h.reverse():h},Bv=e=>e.rootProps.maxBarSize,zv=e=>e.rootProps.barCategoryGap,Fv=e=>e.rootProps.stackOffset,Hv=e=>e.rootProps.reverseStackOrder,Uv=e=>e.options.chartName,Wv=e=>e.rootProps.syncId,qv=e=>e.rootProps.syncMethod,Kv=e=>e.options.eventEmitter;function Vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Yv(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vv(Object(r),!0).forEach(function(t){Gv(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vv(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Gv(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xv=Math.PI/180,$v=e=>180*e/Math.PI,Jv=(e,t,r,n)=>({x:e+Math.cos(-Xv*n)*r,y:t+Math.sin(-Xv*n)*r}),Qv=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(t-(r.top||0)-(r.bottom||0)))/2},Zv=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:a}=t,s=((e,t)=>{var{x:r,y:n}=e,{x:i,y:a}=t;return Math.sqrt((r-i)**2+(n-a)**2)})({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,l=Math.acos(o);return n>a&&(l=2*Math.PI-l),{radius:s,angle:$v(l),angleInRadian:l}},ey=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),a=Math.floor(n/360);return e+360*Math.min(i,a)},ty=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:i,angle:a}=Zv({x:r,y:n},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o)return null;if(0===i)return null;var l,{startAngle:c,endAngle:u}=(e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:t-360*a,endAngle:r-360*a}})(t),d=a;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;l=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;l=d>=u&&d<=c}return l?Yv(Yv({},t),{},{radius:i,angle:ey(d,t)}):null},ry={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ny=!1,iy=!1,ay=0,sy=!1,oy="auto",ly=!0,cy="auto",uy=(ry.axis,!1),dy=!1,hy=!0,fy=!1,py=0,my=!1,gy="auto",vy=!0,yy=5,by="auto",xy=(ry.axis,(e,t)=>{if(e&&t)return null!==e&&void 0!==e&&e.reversed?[t[1],t[0]]:t});function _y(e,t,r){return"auto"!==r?r:null!=e?kd(e,t)?"category":"number":void 0}function wy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Sy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wy(Object(r),!0).forEach(function(t){jy(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jy(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ky={allowDataOverflow:iy,allowDecimals:ny,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ay,includeHidden:!1,name:void 0,reversed:sy,scale:oy,tick:ly,tickCount:void 0,ticks:void 0,type:cy,unit:void 0},Cy={allowDataOverflow:uy,allowDecimals:dy,allowDuplicatedCategory:hy,dataKey:void 0,domain:void 0,id:py,includeHidden:fy,name:void 0,reversed:my,scale:gy,tick:vy,tickCount:yy,ticks:void 0,type:by,unit:void 0},Ey=ed([(e,t)=>{if(null!=t)return e.polarAxis.angleAxis[t]},dh],(e,t)=>{var r;if(null!=e)return e;var n=null!==(r=_y(t,"angleAxis",ky.type))&&void 0!==r?r:"category";return Sy(Sy({},ky),{},{type:n})}),Oy=ed([(e,t)=>e.polarAxis.radiusAxis[t],dh],(e,t)=>{var r;if(null!=e)return e;var n=null!==(r=_y(t,"radiusAxis",Cy.type))&&void 0!==r?r:"category";return Sy(Sy({},Cy),{},{type:n})}),Py=e=>e.polarOptions,Ny=ed([Bd,zd,Xd],Qv),Ay=ed([Py,Ny],(e,t)=>{if(null!=e)return bs(e.innerRadius,t,0)}),Ty=ed([Py,Ny],(e,t)=>{if(null!=e)return bs(e.outerRadius,t,.8*t)}),Ry=ed([Py],e=>{if(null==e)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]}),Dy=(ed([Ey,Ry],xy),ed([Ny,Ay,Ty],(e,t,r)=>{if(null!=e&&null!=t&&null!=r)return[t,r]})),Ly=(ed([Oy,Dy],xy),ed([lh,Py,Ay,Ty,Bd,zd],(e,t,r,n,i,a)=>{if(("centric"===e||"radial"===e)&&null!=t&&null!=r&&null!=n){var{cx:s,cy:o,startAngle:l,endAngle:c}=t;return{cx:bs(s,i,i/2),cy:bs(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:c,clockWise:!1}}})),My=(e,t)=>t,Iy=(e,t,r)=>r;function By(e){return null===e||void 0===e?void 0:e.id}function zy(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return e.forEach(e=>{var t,r=null!==(t=e.data)&&void 0!==t?t:n;if(null!=r&&0!==r.length){var o=By(e);r.forEach((t,r)=>{var n,l=null==a||i?r:String(jd(t,a,null)),c=jd(t,e.dataKey,0);n=s.has(l)?s.get(l):{},Object.assign(n,{[o]:c}),s.set(l,n)})}}),Array.from(s.values())}function Fy(e){return"stackId"in e&&null!=e.stackId&&null!=e.dataKey}var Hy=(e,t)=>e===t||null!=e&&null!=t&&(e[0]===t[0]&&e[1]===t[1]);function Uy(e,t){return!(!Array.isArray(e)||!Array.isArray(t)||0!==e.length||0!==t.length)||e===t}var Wy=e=>{var t=lh(e);return"horizontal"===t?"xAxis":"vertical"===t?"yAxis":"centric"===t?"angleAxis":"radiusAxis"},qy=e=>e.tooltip.settings.axisId;function Ky(e){var t=e.ticks,r=e.bandwidth,n=e.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>e.domain(),range:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(e){var t=i[0],r=i[1];return t<=r?e>=t&&e<=r:e>=r&&e<=t},bandwidth:r?()=>r.call(e):void 0,ticks:t?r=>t.call(e,r):void 0,map:(t,r)=>{var n=e(t);if(null!=n){if(e.bandwidth&&null!==r&&void 0!==r&&r.position){var i=e.bandwidth();switch(r.position){case"middle":n+=i/2;break;case"end":n+=i}}return n}}}}function Vy(t,r,n){if("function"===typeof t)return Ky(t.copy().domain(r).range(n));if(null!=t){var i=function(t){if(t in e)return e[t]();var r="scale".concat(js(t));return r in e?e[r]():void 0}(t);if(null!=i)return i.domain(r).range(n),Ky(i)}}var Yy=(e,t)=>{if(null!=t){if("linear"===e){if(!Ev(t)){for(var r,n,i=0;i<t.length;i++){var a=t[i];Ls(a)&&((void 0===r||a<r)&&(r=a),(void 0===n||a>n)&&(n=a))}return void 0!==r&&void 0!==n?[r,n]:void 0}return t}return t}};function Gy(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Xy(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Gy(Object(r),!0).forEach(function(t){$y(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gy(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $y(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Jy=[0,"auto"],Qy={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Zy=(e,t)=>e.cartesianAxis.xAxis[t],eb=(e,t)=>{var r=Zy(e,t);return null==r?Qy:r},tb={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Jy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:60},rb=(e,t)=>e.cartesianAxis.yAxis[t],nb=(e,t)=>{var r=rb(e,t);return null==r?tb:r},ib={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ab=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return null==r?ib:r},sb=(e,t,r)=>{switch(t){case"xAxis":return eb(e,r);case"yAxis":return nb(e,r);case"zAxis":return ab(e,r);case"angleAxis":return Ey(e,r);case"radiusAxis":return Oy(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ob=(e,t,r)=>{switch(t){case"xAxis":return eb(e,r);case"yAxis":return nb(e,r);case"angleAxis":return Ey(e,r);case"radiusAxis":return Oy(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lb=e=>e.graphicalItems.cartesianItems.some(e=>"bar"===e.type)||e.graphicalItems.polarItems.some(e=>"radialBar"===e.type);function cb(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var ub=e=>e.graphicalItems.cartesianItems,db=ed([My,Iy],cb),hb=(e,t,r)=>e.filter(r).filter(e=>!0===(null===t||void 0===t?void 0:t.includeHidden)||!e.hide),fb=ed([ub,sb,db],hb,{memoizeOptions:{resultEqualityCheck:Uy}}),pb=ed([fb],e=>e.filter(e=>"area"===e.type||"bar"===e.type).filter(Fy)),mb=e=>e.filter(e=>!("stackId"in e)||void 0===e.stackId),gb=ed([fb],mb),vb=e=>e.map(e=>e.data).filter(Boolean).flat(1),yb=ed([fb],vb,{memoizeOptions:{resultEqualityCheck:Uy}}),bb=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},xb=ed([yb,Cv],bb),_b=(e,t,r)=>null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:jd(e,t.dataKey)})):r.length>0?r.map(e=>e.dataKey).flatMap(t=>e.map(e=>({value:jd(e,t)}))):e.map(e=>({value:e})),wb=ed([xb,sb,fb],_b);function Sb(e,t){switch(e){case"xAxis":return"x"===t.direction;case"yAxis":return"y"===t.direction;default:return!1}}function jb(e){if(gs(e)||e instanceof Date){var t=Number(e);if(Ls(t))return t}}function kb(e){if(Array.isArray(e)){var t=[jb(e[0]),jb(e[1])];return Ev(t)?t:void 0}var r=jb(e);if(null!=r)return[r,r]}function Cb(e){return e.map(jb).filter(ks)}var Eb=e=>{var t=Wy(e),r=qy(e);return ob(e,t,r)},Ob=ed([Eb],e=>null===e||void 0===e?void 0:e.dataKey),Pb=ed([pb,Cv,Eb],zy),Nb=(e,t,r,n)=>{var i=t.reduce((e,t)=>{if(null==t.stackId)return e;var r=e[t.stackId];return null==r&&(r=[]),r.push(t),e[t.stackId]=r,e},{});return Object.fromEntries(Object.entries(i).map(t=>{var[i,a]=t,s=n?[...a].reverse():a,o=s.map(By);return[i,{stackedData:Pd(e,o,r),graphicalItems:s}]}))},Ab=ed([Pb,pb,Fv,Hv],Nb),Tb=(e,t,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(null==n&&"zAxis"!==r){var s=Td(e,i,a);if(null==s||0!==s[0]||0!==s[1])return s}},Rb=ed([sb],e=>e.allowDataOverflow),Db=e=>{var t;if(null==e||!("domain"in e))return Jy;if(null!=e.domain)return e.domain;if("ticks"in e&&null!=e.ticks){if("number"===e.type){var r=Cb(e.ticks);return[Math.min(...r),Math.max(...r)]}if("category"===e.type)return e.ticks.map(String)}return null!==(t=null===e||void 0===e?void 0:e.domain)&&void 0!==t?t:Jy},Lb=ed([sb],Db),Mb=ed([Lb,Rb],Pv),Ib=ed([Ab,jv,My,Mb],Tb,{memoizeOptions:{resultEqualityCheck:Hy}}),Bb=e=>e.errorBars,zb=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.filter(Boolean);if(0!==n.length){var i=n.flat();return[Math.min(...i),Math.max(...i)]}},Fb=(e,t,r,n,i)=>{var a,s;if(r.length>0&&e.forEach(e=>{r.forEach(r=>{var o,l,c=null===(o=n[r.id])||void 0===o?void 0:o.filter(e=>Sb(i,e)),u=jd(e,null!==(l=t.dataKey)&&void 0!==l?l:r.dataKey),d=function(e,t,r){return!r||"number"!==typeof t||fs(t)?[]:r.length?Cb(r.flatMap(r=>{var n,i,a=jd(e,r.dataKey);if(Array.isArray(a)?[n,i]=a:n=i=a,Ls(n)&&Ls(i))return[t-n,t+i]})):[]}(e,u,c);if(d.length>=2){var h=Math.min(...d),f=Math.max(...d);(null==a||h<a)&&(a=h),(null==s||f>s)&&(s=f)}var p=kb(u);null!=p&&(a=null==a?p[0]:Math.min(a,p[0]),s=null==s?p[1]:Math.max(s,p[1]))})}),null!=(null===t||void 0===t?void 0:t.dataKey)&&e.forEach(e=>{var r=kb(jd(e,t.dataKey));null!=r&&(a=null==a?r[0]:Math.min(a,r[0]),s=null==s?r[1]:Math.max(s,r[1]))}),Ls(a)&&Ls(s))return[a,s]},Hb=ed([xb,sb,gb,Bb,My],Fb,{memoizeOptions:{resultEqualityCheck:Hy}});function Ub(e){var{value:t}=e;if(gs(t)||t instanceof Date)return t}var Wb=e=>e.referenceElements.dots,qb=(e,t,r)=>e.filter(e=>"extendDomain"===e.ifOverflow).filter(e=>"xAxis"===t?e.xAxisId===r:e.yAxisId===r),Kb=ed([Wb,My,Iy],qb),Vb=e=>e.referenceElements.areas,Yb=ed([Vb,My,Iy],qb),Gb=e=>e.referenceElements.lines,Xb=ed([Gb,My,Iy],qb),$b=(e,t)=>{if(null!=e){var r=Cb(e.map(e=>"xAxis"===t?e.x:e.y));if(0!==r.length)return[Math.min(...r),Math.max(...r)]}},Jb=ed(Kb,My,$b),Qb=(e,t)=>{if(null!=e){var r=Cb(e.flatMap(e=>["xAxis"===t?e.x1:e.y1,"xAxis"===t?e.x2:e.y2]));if(0!==r.length)return[Math.min(...r),Math.max(...r)]}},Zb=ed([Yb,My],Qb);var ex=(e,t)=>{if(null!=e){var r=e.flatMap(e=>"xAxis"===t?function(e){var t;if(null!=e.x)return Cb([e.x]);var r=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.x);return null==r||0===r.length?[]:Cb(r)}(e):function(e){var t;if(null!=e.y)return Cb([e.y]);var r=null===(t=e.segment)||void 0===t?void 0:t.map(e=>e.y);return null==r||0===r.length?[]:Cb(r)}(e));if(0!==r.length)return[Math.min(...r),Math.max(...r)]}},tx=ed([Xb,My],ex),rx=ed(Jb,tx,Zb,(e,t,r)=>zb(e,r,t)),nx=(e,t,r,n,i,a,s,o)=>null!=r?r:function(e,t,r){if(r||null!=t){if("function"===typeof e&&null!=t)try{var n=e(t,r);if(Ev(n))return Ov(n,t,r)}catch(f){}if(Array.isArray(e)&&2===e.length){var i,a,[s,o]=e;if("auto"===s)null!=t&&(i=Math.min(...t));else if(ms(s))i=s;else if("function"===typeof s)try{null!=t&&(i=s(null===t||void 0===t?void 0:t[0]))}catch(p){}else if("string"===typeof s&&Rd.test(s)){var l=Rd.exec(s);if(null==l||null==l[1]||null==t)i=void 0;else{var c=+l[1];i=t[0]-c}}else i=null===t||void 0===t?void 0:t[0];if("auto"===o)null!=t&&(a=Math.max(...t));else if(ms(o))a=o;else if("function"===typeof o)try{null!=t&&(a=o(null===t||void 0===t?void 0:t[1]))}catch(m){}else if("string"===typeof o&&Dd.test(o)){var u=Dd.exec(o);if(null==u||null==u[1]||null==t)a=void 0;else{var d=+u[1];a=t[1]+d}}else a=null===t||void 0===t?void 0:t[1];var h=[i,a];if(Ev(h))return null==t?h:Ov(h,t,r)}}}(t,"vertical"===s&&"xAxis"===o||"horizontal"===s&&"yAxis"===o?zb(n,a,i):zb(a,i),e.allowDataOverflow),ix=ed([sb,Lb,Mb,Ib,Hb,rx,lh,My],nx,{memoizeOptions:{resultEqualityCheck:Hy}}),ax=[0,1],sx=(e,t,r,n,i,a,s)=>{if(null!=e&&null!=r&&0!==r.length||void 0!==s){var o,{dataKey:l,type:c}=e,u=kd(t,a);return u&&null==l?ph()(0,null!==(o=null===r||void 0===r?void 0:r.length)&&void 0!==o?o:0):"category"===c?((e,t,r)=>{var n=e.map(Ub).filter(e=>null!=e);return r&&(null==t.dataKey||t.allowDuplicatedCategory&&xs(n))?ph()(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))})(n,e,u):"expand"===i?ax:s}},ox=ed([sb,lh,xb,wb,Fv,My,ix],sx);var lx=(t,r,n)=>{if(null!=t){var{scale:i,type:a}=t;if("auto"===i)return"category"===a&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":"category"===a?"band":"linear";if("string"===typeof i){var s="scale".concat(js(i));return function(t){return t in e}(s)?s:"point"}}},cx=ed([sb,lb,Uv],lx);function ux(e,t,r,n){if(null!=r&&null!=n)return"function"===typeof e.scale?Vy(e.scale,r,n):Vy(t,r,n)}var dx=(e,t,r)=>{var n=Db(t);if("auto"===r||"linear"===r)return null!=t&&t.tickCount&&Array.isArray(n)&&("auto"===n[0]||"auto"===n[1])&&Ev(e)?Iv(e,t.tickCount,t.allowDecimals):null!=t&&t.tickCount&&"number"===t.type&&Ev(e)?function(e,t){var[r,n]=e,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],[a,s]=Dv([r,n]);if(a===-1/0||s===1/0)return[r,n];if(a===s)return[a];var o=Math.max(t,2),l=Lv(new(Av())(s).sub(a).div(o-1),i,0),c=[...Rv(new(Av())(a),new(Av())(s),l),s];return!1===i&&(c=c.map(e=>Math.round(e))),r>n?c.reverse():c}(e,t.tickCount,t.allowDecimals):void 0},hx=ed([ox,ob,cx],dx),fx=(e,t,r,n)=>{if("angleAxis"!==n&&"number"===(null===e||void 0===e?void 0:e.type)&&Ev(t)&&Array.isArray(r)&&r.length>0){var i,a,s=t[0],o=null!==(i=r[0])&&void 0!==i?i:0,l=t[1],c=null!==(a=r[r.length-1])&&void 0!==a?a:0;return[Math.min(s,o),Math.max(l,c)]}return t},px=ed([sb,ox,hx,My],fx),mx=ed(wb,sb,(e,t)=>{if(t&&"number"===t.type){var r=1/0,n=Array.from(Cb(e.map(e=>e.value))).sort((e,t)=>e-t),i=n[0],a=n[n.length-1];if(null==i||null==a)return 1/0;var s=a-i;if(0===s)return 1/0;for(var o=0;o<n.length-1;o++){var l=n[o],c=n[o+1];if(null!=l&&null!=c){var u=c-l;r=Math.min(r,u)}}return r/s}}),gx=ed(mx,lh,zv,Xd,(e,t,r,n,i)=>i,(e,t,r,n,i)=>{if(!Ls(e))return 0;var a="vertical"===t?n.height:n.width;if("gap"===i)return e*a/2;if("no-gap"===i){var s=bs(r,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),vx=ed(eb,(e,t,r)=>{var n=eb(e,t);return null==n||"string"!==typeof n.padding?0:gx(e,"xAxis",t,r,n.padding)},(e,t)=>{var r,n;if(null==e)return{left:0,right:0};var{padding:i}=e;return"string"===typeof i?{left:t,right:t}:{left:(null!==(r=i.left)&&void 0!==r?r:0)+t,right:(null!==(n=i.right)&&void 0!==n?n:0)+t}}),yx=ed(nb,(e,t,r)=>{var n=nb(e,t);return null==n||"string"!==typeof n.padding?0:gx(e,"yAxis",t,r,n.padding)},(e,t)=>{var r,n;if(null==e)return{top:0,bottom:0};var{padding:i}=e;return"string"===typeof i?{top:t,bottom:t}:{top:(null!==(r=i.top)&&void 0!==r?r:0)+t,bottom:(null!==(n=i.bottom)&&void 0!==n?n:0)+t}}),bx=ed([Xd,vx,th,eh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),xx=ed([Xd,lh,yx,th,eh,(e,t,r)=>r],(e,t,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:"horizontal"===t?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),_x=(e,t,r,n)=>{var i;switch(t){case"xAxis":return bx(e,r,n);case"yAxis":return xx(e,r,n);case"zAxis":return null===(i=ab(e,r))||void 0===i?void 0:i.range;case"angleAxis":return Ry(e);case"radiusAxis":return Dy(e,r);default:return}},wx=ed([sb,_x],xy),Sx=ed([cx,px],Yy),jx=ed([sb,cx,Sx,wx],ux);ed([fb,Bb,My],(e,t,r)=>e.flatMap(e=>t[e.id]).filter(Boolean).filter(e=>Sb(r,e)));function kx(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Cx=(e,t)=>t,Ex=(e,t,r)=>r,Ox=ed(Ud,Cx,Ex,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(kx)),Px=ed(Wd,Cx,Ex,(e,t,r)=>e.filter(e=>e.orientation===t).filter(e=>e.mirror===r).sort(kx)),Nx=(e,t)=>({width:e.width,height:t.height}),Ax=ed(Xd,eb,Nx),Tx=ed(zd,Xd,Ox,Cx,Ex,(e,t,r,n,i)=>{var a,s={};return r.forEach(r=>{var o=Nx(t,r);null==a&&(a=((e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}})(t,n,e));var l="top"===n&&!i||"bottom"===n&&i;s[r.id]=a-Number(l)*o.height,a+=(l?-1:1)*o.height}),s}),Rx=ed(Bd,Xd,Px,Cx,Ex,(e,t,r,n,i)=>{var a,s={};return r.forEach(r=>{var o=((e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height}))(t,r);null==a&&(a=((e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}})(t,n,e));var l="left"===n&&!i||"right"===n&&i;s[r.id]=a-Number(l)*o.width,a+=(l?-1:1)*o.width}),s}),Dx=ed([Xd,eb,(e,t)=>{var r=eb(e,t);if(null!=r)return Tx(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null===r||void 0===r?void 0:r[n];return null==i?{x:e.left,y:0}:{x:e.left,y:i}}}),Lx=ed([Xd,nb,(e,t)=>{var r=nb(e,t);if(null!=r)return Rx(e,r.orientation,r.mirror)},(e,t)=>t],(e,t,r,n)=>{if(null!=t){var i=null===r||void 0===r?void 0:r[n];return null==i?{x:0,y:e.top}:{x:i,y:e.top}}}),Mx=ed(Xd,nb,(e,t)=>({width:"number"===typeof t.width?t.width:60,height:e.height})),Ix=(e,t,r)=>{switch(t){case"xAxis":return Ax(e,r).width;case"yAxis":return Mx(e,r).height;default:return}},Bx=(e,t,r,n)=>{if(null!=r){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=kd(e,n),l=t.map(e=>e.value);return s&&o&&"category"===a&&i&&xs(l)?l:void 0}},zx=ed([lh,wb,sb,My],Bx),Fx=(e,t,r,n)=>{if(null!=r&&null!=r.dataKey){var{type:i,scale:a}=r;return!kd(e,n)||"number"!==i&&"auto"===a?void 0:t.map(e=>e.value)}},Hx=ed([lh,wb,ob,My],Fx),Ux=ed([lh,(e,t,r)=>{switch(t){case"xAxis":return eb(e,r);case"yAxis":return nb(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cx,jx,zx,Hx,_x,hx,My],(e,t,r,n,i,a,s,o,l)=>{if(null!=t){var c=kd(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:c,niceTicks:o,range:s,realScaleType:r,scale:n}}}),Wx=ed([lh,ob,cx,jx,hx,_x,zx,Hx,My],(e,t,r,n,i,a,s,o,l)=>{if(null!=t&&null!=n){var c=kd(e,l),{type:u,ticks:d,tickCount:h}=t,f="scaleBand"===r&&"function"===typeof n.bandwidth?n.bandwidth()/2:2,p="category"===u&&n.bandwidth?n.bandwidth()/f:0;p="angleAxis"===l&&null!=a&&a.length>=2?2*hs(a[0]-a[1])*p:p;var m=d||i;return m?m.map((e,t)=>{var r=s?s.indexOf(e):e,i=n.map(r);return Ls(i)?{index:t,coordinate:i+p,value:e,offset:p}:null}).filter(ks):c&&o?o.map((e,t)=>{var r=n.map(e);return Ls(r)?{coordinate:r+p,value:e,index:t,offset:p}:null}).filter(ks):n.ticks?n.ticks(h).map((e,t)=>{var r=n.map(e);return Ls(r)?{coordinate:r+p,value:e,index:t,offset:p}:null}).filter(ks):n.domain().map((e,t)=>{var r=n.map(e);return Ls(r)?{coordinate:r+p,value:s?s[e]:e,index:t,offset:p}:null}).filter(ks)}}),qx=ed([lh,ob,jx,_x,zx,Hx,My],(e,t,r,n,i,a,s)=>{if(null!=t&&null!=r&&null!=n&&n[0]!==n[1]){var o=kd(e,s),{tickCount:l}=t,c=0;return c="angleAxis"===s&&(null===n||void 0===n?void 0:n.length)>=2?2*hs(n[0]-n[1])*c:c,o&&a?a.map((e,t)=>{var n=r.map(e);return Ls(n)?{coordinate:n+c,value:e,index:t,offset:c}:null}).filter(ks):r.ticks?r.ticks(l).map((e,t)=>{var n=r.map(e);return Ls(n)?{coordinate:n+c,value:e,index:t,offset:c}:null}).filter(ks):r.domain().map((e,t)=>{var n=r.map(e);return Ls(n)?{coordinate:n+c,value:i?i[e]:e,index:t,offset:c}:null}).filter(ks)}}),Kx=ed(sb,jx,(e,t)=>{if(null!=e&&null!=t)return Xy(Xy({},e),{},{scale:t})}),Vx=ed([sb,cx,ox,wx],ux),Yx=(ed((e,t,r)=>ab(e,r),Vx,(e,t)=>{if(null!=e&&null!=t)return Xy(Xy({},e),{},{scale:t})}),ed([lh,Ud,Wd],(e,t,r)=>{switch(e){case"horizontal":return t.some(e=>e.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(e=>e.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}})),Gx=e=>e.options.defaultTooltipEventType,Xx=e=>e.options.validateTooltipEventTypes;function $x(e,t,r){if(null==e)return t;var n=e?"axis":"item";return null==r?t:r.includes(n)?n:t}function Jx(e,t){return $x(t,Gx(e),Xx(e))}var Qx=(e,t)=>{var r,n=Number(t);if(!fs(n)&&null!=t)return n>=0?null===e||void 0===e||null===(r=e[n])||void 0===r?void 0:r.value:void 0};function Zx(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function e_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Zx(Object(r),!0).forEach(function(t){t_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zx(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function t_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var r_=(e,t,r,n)=>{if(null==t)return _u;var i=function(e,t,r){return"axis"===t?"click"===r?e.axisInteraction.click:e.axisInteraction.hover:"click"===r?e.itemInteraction.click:e.itemInteraction.hover}(e,t,r);if(null==i)return _u;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&null!=e.syncInteraction.index)return e.syncInteraction;var a=!0===e.settings.active;if(null!=i.index){if(a)return e_(e_({},i),{},{active:!0})}else if(null!=n)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return e_(e_({},_u),{},{coordinate:i.coordinate})};function n_(e,t){var r=function(e){if("number"===typeof e)return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}(e),n=t[0],i=t[1];if(void 0===r)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}var i_=(e,t,r,n)=>{var i=null===e||void 0===e?void 0:e.index;if(null==i)return null;var a=Number(i);if(!Ls(a))return i;var s=1/0;t.length>0&&(s=t.length-1);var o=Math.max(0,Math.min(a,s)),l=t[o];return null==l||function(e,t,r){if(null==r||null==t)return!0;var n=jd(e,t);return null==n||!Ev(r)||n_(n,r)}(l,r,n)?String(o):null},a_=(e,t,r,n,i,a,s)=>{if(null!=a){var o=s[0],l=null===o||void 0===o?void 0:o.getPosition(a);if(null!=l)return l;var c=null===i||void 0===i?void 0:i[Number(a)];if(c)return"horizontal"===r?{x:c.coordinate,y:(n.top+t)/2}:{x:(n.left+e)/2,y:c.coordinate}}},s_=(e,t,r,n)=>{if("axis"===t)return e.tooltipItemPayloads;if(0===e.tooltipItemPayloads.length)return[];var i;if(null==(i="hover"===r?e.itemInteraction.hover.graphicalItemId:e.itemInteraction.click.graphicalItemId)&&null!=n){var a=e.tooltipItemPayloads[0];return null!=a?[a]:[]}return e.tooltipItemPayloads.filter(e=>{var t;return(null===(t=e.settings)||void 0===t?void 0:t.graphicalItemId)===i})},o_=e=>e.options.tooltipPayloadSearcher,l_=e=>e.tooltip;function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function u_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(t){d_(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d_(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h_=(e,t,r,n,i,a,s)=>{if(null!=t&&null!=a){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=r;return e.reduce((e,r)=>{var d,h,f,{dataDefinedOnItem:p,settings:m}=r,g=function(e,t){return null!=e?e:t}(p,o),v=Array.isArray(g)?xd(g,c,u):g,y=null!==(d=null===m||void 0===m?void 0:m.dataKey)&&void 0!==d?d:n,b=null===m||void 0===m?void 0:m.nameKey;(h=n&&Array.isArray(v)&&!Array.isArray(v[0])&&"axis"===s?ws(v,n,i):a(v,t,l,b),Array.isArray(h))?h.forEach(t=>{var r=u_(u_({},m),{},{name:t.name,unit:t.unit,color:void 0,fill:void 0});e.push(Md({tooltipEntrySettings:r,dataKey:t.dataKey,payload:t.payload,value:jd(t.payload,t.dataKey),name:t.name}))}):e.push(Md({tooltipEntrySettings:m,dataKey:y,payload:h,value:jd(h,y),name:null!==(f=jd(h,b))&&void 0!==f?f:null===m||void 0===m?void 0:m.name}));return e},[])}},f_=ed([Eb,lb,Uv],lx),p_=ed([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),m_=ed([Wy,qy],cb),g_=ed([p_,Eb,m_],hb,{memoizeOptions:{resultEqualityCheck:Uy}}),v_=ed([g_],e=>e.filter(Fy)),y_=ed([g_],vb,{memoizeOptions:{resultEqualityCheck:Uy}}),b_=ed([y_,jv],bb),x_=ed([v_,jv,Eb],zy),__=ed([b_,Eb,g_],_b),w_=ed([Eb],Db),S_=ed([Eb],e=>e.allowDataOverflow),j_=ed([w_,S_],Pv),k_=ed([g_],e=>e.filter(Fy)),C_=ed([x_,k_,Fv,Hv],Nb),E_=ed([C_,jv,Wy,j_],Tb),O_=ed([g_],mb),P_=ed([b_,Eb,O_,Bb,Wy],Fb,{memoizeOptions:{resultEqualityCheck:Hy}}),N_=ed([Wb,Wy,qy],qb),A_=ed([N_,Wy],$b),T_=ed([Vb,Wy,qy],qb),R_=ed([T_,Wy],Qb),D_=ed([Gb,Wy,qy],qb),L_=ed([D_,Wy],ex),M_=ed([A_,L_,R_],zb),I_=ed([Eb,w_,j_,E_,P_,M_,lh,Wy],nx),B_=ed([Eb,lh,b_,__,Fv,Wy,I_],sx),z_=ed([B_,Eb,f_],dx),F_=ed([Eb,B_,z_,Wy],fx),H_=e=>{var t=Wy(e),r=qy(e);return _x(e,t,r,!1)},U_=ed([Eb,H_],xy),W_=ed([Eb,f_,F_,U_],ux),q_=ed([lh,__,Eb,Wy],Bx),K_=ed([lh,__,Eb,Wy],Fx),V_=ed([lh,Eb,f_,W_,H_,q_,K_,Wy],(e,t,r,n,i,a,s,o)=>{if(t){var{type:l}=t,c=kd(e,o);if(n){var u="scaleBand"===r&&n.bandwidth?n.bandwidth()/2:2,d="category"===l&&n.bandwidth?n.bandwidth()/u:0;return d="angleAxis"===o&&null!=i&&(null===i||void 0===i?void 0:i.length)>=2?2*hs(i[0]-i[1])*d:d,c&&s?s.map((e,t)=>{var r=n.map(e);return Ls(r)?{coordinate:r+d,value:e,index:t,offset:d}:null}).filter(ks):n.domain().map((e,t)=>{var r=n.map(e);return Ls(r)?{coordinate:r+d,value:a?a[e]:e,index:t,offset:d}:null}).filter(ks)}}}),Y_=ed([Gx,Xx,e=>e.tooltip.settings],(e,t,r)=>$x(r.shared,e,t)),G_=e=>e.tooltip.settings.trigger,X_=e=>e.tooltip.settings.defaultIndex,$_=ed([l_,Y_,G_,X_],r_),J_=ed([$_,b_,Ob,B_],i_),Q_=ed([V_,J_],Qx),Z_=ed([$_],e=>{if(e)return e.dataKey}),ew=ed([$_],e=>{if(e)return e.graphicalItemId}),tw=ed([l_,Y_,G_,X_],s_),rw=ed([Bd,zd,lh,Xd,V_,X_,tw],a_),nw=ed([$_,rw],(e,t)=>null!==e&&void 0!==e&&e.coordinate?e.coordinate:t),iw=ed([$_],e=>{var t;return null!==(t=null===e||void 0===e?void 0:e.active)&&void 0!==t&&t}),aw=ed([tw,J_,jv,Ob,Q_,o_,Y_],h_),sw=ed([aw],e=>{if(null!=e){var t=e.map(e=>e.payload).filter(e=>null!=e);return Array.from(new Set(t))}});function ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function lw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ow(Object(r),!0).forEach(function(t){cw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function cw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var uw=(e,t,r,n,i)=>{var a,s=null!==(a=null===t||void 0===t?void 0:t.length)&&void 0!==a?a:0;if(s<=1||null==e)return 0;if("angleAxis"===n&&null!=i&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,c,u,d,h,f=o>0?null===(l=r[o-1])||void 0===l?void 0:l.coordinate:null===(c=r[s-1])||void 0===c?void 0:c.coordinate,p=null===(u=r[o])||void 0===u?void 0:u.coordinate,m=o>=s-1?null===(d=r[0])||void 0===d?void 0:d.coordinate:null===(h=r[o+1])||void 0===h?void 0:h.coordinate,g=void 0;if(null!=f&&null!=p&&null!=m)if(hs(p-f)!==hs(m-p)){var v=[];if(hs(m-p)===hs(i[1]-i[0])){g=m;var y=p+i[1]-i[0];v[0]=Math.min(y,(y+f)/2),v[1]=Math.max(y,(y+f)/2)}else{g=f;var b=m+i[1]-i[0];v[0]=Math.min(p,(b+p)/2),v[1]=Math.max(p,(b+p)/2)}var x,_=[Math.min(p,(g+p)/2),Math.max(p,(g+p)/2)];if(e>_[0]&&e<=_[1]||e>=v[0]&&e<=v[1])return null===(x=r[o])||void 0===x?void 0:x.index}else{var w,S=Math.min(f,m),j=Math.max(f,m);if(e>(S+p)/2&&e<=(j+p)/2)return null===(w=r[o])||void 0===w?void 0:w.index}}else if(t)for(var k=0;k<s;k++){var C=t[k];if(null!=C){var E=t[k+1],O=t[k-1];if(0===k&&null!=E&&e<=(C.coordinate+E.coordinate)/2)return C.index;if(k===s-1&&null!=O&&e>(C.coordinate+O.coordinate)/2)return C.index;if(k>0&&k<s-1&&null!=O&&null!=E&&e>(C.coordinate+O.coordinate)/2&&e<=(C.coordinate+E.coordinate)/2)return C.index}}return-1},dw=(e,t)=>t,hw=(e,t,r)=>r,fw=(e,t,r,n)=>n,pw=ed(V_,e=>dd()(e,e=>e.coordinate)),mw=ed([l_,dw,hw,fw],r_),gw=ed([mw,b_,Ob,B_],i_),vw=ed([l_,dw,hw,fw],s_),yw=ed([Bd,zd,lh,Xd,V_,fw,vw],a_),bw=ed([mw,yw],(e,t)=>{var r;return null!==(r=e.coordinate)&&void 0!==r?r:t}),xw=ed([V_,gw],Qx),_w=ed([vw,gw,jv,Ob,xw,o_,dw],h_),ww=ed([mw,gw],(e,t)=>({isActive:e.active&&null!=t,activeIndex:t})),Sw=(e,t,r,n,i,a,s)=>{if(e&&n&&i&&a&&r){var o=ty(e,r);if(o){var l=((e,t)=>"centric"===t?e.angle:e.radius)(o,t),c=uw(l,s,a,n,i),u=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("centric"===e){var a=i.coordinate,{radius:s}=n;return lw(lw(lw({},n),Jv(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=n;return lw(lw(lw({},n),Jv(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}})(t,a,c,o);return{activeIndex:String(c),activeCoordinate:u}}}},jw=ed([(e,t)=>t,lh,Ly,Wy,U_,V_,pw,Xd],(e,t,r,n,i,a,s,o)=>{if(e&&t&&n&&i&&a)return"horizontal"===t||"vertical"===t?((e,t,r,n,i,a,s)=>{if(e&&r&&n&&i&&function(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}(e,s)){var o=((e,t)=>"horizontal"===t?e.chartX:"vertical"===t?e.chartY:void 0)(e,t),l=uw(o,a,i,r,n),c=((e,t,r,n)=>{var i=t.find(e=>e&&e.index===r);if(i){if("horizontal"===e)return{x:i.coordinate,y:n.chartY};if("vertical"===e)return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}})(t,i,l,e);return{activeIndex:String(l),activeCoordinate:c}}})(e,t,n,i,a,s,o):Sw(e,t,r,n,i,a,s)}),kw=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},Cw=xl("mouseClick"),Ew=fc();Ew.startListening({actionCreator:Cw,effect:(e,t)=>{var r=e.payload,n=jw(t.getState(),kw(r));null!=(null===n||void 0===n?void 0:n.activeIndex)&&t.dispatch(Tu({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Ow=xl("mouseMove"),Pw=fc(),Nw=null;function Aw(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":"children"===e&&"object"===typeof t&&null!==t?"<<CHILDREN>>":t}function Tw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Rw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Tw(Object(r),!0).forEach(function(t){Dw(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Dw(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Pw.startListening({actionCreator:Ow,effect:(e,t)=>{var r=e.payload;null!==Nw&&cancelAnimationFrame(Nw);var n=kw(r);Nw=requestAnimationFrame(()=>{var e=t.getState();if("axis"===Jx(e,e.tooltip.settings.shared)){var r=jw(e,n);null!=(null===r||void 0===r?void 0:r.activeIndex)?t.dispatch(Au({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate})):t.dispatch(Pu())}Nw=null})}});var Lw=Ll({name:"cartesianAxis",initialState:{xAxis:{},yAxis:{},zAxis:{}},reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:kl()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.xAxis[r.id]&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:kl()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:kl()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:kl()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.yAxis[r.id]&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:kl()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:kl()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:kl()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;void 0!==e.zAxis[r.id]&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:kl()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:kl()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,i=e.yAxis[r];if(i){var a,s=i.widthHistory||[];if(3===s.length&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-(null!==(a=s[0])&&void 0!==a?a:0))<=1)return;var o=[...s,n].slice(-3);e.yAxis[r]=Rw(Rw({},i),{},{width:n,widthHistory:o})}}}}),{addXAxis:Mw,replaceXAxis:Iw,removeXAxis:Bw,addYAxis:zw,replaceYAxis:Fw,removeYAxis:Hw,addZAxis:Uw,replaceZAxis:Ww,removeZAxis:qw,updateYAxisWidth:Kw}=Lw.actions,Vw=Lw.reducer,Yw=Ll({name:"graphicalItems",initialState:{cartesianItems:[],polarItems:[]},reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:kl()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,i=rl(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},prepare:kl()},removeCartesianGraphicalItem:{reducer(e,t){var r=rl(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:kl()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:kl()},removePolarGraphicalItem:{reducer(e,t){var r=rl(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:kl()}}}),{addCartesianGraphicalItem:Gw,replaceCartesianGraphicalItem:Xw,removeCartesianGraphicalItem:$w,addPolarGraphicalItem:Jw,removePolarGraphicalItem:Qw}=Yw.actions,Zw=Yw.reducer,eS=Ll({name:"referenceElements",initialState:{dots:[],areas:[],lines:[]},reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=rl(e).dots.findIndex(e=>e===t.payload);-1!==r&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=rl(e).areas.findIndex(e=>e===t.payload);-1!==r&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=rl(e).lines.findIndex(e=>e===t.payload);-1!==r&&e.lines.splice(r,1)}}}),{addDot:tS,removeDot:rS,addArea:nS,removeArea:iS,addLine:aS,removeLine:sS}=eS.actions,oS=eS.reducer,lS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},cS=Ll({name:"brush",initialState:lS,reducers:{setBrushSettings:(e,t)=>null==t.payload?lS:t.payload}}),{setBrushSettings:uS}=cS.actions,dS=cS.reducer,hS=Ll({name:"legend",initialState:{settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:kl()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,i=rl(e).payload.indexOf(r);i>-1&&(e.payload[i]=n)},prepare:kl()},removeLegendPayload:{reducer(e,t){var r=rl(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:kl()}}}),{setLegendSize:fS,setLegendSettings:pS,addLegendPayload:mS,replaceLegendPayload:gS,removeLegendPayload:vS}=hS.actions,yS=hS.reducer,bS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},xS=Ll({name:"rootProps",initialState:bS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=null!==(r=t.payload.barGap)&&void 0!==r?r:bS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),_S=xS.reducer,{updateOptions:wS}=xS.actions,SS=Ll({name:"polarAxis",initialState:{radiusAxis:{},angleAxis:{}},reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:jS,removeRadiusAxis:kS,addAngleAxis:CS,removeAngleAxis:ES}=SS.actions,OS=SS.reducer,PS=Ll({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:NS}=PS.actions,AS=PS.reducer,TS=xl("keyDown"),RS=xl("focus"),DS=fc();DS.startListening({actionCreator:TS,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip,i=e.payload;if("ArrowRight"===i||"ArrowLeft"===i||"Enter"===i){var a=i_(n,b_(r),Ob(r),B_(r)),s=null==a?-1:Number(a);if(Number.isFinite(s)&&!(s<0)){var o=V_(r);if("Enter"!==i){var l=s+("ArrowRight"===i?1:-1)*("left-to-right"===Yx(r)?1:-1);if(!(null==o||l>=o.length||l<0)){var c=yw(r,"axis","hover",String(l));t.dispatch(Du({active:!0,activeIndex:l.toString(),activeCoordinate:c}))}}else{var u=yw(r,"axis","hover",String(n.index));t.dispatch(Du({active:!n.active,activeIndex:n.index,activeCoordinate:u}))}}}}}}),DS.startListening({actionCreator:RS,effect:(e,t)=>{var r=t.getState();if(!1!==r.rootProps.accessibilityLayer){var{keyboardInteraction:n}=r.tooltip;if(!n.active&&null==n.index){var i=yw(r,"axis","hover",String("0"));t.dispatch(Du({active:!0,activeIndex:"0",activeCoordinate:i}))}}}});var LS=xl("externalEvent"),MS=fc(),IS=new Map;MS.startListening({actionCreator:LS,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(null!=r){n.persist();var i=n.type,a=IS.get(i);void 0!==a&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var e=t.getState(),a={activeCoordinate:nw(e),activeDataKey:Z_(e),activeIndex:J_(e),activeLabel:Q_(e),activeTooltipIndex:J_(e),isTooltipActive:iw(e)};r(a,n)}finally{IS.delete(i)}});IS.set(i,s)}}});var BS=ed([l_],e=>e.tooltipItemPayloads),zS=ed([BS,(e,t)=>t,(e,t,r)=>r],(e,t,r)=>{if(null!=t){var n=e.find(e=>e.settings.graphicalItemId===r);if(null!=n){var{getPosition:i}=n;if(null!=i)return i(t)}}}),FS=xl("touchMove"),HS=fc();HS.startListening({actionCreator:FS,effect:(e,t)=>{var r=e.payload;if(null!=r.touches&&0!==r.touches.length){var n=t.getState(),i=Jx(n,n.tooltip.settings.shared);if("axis"===i){var a=r.touches[0];if(null==a)return;var s=jw(n,kw({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));null!=(null===s||void 0===s?void 0:s.activeIndex)&&t.dispatch(Au({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if("item"===i){var o,l=r.touches[0];if(null==document.elementFromPoint||null==l)return;var c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(qd),d=null!==(o=c.getAttribute(Kd))&&void 0!==o?o:void 0,h=g_(n).find(e=>e.id===d);if(null==u||null==h||null==d)return;var{dataKey:f}=h,p=zS(n,u,d);t.dispatch(Eu({activeDataKey:f,activeIndex:u,activeCoordinate:p,activeGraphicalItemId:d}))}}}});var US=Ll({name:"errorBars",initialState:{},reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:i}=t.payload;e[r]&&(e[r]=e[r].map(e=>e.dataKey===n.dataKey&&e.direction===n.direction?i:e))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(e=>e.dataKey!==n.dataKey||e.direction!==n.direction))}}}),{addErrorBar:WS,replaceErrorBar:qS,removeErrorBar:KS}=US.actions,VS=US.reducer,YS=!0,GS=!("undefined"!==typeof window&&window.document&&Boolean(window.document.createElement)&&window.setTimeout);function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(t){JS(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function JS(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var QS={zIndexMap:Object.values(ry).reduce((e,t)=>$S($S({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),{})},ZS=new Set(Object.values(ry));var ej=Ll({name:"zIndex",initialState:QS,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:kl()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!function(e){return ZS.has(e)}(r)&&delete e.zIndexMap[r])},prepare:kl()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:i}=t.payload;e.zIndexMap[r]?i?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:kl()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:kl()}}}),{registerZIndexPortal:tj,unregisterZIndexPortal:rj,registerZIndexPortalElement:nj,unregisterZIndexPortalElement:ij}=ej.actions,aj=hl({brush:dS,cartesianAxis:Vw,chartData:Fu,errorBars:VS,graphicalItems:Zw,layout:Vu,legend:yS,options:vc,polarAxis:OS,polarOptions:AS,referenceElements:oS,rootProps:_S,tooltip:Lu,zIndex:ej.reducer});function sj(e){var{preloadedState:r,children:n,reduxStoreName:i}=e,a=Zd(),s=(0,t.useRef)(null);if(a)return n;null==s.current&&(s.current=function(e){return Ol({reducer:aj,preloadedState:e,middleware:e=>e({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes("es6")}).concat([Ew.middleware,Pw.middleware,DS.middleware,MS.middleware,HS.middleware]),enhancers:e=>{var t=e;return"function"===typeof e&&(t=e()),t.concat(El({type:"raf"}))},devTools:YS&&{serialize:{replacer:Aw},name:"recharts-".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Chart")}})}(r,i));var o=nd;return t.createElement(Ac,{context:o,store:s.current},n)}var oj=e=>{var{chartData:r}=e,n=ad(),i=Zd();return(0,t.useEffect)(()=>i?()=>{}:(n(Iu(r)),()=>{n(Iu(void 0))}),[r,n,i]),null},lj=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function cj(e,t){return null==e&&null==t||("number"===typeof e&&"number"===typeof t?e===t||e!==e&&t!==t:e===t)}function uj(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(lj.has(n)){if(null==e[n]&&null==t[n])continue;if(!Cc(e[n],t[n]))return!1}else if(!cj(e[n],t[n]))return!1;return!0}function dj(e){var{layout:r,margin:n}=e,i=ad(),a=Zd();return(0,t.useEffect)(()=>{a||(i(Wu(r)),i(Uu(n)))},[i,a,r,n]),null}var hj=(0,t.memo)(dj,uj);function fj(e){var r=ad();return(0,t.useEffect)(()=>{r(wS(e))},[r,e]),null}var pj=()=>{var e;return null===(e=cd(e=>e.rootProps.accessibilityLayer))||void 0===e||e},mj=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function gj(e){return"string"===typeof e&&mj.includes(e)}var vj=new Set(["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"]);function yj(e){return"string"===typeof e&&vj.has(e)}function bj(e){return"string"===typeof e&&e.startsWith("data-")}function xj(e){if("object"!==typeof e||null===e)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(yj(r)||bj(r))&&(t[r]=e[r]);return t}function _j(e){return null==e?null:(0,t.isValidElement)(e)&&"object"===typeof e.props&&null!==e.props?xj(e.props):"object"!==typeof e||Array.isArray(e)?null:xj(e)}function wj(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(yj(r)||bj(r)||gj(r))&&(t[r]=e[r]);return t}var Sj=["children","width","height","viewBox","className","style","title","desc"];function jj(){return jj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jj.apply(null,arguments)}var kj=(0,t.forwardRef)((e,r)=>{var{children:n,width:i,height:a,viewBox:s,className:o,style:l,title:c,desc:u}=e,d=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Sj),h=s||{width:i,height:a,x:0,y:0},f=as("recharts-surface",o);return t.createElement("svg",jj({},wj(d),{className:f,width:i,height:a,style:l,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:r}),t.createElement("title",null,c),t.createElement("desc",null,u),n)}),Cj=ed(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(null!=t){var n=e[t];if(null!=n)return r?n.panoramaElement:n.element}}),Ej=ed(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(e=>parseInt(e,10)).concat(Object.values(ry));return Array.from(new Set(t)).sort((e,t)=>e-t)},{memoizeOptions:{resultEqualityCheck:function(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}}});function Oj(e){var{zIndex:r,isPanorama:n}=e,i=(0,t.useRef)(null),a=ad();return(0,t.useLayoutEffect)(()=>(i.current&&a(nj({zIndex:r,element:i.current,isPanorama:n})),()=>{a(ij({zIndex:r,isPanorama:n}))}),[a,r,n]),t.createElement("g",{tabIndex:-1,ref:i})}function Pj(e){var{children:r,isPanorama:n}=e,i=cd(Ej);if(!i||0===i.length)return r;var a=i.filter(e=>e<0),s=i.filter(e=>e>0);return t.createElement(t.Fragment,null,a.map(e=>t.createElement(Oj,{key:e,zIndex:e,isPanorama:n})),r,s.map(e=>t.createElement(Oj,{key:e,zIndex:e,isPanorama:n})))}var Nj=["children"];function Aj(){return Aj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Aj.apply(null,arguments)}var Tj={width:"100%",height:"100%",display:"block"},Rj=(0,t.forwardRef)((e,r)=>{var n=sh(),i=oh(),a=pj();if(!Ms(n)||!Ms(i))return null;var s,o,{children:l,otherAttributes:c,title:u,desc:d}=e;return null!=c&&(s="number"===typeof c.tabIndex?c.tabIndex:a?0:void 0,o="string"===typeof c.role?c.role:a?"application":void 0),t.createElement(kj,Aj({},c,{title:u,desc:d,role:o,tabIndex:s,width:n,height:i,style:Tj,ref:r}),l)}),Dj=e=>{var{children:r}=e,n=cd(th);if(!n)return null;var{width:i,height:a,y:s,x:o}=n;return t.createElement(kj,{width:i,height:a,x:o,y:s},r)},Lj=(0,t.forwardRef)((e,r)=>{var{children:n}=e,i=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Nj);return Zd()?t.createElement(Dj,null,t.createElement(Pj,{isPanorama:!0},n)):t.createElement(Rj,Aj({ref:r},i),t.createElement(Pj,{isPanorama:!1},n))});var Mj=new(r(8499)),Ij="recharts.syncEvent.tooltip",Bj="recharts.syncEvent.brush";function zj(e){return e.tooltip.syncInteraction}var Fj=["x","y"];function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(t){Wj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Wj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qj(){var e=cd(Wv),r=cd(Kv),n=ad(),i=cd(qv),a=cd(V_),s=ch(),o=nh(),l=cd(e=>e.rootProps.className);(0,t.useEffect)(()=>{if(null==e)return Cs;var t=(t,l,c)=>{var u;if(r!==c&&e===t)if("index"!==i){if(null!=a){var d;if("function"===typeof i){var h={activeTooltipIndex:null==l.payload.index?void 0:Number(l.payload.index),isTooltipActive:l.payload.active,activeIndex:null==l.payload.index?void 0:Number(l.payload.index),activeLabel:l.payload.label,activeDataKey:l.payload.dataKey,activeCoordinate:l.payload.coordinate},f=i(a,h);d=a[f]}else"value"===i&&(d=a.find(e=>String(e.value)===l.payload.label));var{coordinate:p}=l.payload;if(null!=d&&!1!==l.payload.active&&null!=p&&null!=o){var{x:m,y:g}=p,v=Math.min(m,o.x+o.width),y=Math.min(g,o.y+o.height),b={x:"horizontal"===s?d.coordinate:v,y:"horizontal"===s?y:d.coordinate},x=Ru({active:l.payload.active,coordinate:b,dataKey:l.payload.dataKey,index:String(d.index),label:l.payload.label,sourceViewBox:l.payload.sourceViewBox,graphicalItemId:l.payload.graphicalItemId});n(x)}else n(Ru({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}))}}else if(o&&null!==l&&void 0!==l&&null!==(u=l.payload)&&void 0!==u&&u.coordinate&&l.payload.sourceViewBox){var _=l.payload.coordinate,{x:w,y:S}=_,j=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(_,Fj),{x:k,y:C,width:E,height:O}=l.payload.sourceViewBox,P=Uj(Uj({},j),{},{x:o.x+(E?(w-k)/E:0)*o.width,y:o.y+(O?(S-C)/O:0)*o.height});n(Uj(Uj({},l),{},{payload:Uj(Uj({},l.payload),{},{coordinate:P})}))}else n(l)};return Mj.on(Ij,t),()=>{Mj.off(Ij,t)}},[l,n,r,e,i,a,s,o])}function Kj(){var e=ad();(0,t.useEffect)(()=>{e(yc())},[e]),qj(),function(){var e=cd(Wv),r=cd(Kv),n=ad();(0,t.useEffect)(()=>{if(null==e)return Cs;var t=(t,i,a)=>{r!==a&&e===t&&n(Bu(i))};return Mj.on(Bj,t),()=>{Mj.off(Bj,t)}},[n,r,e])}()}function Vj(e,r,n,i,a,s){var o=cd(t=>((e,t,r)=>{if(null!=t){var n=l_(e);return"axis"===t?"hover"===r?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:"hover"===r?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}})(t,e,r)),l=cd(Kv),c=cd(Wv),u=cd(qv),d=cd(zj),h=null===d||void 0===d?void 0:d.active,f=nh();(0,t.useEffect)(()=>{if(!h&&null!=c&&null!=l){var e=Ru({active:s,coordinate:n,dataKey:o,index:a,label:"number"===typeof i?String(i):i,sourceViewBox:f,graphicalItemId:void 0});Mj.emit(Ij,c,e,l)}},[h,n,o,a,i,l,c,u,s,f])}var Yj=(0,t.createContext)(null),Gj=(0,t.createContext)(null);function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(t){Jj(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Jj(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qj.apply(null,arguments)}var Zj=()=>(Kj(),null);function ek(e){if("number"===typeof e)return e;if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var tk=(0,t.forwardRef)((e,r)=>{var n,i,a=(0,t.useRef)(null),[s,o]=(0,t.useState)({containerWidth:ek(null===(n=e.style)||void 0===n?void 0:n.width),containerHeight:ek(null===(i=e.style)||void 0===i?void 0:i.height)}),l=(0,t.useCallback)((e,t)=>{o(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),c=(0,t.useCallback)(e=>{if("function"===typeof r&&r(e),null!=e&&"undefined"!==typeof ResizeObserver){var{width:t,height:n}=e.getBoundingClientRect();l(t,n);var i=new ResizeObserver(e=>{var t=e[0];if(null!=t){var{width:r,height:n}=t.contentRect;l(r,n)}});i.observe(e),a.current=i}},[r,l]);return(0,t.useEffect)(()=>()=>{var e=a.current;null!=e&&e.disconnect()},[l]),t.createElement(t.Fragment,null,t.createElement(hh,{width:s.containerWidth,height:s.containerHeight}),t.createElement("div",Qj({ref:c},e)))}),rk=(0,t.forwardRef)((e,r)=>{var{width:n,height:i}=e,[a,s]=(0,t.useState)({containerWidth:ek(n),containerHeight:ek(i)}),o=(0,t.useCallback)((e,t)=>{s(r=>{var n=Math.round(e),i=Math.round(t);return r.containerWidth===n&&r.containerHeight===i?r:{containerWidth:n,containerHeight:i}})},[]),l=(0,t.useCallback)(e=>{if("function"===typeof r&&r(e),null!=e){var{width:t,height:n}=e.getBoundingClientRect();o(t,n)}},[r,o]);return t.createElement(t.Fragment,null,t.createElement(hh,{width:a.containerWidth,height:a.containerHeight}),t.createElement("div",Qj({ref:l},e)))}),nk=(0,t.forwardRef)((e,r)=>{var{width:n,height:i}=e;return t.createElement(t.Fragment,null,t.createElement(hh,{width:n,height:i}),t.createElement("div",Qj({ref:r},e)))}),ik=(0,t.forwardRef)((e,r)=>{var{width:n,height:i}=e;return"string"===typeof n||"string"===typeof i?t.createElement(rk,Qj({},e,{ref:r})):"number"===typeof n&&"number"===typeof i?t.createElement(nk,Qj({},e,{width:n,height:i,ref:r})):t.createElement(t.Fragment,null,t.createElement(hh,{width:n,height:i}),t.createElement("div",Qj({ref:r},e)))});var ak=(0,t.forwardRef)((e,r)=>{var{children:n,className:i,height:a,onClick:s,onContextMenu:o,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:h,onMouseUp:f,onTouchEnd:p,onTouchMove:m,onTouchStart:g,style:v,width:y,responsive:b,dispatchTouchEvents:x=!0}=e,_=(0,t.useRef)(null),w=ad(),[S,j]=(0,t.useState)(null),[k,C]=(0,t.useState)(null),E=function(){var e=ad(),[r,n]=(0,t.useState)(null),i=cd(Fd);return(0,t.useEffect)(()=>{if(null!=r){var t=r.getBoundingClientRect().width/r.offsetWidth;Ls(t)&&t!==i&&e(Ku(t))}},[r,e,i]),n}(),O=Ws(),P=(null===O||void 0===O?void 0:O.width)>0?O.width:y,N=(null===O||void 0===O?void 0:O.height)>0?O.height:a,A=(0,t.useCallback)(e=>{E(e),"function"===typeof r&&r(e),j(e),C(e),null!=e&&(_.current=e)},[E,r,j,C]),T=(0,t.useCallback)(e=>{w(Cw(e)),w(LS({handler:s,reactEvent:e}))},[w,s]),R=(0,t.useCallback)(e=>{w(Ow(e)),w(LS({handler:u,reactEvent:e}))},[w,u]),D=(0,t.useCallback)(e=>{w(Pu()),w(LS({handler:d,reactEvent:e}))},[w,d]),L=(0,t.useCallback)(e=>{w(Ow(e)),w(LS({handler:h,reactEvent:e}))},[w,h]),M=(0,t.useCallback)(()=>{w(RS())},[w]),I=(0,t.useCallback)(e=>{w(TS(e.key))},[w]),B=(0,t.useCallback)(e=>{w(LS({handler:o,reactEvent:e}))},[w,o]),z=(0,t.useCallback)(e=>{w(LS({handler:l,reactEvent:e}))},[w,l]),F=(0,t.useCallback)(e=>{w(LS({handler:c,reactEvent:e}))},[w,c]),H=(0,t.useCallback)(e=>{w(LS({handler:f,reactEvent:e}))},[w,f]),U=(0,t.useCallback)(e=>{w(LS({handler:g,reactEvent:e}))},[w,g]),W=(0,t.useCallback)(e=>{x&&w(FS(e)),w(LS({handler:m,reactEvent:e}))},[w,x,m]),q=(0,t.useCallback)(e=>{w(LS({handler:p,reactEvent:e}))},[w,p]),K=function(e){return e?tk:ik}(b);return t.createElement(Yj.Provider,{value:S},t.createElement(Gj.Provider,{value:k},t.createElement(K,{width:null!==P&&void 0!==P?P:null===v||void 0===v?void 0:v.width,height:null!==N&&void 0!==N?N:null===v||void 0===v?void 0:v.height,className:as("recharts-wrapper",i),style:$j({position:"relative",cursor:"default",width:P,height:N},v),onClick:T,onContextMenu:B,onDoubleClick:z,onFocus:M,onKeyDown:I,onMouseDown:F,onMouseEnter:R,onMouseLeave:D,onMouseMove:L,onMouseUp:H,onTouchEnd:q,onTouchMove:W,onTouchStart:U,ref:A},t.createElement(Zj,null),n)))}),sk=ed([Xd],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),ok=ed([sk,Bd,zd],(e,t,r)=>{if(e&&null!=t&&null!=r)return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),lk=()=>cd(ok),ck=(0,t.createContext)(void 0),uk=e=>{var{children:r}=e,[n]=(0,t.useState)("".concat(ys("recharts"),"-clip")),i=lk();if(null==i)return null;var{x:a,y:s,width:o,height:l}=i;return t.createElement(ck.Provider,{value:n},t.createElement("defs",null,t.createElement("clipPath",{id:n},t.createElement("rect",{x:a,y:s,height:l,width:o}))),r)},dk=["width","height","responsive","children","className","style","compact","title","desc"];var hk=(0,t.forwardRef)((e,r)=>{var{width:n,height:i,responsive:a,children:s,className:o,style:l,compact:c,title:u,desc:d}=e,h=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,dk),f=xj(h);return c?t.createElement(t.Fragment,null,t.createElement(hh,{width:n,height:i}),t.createElement(Lj,{otherAttributes:f,title:u,desc:d},s)):t.createElement(ak,{className:o,style:l,width:n,height:i,responsive:null!==a&&void 0!==a&&a,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},t.createElement(Lj,{otherAttributes:f,title:u,desc:d,ref:r},t.createElement(uk,null,s)))});function fk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function pk(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mk(e,t){var r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fk(Object(r),!0).forEach(function(t){pk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e),n=t;return Object.keys(t).reduce((e,t)=>(void 0===e[t]&&void 0!==n[t]&&(e[t]=n[t]),e),r)}function gk(){return gk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gk.apply(null,arguments)}var vk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:{top:5,right:5,bottom:5,left:5},responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},yk=(0,t.forwardRef)(function(e,r){var n,i=mk(e.categoricalChartProps,vk),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:c}=e,u={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return t.createElement(sj,{preloadedState:{options:u},reduxStoreName:null!==(n=c.id)&&void 0!==n?n:a},t.createElement(oj,{chartData:c.data}),t.createElement(hj,{layout:i.layout,margin:i.margin}),t.createElement(fj,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),t.createElement(hk,gk({},i,{ref:r})))}),bk=["axis"],xk=(0,t.forwardRef)((e,r)=>t.createElement(yk,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bk,tooltipPayloadSearcher:mc,categoricalChartProps:e,ref:r}));function _k(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Sk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wk(Object(r),!0).forEach(function(t){jk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jk(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kk=Sk({},{cacheSize:2e3,enableCache:!0}),Ck=new class{constructor(e){_k(this,"cache",new Map),this.maxSize=e}get(e){var t=this.cache.get(e);return void 0!==t&&(this.cache.delete(e),this.cache.set(e,t)),t}set(e,t){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;null!=r&&this.cache.delete(r)}this.cache.set(e,t)}clear(){this.cache.clear()}size(){return this.cache.size}}(kk.cacheSize),Ek={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Ok="recharts_measurement_span";var Pk=(e,t)=>{try{var r=document.getElementById(Ok);r||((r=document.createElement("span")).setAttribute("id",Ok),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Ek,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch(i){return{width:0,height:0}}},Nk=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||GS)return{width:0,height:0};if(!kk.enableCache)return Pk(e,t);var r=function(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}(e,t),n=Ck.get(r);if(n)return n;var i=Pk(e,t);return Ck.set(r,i),i};function Ak(e,t){if(t<1)return[];if(1===t)return e;for(var r=[],n=0;n<e.length;n+=t){var i=e[n];void 0!==i&&r.push(i)}return r}function Tk(e,t,r){return function(e){var{width:t,height:r}=e,n=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=n*Math.PI/180,a=Math.atan(r/t),s=i>a&&i<Math.PI-a?r/Math.sin(i):t/Math.cos(i);return Math.abs(s)}({width:e.width+t.width,height:e.height+t.height},r)}function Rk(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var a=r();return e*(t-e*a/2-n)>=0&&e*(t+e*a/2-i)<=0}function Dk(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function Lk(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dk(Object(r),!0).forEach(function(t){Mk(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dk(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Mk(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ik(e,t,r){var n,{tick:i,ticks:a,viewBox:s,minTickGap:o,orientation:l,interval:c,tickFormatter:u,unit:d,angle:h}=e;if(!a||!a.length||!i)return[];if(ms(c)||GS)return null!==(n=function(e,t){return Ak(e,t+1)}(a,ms(c)?c:0))&&void 0!==n?n:[];var f=[],p="top"===l||"bottom"===l?"width":"height",m=d&&"width"===p?Nk(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},g=(e,n)=>{var i="function"===typeof u?u(e.value,n):e.value;return"width"===p?Tk(Nk(i,{fontSize:t,letterSpacing:r}),m,h):Nk(i,{fontSize:t,letterSpacing:r})[p]},v=a[0],y=a[1],b=a.length>=2&&null!=v&&null!=y?hs(y.coordinate-v.coordinate):1,x=function(e,t,r){var n="width"===r,{x:i,y:a,width:s,height:o}=e;return 1===t?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}(s,b,p);return"equidistantPreserveStart"===c?function(e,t,r,n,i){for(var a,s=(n||[]).slice(),{start:o,end:l}=t,c=0,u=1,d=o,h=function(){var t=null===n||void 0===n?void 0:n[c];if(void 0===t)return{v:Ak(n,u)};var a,s=c,h=()=>(void 0===a&&(a=r(t,s)),a),f=t.coordinate,p=0===c||Rk(e,f,h,d,l);p||(c=0,d=o,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=s.length;)if(a=h())return a.v;return[]}(b,x,g,a,o):"equidistantPreserveEnd"===c?function(e,t,r,n,i){var a=(n||[]).slice().length;if(0===a)return[];for(var{start:s,end:o}=t,l=1;l<=a;l++){for(var c,u=(a-1)%l,d=s,h=!0,f=function(){var t=n[p];if(null==t)return 0;var a,s=p,l=()=>(void 0===a&&(a=r(t,s)),a),c=t.coordinate,f=p===u||Rk(e,c,l,d,o);if(!f)return h=!1,1;f&&(d=c+e*(l()/2+i))},p=u;p<a&&(0===(c=f())||1!==c);p+=l);if(h){for(var m=[],g=u;g<a;g+=l){var v=n[g];null!=v&&m.push(v)}return m}}return[]}(b,x,g,a,o):(f="preserveStart"===c||"preserveStartEnd"===c?function(e,t,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:l,end:c}=t;if(a){var u=n[o-1];if(null!=u){var d=r(u,o-1),h=e*(u.coordinate+e*d/2-c);s[o-1]=u=Lk(Lk({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),null!=u.tickCoord&&Rk(e,u.tickCoord,()=>d,l,c)&&(c=u.tickCoord-e*(d/2+i),s[o-1]=Lk(Lk({},u),{},{isShow:!0}))}}for(var f=a?o-1:o,p=function(t){var n=s[t];if(null==n)return 1;var a,o=n,u=()=>(void 0===a&&(a=r(n,t)),a);if(0===t){var d=e*(o.coordinate-e*u()/2-l);s[t]=o=Lk(Lk({},o),{},{tickCoord:d<0?o.coordinate-d*e:o.coordinate})}else s[t]=o=Lk(Lk({},o),{},{tickCoord:o.coordinate});null!=o.tickCoord&&Rk(e,o.tickCoord,u,l,c)&&(l=o.tickCoord+e*(u()/2+i),s[t]=Lk(Lk({},o),{},{isShow:!0}))},m=0;m<f;m++)p(m);return s}(b,x,g,a,o,"preserveStartEnd"===c):function(e,t,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,c=function(t){var n=a[t];if(null==n)return 1;var c,u=n,d=()=>(void 0===c&&(c=r(n,t)),c);if(t===s-1){var h=e*(u.coordinate+e*d()/2-l);a[t]=u=Lk(Lk({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate})}else a[t]=u=Lk(Lk({},u),{},{tickCoord:u.coordinate});null!=u.tickCoord&&Rk(e,u.tickCoord,d,o,l)&&(l=u.tickCoord-e*(d()/2+i),a[t]=Lk(Lk({},u),{},{isShow:!0}))},u=s-1;u>=0;u--)c(u);return a}(b,x,g,a,o),f.filter(e=>e.isShow))}var Bk=["children","className"];function zk(){return zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zk.apply(null,arguments)}var Fk=t.forwardRef((e,r)=>{var{children:n,className:i}=e,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Bk),s=as("recharts-layer",i);return t.createElement("g",zk({className:s},wj(a),{ref:r}),n)});var Hk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Uk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Wk=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,qk=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Kk={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},Vk=["cm","mm","pt","pc","in","Q","px"];var Yk="NaN";class Gk{static parse(e){var t,[,r,n]=null!==(t=qk.exec(e))&&void 0!==t?t:[];return null==r?Gk.NaN:new Gk(parseFloat(r),null!==n&&void 0!==n?n:"")}constructor(e,t){this.num=e,this.unit=t,this.num=e,this.unit=t,fs(e)&&(this.unit=""),""===t||Wk.test(t)||(this.num=NaN,this.unit=""),function(e){return Vk.includes(e)}(t)&&(this.num=function(e,t){return e*Kk[t]}(e,t),this.unit="px")}add(e){return this.unit!==e.unit?new Gk(NaN,""):new Gk(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Gk(NaN,""):new Gk(this.num-e.num,this.unit)}multiply(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Gk(NaN,""):new Gk(this.num*e.num,this.unit||e.unit)}divide(e){return""!==this.unit&&""!==e.unit&&this.unit!==e.unit?new Gk(NaN,""):new Gk(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return fs(this.num)}}function Xk(e){if(null==e||e.includes(Yk))return Yk;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,a]=null!==(r=Hk.exec(t))&&void 0!==r?r:[],s=Gk.parse(null!==n&&void 0!==n?n:""),o=Gk.parse(null!==a&&void 0!==a?a:""),l="*"===i?s.multiply(o):s.divide(o);if(l.isNaN())return Yk;t=t.replace(Hk,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var c,[,u,d,h]=null!==(c=Uk.exec(t))&&void 0!==c?c:[],f=Gk.parse(null!==u&&void 0!==u?u:""),p=Gk.parse(null!==h&&void 0!==h?h:""),m="+"===d?f.add(p):f.subtract(p);if(m.isNaN())return Yk;t=t.replace(Uk,m.toString())}return t}!function(e,t,r){(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(Gk,"NaN",new Gk(NaN,""));var $k=/\(([^()]*)\)/;function Jk(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t,r=e;null!=(t=$k.exec(r));){var[,n]=t;r=r.replace($k,Xk(n))}return r}(t),t=Xk(t)}function Qk(e){var t=function(e){try{return Jk(e)}catch(t){return Yk}}(e.slice(5,-1));return t===Yk?"":t}var Zk=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],eC=["dx","dy","angle","className","breakAll"];function tC(){return tC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tC.apply(null,arguments)}function rC(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var nC=/[ \f\n\r\t\v\u2028\u2029]+/,iC=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];return Ss(t)||(i=r?t.toString().split(""):t.toString().split(nC)),{wordsWithComputedWidth:i.map(e=>({word:e,width:Nk(e,n).width})),spaceWidth:r?0:Nk("\xa0",n).width}}catch(a){return null}};function aC(e){return"start"===e||"middle"===e||"end"===e||"inherit"===e}var sC=(e,t,r,n)=>e.reduce((e,i)=>{var{word:a,width:s}=i,o=e[e.length-1];if(o&&null!=s&&(null==t||n||o.width+s+r<Number(t)))o.words.push(a),o.width+=s+r;else{var l={words:[a],width:s};e.push(l)}return e},[]),oC=e=>e.reduce((e,t)=>e.width>t.width?e:t),lC=(e,t,r,n,i,a,s,o)=>{var l=e.slice(0,t),c=iC({breakAll:r,style:n,children:l+"\u2026"});if(!c)return[!1,[]];var u=sC(c.wordsWithComputedWidth,a,s,o);return[u.length>i||oC(u).width>Number(a),u]},cC=e=>[{words:Ss(e)?[]:e.toString().split(nC),width:void 0}],uC=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=e;if((t||r)&&!GS){var o=iC({breakAll:a,children:n,style:i});if(!o)return cC(n);var{wordsWithComputedWidth:l,spaceWidth:c}=o;return((e,t,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,c=ms(a),u=String(s),d=sC(t,n,r,i);if(!c||i)return d;if(!(d.length>a||oC(d).width>Number(n)))return d;for(var h,f=0,p=u.length-1,m=0;f<=p&&m<=u.length-1;){var g=Math.floor((f+p)/2),v=g-1,[y,b]=lC(u,v,l,o,a,n,r,i),[x]=lC(u,g,l,o,a,n,r,i);if(y||x||(f=g+1),y&&x&&(p=g-1),!y&&x){h=b;break}m++}return h||d})({breakAll:a,children:n,maxLines:s,style:i},l,c,t,Boolean(r))}return cC(n)},dC="#808080",hC={angle:0,breakAll:!1,capHeight:"0.71em",fill:dC,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},fC=(0,t.forwardRef)((e,r)=>{var n=mk(e,hC),{x:i,y:a,lineHeight:s,capHeight:o,fill:l,scaleToFit:c,textAnchor:u,verticalAnchor:d}=n,h=rC(n,Zk),f=(0,t.useMemo)(()=>uC({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:p,dy:m,angle:g,className:v,breakAll:y}=h,b=rC(h,eC);if(!gs(i)||!gs(a)||0===f.length)return null;var x,_=Number(i)+(ms(p)?p:0),w=Number(a)+(ms(m)?m:0);if(!Ls(_)||!Ls(w))return null;switch(d){case"start":x=Qk("calc(".concat(o,")"));break;case"middle":x=Qk("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:x=Qk("calc(".concat(f.length-1," * -").concat(s,")"))}var S=[],j=f[0];if(c&&null!=j){var k=j.width,{width:C}=h;S.push("scale(".concat(ms(C)&&ms(k)?C/k:1,")"))}return g&&S.push("rotate(".concat(g,", ").concat(_,", ").concat(w,")")),S.length&&(b.transform=S.join(" ")),t.createElement("text",tC({},wj(b),{ref:r,x:_,y:w,className:as("recharts-text",v),textAnchor:u,fill:l.includes("url")?dC:l}),f.map((e,r)=>{var n=e.words.join(y?"":" ");return t.createElement("tspan",{x:_,dy:0===r?x:s,key:"".concat(n,"-").concat(r)},n)}))});function pC(e){var{zIndex:r,children:n}=e,i=void 0!==ch()&&void 0!==r&&0!==r,a=Zd(),s=ad();(0,t.useLayoutEffect)(()=>i?(s(tj({zIndex:r})),()=>{s(rj({zIndex:r}))}):Cs,[s,r,i]);var o=cd(e=>Cj(e,r,a));return i?o?(0,Zi.createPortal)(n,o):null:n}function mC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mC(Object(r),!0).forEach(function(t){vC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function vC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}fC.displayName="Text";var yC=["labelRef"],bC=["content"];function xC(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_C(Object(r),!0).forEach(function(t){SC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_C(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jC(){return jC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jC.apply(null,arguments)}var kC=(0,t.createContext)(null),CC=e=>{var{x:r,y:n,upperWidth:i,lowerWidth:a,width:s,height:o,children:l}=e,c=(0,t.useMemo)(()=>({x:r,y:n,upperWidth:i,lowerWidth:a,width:s,height:o}),[r,n,i,a,s,o]);return t.createElement(kC.Provider,{value:c},l)},EC=()=>{var e=(0,t.useContext)(kC),r=nh();return e||(r?rh(r):void 0)},OC=(0,t.createContext)(null),PC=()=>{var e=(0,t.useContext)(OC),r=cd(Ly);return e||r},NC=e=>null!=e&&"function"===typeof e,AC=(e,r,n,i,a)=>{var s,o,{offset:l,className:c}=e,{cx:u,cy:d,innerRadius:h,outerRadius:f,startAngle:p,endAngle:m,clockWise:g}=a,v=(h+f)/2,y=((e,t)=>hs(t-e)*Math.min(Math.abs(t-e),360))(p,m),b=y>=0?1:-1;switch(r){case"insideStart":s=p+b*l,o=g;break;case"insideEnd":s=m-b*l,o=!g;break;case"end":s=m+b*l,o=g;break;default:throw new Error("Unsupported position ".concat(r))}o=y<=0?o:!o;var x=Jv(u,d,v,s),_=Jv(u,d,v,s+359*(o?1:-1)),w="M".concat(x.x,",").concat(x.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(o?0:1,",\n    ").concat(_.x,",").concat(_.y),S=Ss(e.id)?ys("recharts-radial-line-"):e.id;return t.createElement("text",jC({},i,{dominantBaseline:"central",className:as("recharts-radial-bar-label",c)}),t.createElement("defs",null,t.createElement("path",{id:S,d:w})),t.createElement("textPath",{xlinkHref:"#".concat(S)},n))},TC=e=>null!=e&&"cx"in e&&ms(e.cx),RC={angle:0,offset:5,zIndex:ry.label,position:"middle",textBreakAll:!1};function DC(e){var r,n,i,a=mk(e,RC),{viewBox:s,parentViewBox:o,position:l,value:c,children:u,content:d,className:h="",textBreakAll:f,labelRef:p}=a,m=PC(),g=EC(),v=function(e){if(!TC(e))return e;var{cx:t,cy:r,outerRadius:n}=e,i=2*n;return{x:t-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}(r=null==s?"center"===l?g:null!==m&&void 0!==m?m:g:TC(s)?s:rh(s));if(!r||Ss(c)&&Ss(u)&&!(0,t.isValidElement)(d)&&"function"!==typeof d)return null;var y=wC(wC({},a),{},{viewBox:r});if((0,t.isValidElement)(d)){var{labelRef:b}=y,x=xC(y,yC);return(0,t.cloneElement)(d,x)}if("function"===typeof d){var{content:_}=y,w=xC(y,bC);if(n=(0,t.createElement)(d,w),(0,t.isValidElement)(n))return n}else n=(e=>{var{value:t,formatter:r}=e,n=Ss(e.children)?t:e.children;return"function"===typeof r?r(n):n})(a);var S=wj(a);if(TC(r)){if("insideStart"===l||"insideEnd"===l||"end"===l)return AC(a,l,n,S,r);i=((e,t,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,c=(o+l)/2;if("outside"===r){var{x:u,y:d}=Jv(n,i,s+t,c);return{x:u,y:d,textAnchor:u>=n?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:f,y:p}=Jv(n,i,h,c);return{x:f,y:p,textAnchor:"middle",verticalAnchor:"middle"}})(r,a.offset,a.position)}else{if(!v)return null;var j=(e=>{var{viewBox:t,position:r,offset:n=0,parentViewBox:i,clamp:a}=e,{x:s,y:o,height:l,upperWidth:c,lowerWidth:u}=rh(t),d=s,h=s+(c-u)/2,f=(d+h)/2,p=(c+u)/2,m=d+c/2,g=l>=0?1:-1,v=g*n,y=g>0?"end":"start",b=g>0?"start":"end",x=c>=0?1:-1,_=x*n,w=x>0?"end":"start",S=x>0?"start":"end",j=i;if("top"===r){var k={x:d+c/2,y:o-v,horizontalAnchor:"middle",verticalAnchor:y};return a&&j&&(k.height=Math.max(o-j.y,0),k.width=c),k}if("bottom"===r){var C={x:h+u/2,y:o+l+v,horizontalAnchor:"middle",verticalAnchor:b};return a&&j&&(C.height=Math.max(j.y+j.height-(o+l),0),C.width=u),C}if("left"===r){var E={x:f-_,y:o+l/2,horizontalAnchor:w,verticalAnchor:"middle"};return a&&j&&(E.width=Math.max(E.x-j.x,0),E.height=l),E}if("right"===r){var O={x:f+p+_,y:o+l/2,horizontalAnchor:S,verticalAnchor:"middle"};return a&&j&&(O.width=Math.max(j.x+j.width-O.x,0),O.height=l),O}var P=a&&j?{width:p,height:l}:{};return"insideLeft"===r?gC({x:f+_,y:o+l/2,horizontalAnchor:S,verticalAnchor:"middle"},P):"insideRight"===r?gC({x:f+p-_,y:o+l/2,horizontalAnchor:w,verticalAnchor:"middle"},P):"insideTop"===r?gC({x:d+c/2,y:o+v,horizontalAnchor:"middle",verticalAnchor:b},P):"insideBottom"===r?gC({x:h+u/2,y:o+l-v,horizontalAnchor:"middle",verticalAnchor:y},P):"insideTopLeft"===r?gC({x:d+_,y:o+v,horizontalAnchor:S,verticalAnchor:b},P):"insideTopRight"===r?gC({x:d+c-_,y:o+v,horizontalAnchor:w,verticalAnchor:b},P):"insideBottomLeft"===r?gC({x:h+_,y:o+l-v,horizontalAnchor:S,verticalAnchor:y},P):"insideBottomRight"===r?gC({x:h+u-_,y:o+l-v,horizontalAnchor:w,verticalAnchor:y},P):r&&"object"===typeof r&&(ms(r.x)||ps(r.x))&&(ms(r.y)||ps(r.y))?gC({x:s+bs(r.x,p),y:o+bs(r.y,l),horizontalAnchor:"end",verticalAnchor:"end"},P):gC({x:m,y:o+l/2,horizontalAnchor:"middle",verticalAnchor:"middle"},P)})({viewBox:v,position:l,offset:a.offset,parentViewBox:TC(o)?void 0:o,clamp:!0});i=wC(wC({x:j.x,y:j.y,textAnchor:j.horizontalAnchor,verticalAnchor:j.verticalAnchor},void 0!==j.width?{width:j.width}:{}),void 0!==j.height?{height:j.height}:{})}return t.createElement(pC,{zIndex:a.zIndex},t.createElement(fC,jC({ref:p,className:as("recharts-label",h)},S,i,{textAnchor:aC(S.textAnchor)?S.textAnchor:i.textAnchor,breakAll:f}),n))}DC.displayName="Label";var LC=(e,r,n)=>{if(!e)return null;var i={viewBox:r,labelRef:n};return!0===e?t.createElement(DC,jC({key:"label-implicit"},i)):gs(e)?t.createElement(DC,jC({key:"label-implicit",value:e},i)):(0,t.isValidElement)(e)?e.type===DC?(0,t.cloneElement)(e,wC({key:"label-implicit"},i)):t.createElement(DC,jC({key:"label-implicit",content:e},i)):NC(e)?t.createElement(DC,jC({key:"label-implicit",content:e},i)):e&&"object"===typeof e?t.createElement(DC,jC({},e,{key:"label-implicit"},i)):null};function MC(e){var{label:t,labelRef:r}=e,n=EC();return LC(t,n,r)||null}var IC=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,BC=(e,r)=>{if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,t.isValidElement)(e)&&(n=e.props),"object"!==typeof n&&"function"!==typeof n)return null;var i={};return Object.keys(n).forEach(e=>{gj(e)&&(i[e]=r||(t=>n[e](n,t)))}),i},zC=(e,t,r)=>{if(null===e||"object"!==typeof e&&"function"!==typeof e)return null;var n=null;return Object.keys(e).forEach(i=>{var a=e[i];gj(i)&&"function"===typeof a&&(n||(n={}),n[i]=((e,t,r)=>n=>(e(t,r,n),null))(a,t,r))}),n};function FC(e){return e&&"object"===typeof e&&"className"in e&&"string"===typeof e.className?e.className:""}var HC=["axisLine","width","height","className","hide","ticks","axisType"];function UC(){return UC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UC.apply(null,arguments)}function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function qC(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(t){KC(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function KC(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var VC={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:ry.axis};function YC(e){var{x:r,y:n,width:i,height:a,orientation:s,mirror:o,axisLine:l,otherSvgProps:c}=e;if(!l)return null;var u=qC(qC(qC({},c),xj(l)),{},{fill:"none"});if("top"===s||"bottom"===s){var d=+("top"===s&&!o||"bottom"===s&&o);u=qC(qC({},u),{},{x1:r,y1:n+d*a,x2:r+i,y2:n+d*a})}else{var h=+("left"===s&&!o||"right"===s&&o);u=qC(qC({},u),{},{x1:r+h*i,y1:n,x2:r+h*i,y2:n+a})}return t.createElement("line",UC({},u,{className:as("recharts-cartesian-axis-line",cs()(l,"className"))}))}function GC(e){var r,{option:n,tickProps:i,value:a}=e,s=as(i.className,"recharts-cartesian-axis-tick-value");if(t.isValidElement(n))r=t.cloneElement(n,qC(qC({},i),{},{className:s}));else if("function"===typeof n)r=n(qC(qC({},i),{},{className:s}));else{var o="recharts-cartesian-axis-tick-value";"boolean"!==typeof n&&(o=as(o,FC(n))),r=t.createElement(fC,UC({},i,{className:o}),a)}return r}var XC=(0,t.forwardRef)((e,r)=>{var{ticks:n=[],tick:i,tickLine:a,stroke:s,tickFormatter:o,unit:l,padding:c,tickTextProps:u,orientation:d,mirror:h,x:f,y:p,width:m,height:g,tickSize:v,tickMargin:y,fontSize:b,letterSpacing:x,getTicksConfig:_,events:w,axisType:S}=e,j=Ik(qC(qC({},_),{},{ticks:n}),b,x),k=function(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}(d,h),C=function(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}(d,h),E=xj(_),O=_j(i),P={};"object"===typeof a&&(P=a);var N=qC(qC({},E),{},{fill:"none"},P),A=j.map(e=>qC({entry:e},function(e,t,r,n,i,a,s,o,l){var c,u,d,h,f,p,m=o?-1:1,g=e.tickSize||s,v=ms(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":c=u=e.coordinate,p=(d=(h=r+ +!o*i)-m*g)-m*l,f=v;break;case"left":d=h=e.coordinate,f=(c=(u=t+ +!o*n)-m*g)-m*l,p=v;break;case"right":d=h=e.coordinate,f=(c=(u=t+ +o*n)+m*g)+m*l,p=v;break;default:c=u=e.coordinate,p=(d=(h=r+ +o*i)+m*g)+m*l,f=v}return{line:{x1:c,y1:d,x2:u,y2:h},tick:{x:f,y:p}}}(e,f,p,m,g,d,v,h,y))),T=A.map(e=>{var{entry:r,line:n}=e;return t.createElement(Fk,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(r.value,"-").concat(r.coordinate,"-").concat(r.tickCoord)},a&&t.createElement("line",UC({},N,n,{className:as("recharts-cartesian-axis-tick-line",cs()(a,"className"))})))}),R=A.map((e,r)=>{var n,a,{entry:d,tick:h}=e,f=qC(qC(qC(qC({verticalAnchor:C},E),{},{textAnchor:k,stroke:"none",fill:s},h),{},{index:r,payload:d,visibleTicksCount:j.length,tickFormatter:o,padding:c},u),{},{angle:null!==(n=null!==(a=null===u||void 0===u?void 0:u.angle)&&void 0!==a?a:E.angle)&&void 0!==n?n:0}),p=qC(qC({},f),O);return t.createElement(Fk,UC({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(d.value,"-").concat(d.coordinate,"-").concat(d.tickCoord)},zC(w,d,r)),i&&t.createElement(GC,{option:i,tickProps:p,value:"".concat("function"===typeof o?o(d.value,r):d.value).concat(l||"")}))});return t.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},R.length>0&&t.createElement(pC,{zIndex:ry.label},t.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:r},R)),T.length>0&&t.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},T))}),$C=(0,t.forwardRef)((e,r)=>{var{axisLine:n,width:i,height:a,className:s,hide:o,ticks:l,axisType:c}=e,u=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,HC),[d,h]=(0,t.useState)(""),[f,p]=(0,t.useState)(""),m=(0,t.useRef)(null);(0,t.useImperativeHandle)(r,()=>({getCalculatedWidth:()=>{var t;return(e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(e=>{if(e){var t=e.getBoundingClientRect();t.width>s&&(s=t.width)}});var o=r?r.getBoundingClientRect().width:0,l=s+(i+a)+o+(r?n:0);return Math.round(l)}return 0})({ticks:m.current,label:null===(t=e.labelRef)||void 0===t?void 0:t.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var g=(0,t.useCallback)(e=>{if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value");m.current=t;var r=t[0];if(r){var n=window.getComputedStyle(r),i=n.fontSize,a=n.letterSpacing;i===d&&a===f||(h(i),p(a))}}},[d,f]);return o||null!=i&&i<=0||null!=a&&a<=0?null:t.createElement(pC,{zIndex:e.zIndex},t.createElement(Fk,{className:as("recharts-cartesian-axis",s)},t.createElement(YC,{x:e.x,y:e.y,width:i,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:xj(e)}),t.createElement(XC,{ref:g,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:f,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),t.createElement(CC,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},t.createElement(MC,{label:e.label,labelRef:e.labelRef}),e.children)))}),JC=t.forwardRef((e,r)=>{var n=mk(e,VC);return t.createElement($C,UC({},n,{ref:r}))});JC.displayName="CartesianAxis";var QC=["x1","y1","x2","y2","key"],ZC=["offset"],eE=["xAxisId","yAxisId"],tE=["xAxisId","yAxisId"];function rE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function nE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rE(Object(r),!0).forEach(function(t){iE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function iE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aE(){return aE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aE.apply(null,arguments)}function sE(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var oE=e=>{var{fill:r}=e;if(!r||"none"===r)return null;var{fillOpacity:n,x:i,y:a,width:s,height:o,ry:l}=e;return t.createElement("rect",{x:i,y:a,ry:l,width:s,height:o,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function lE(e){var r,{option:n,lineItemProps:i}=e;if(t.isValidElement(n))r=t.cloneElement(n,i);else if("function"===typeof n)r=n(i);else{var a,{x1:s,y1:o,x2:l,y2:c,key:u}=i,d=null!==(a=xj(sE(i,QC)))&&void 0!==a?a:{},{offset:h}=d,f=sE(d,ZC);r=t.createElement("line",aE({},f,{x1:s,y1:o,x2:l,y2:c,fill:"none",key:u}))}return r}function cE(e){var{x:r,width:n,horizontal:i=!0,horizontalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=sE(e,eE),c=a.map((e,a)=>{var s=nE(nE({},l),{},{x1:r,y1:e,x2:r+n,y2:e,key:"line-".concat(a),index:a});return t.createElement(lE,{key:"line-".concat(a),option:i,lineItemProps:s})});return t.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function uE(e){var{y:r,height:n,vertical:i=!0,verticalPoints:a}=e;if(!i||!a||!a.length)return null;var{xAxisId:s,yAxisId:o}=e,l=sE(e,tE),c=a.map((e,a)=>{var s=nE(nE({},l),{},{x1:e,y1:r,x2:e,y2:r+n,key:"line-".concat(a),index:a});return t.createElement(lE,{option:i,lineItemProps:s,key:"line-".concat(a)})});return t.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function dE(e){var{horizontalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!r||!r.length||null==l)return null;var u=l.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,l)=>{var c=u[l+1],d=null==c?a+o-e:c-e;if(d<=0)return null;var h=l%r.length;return t.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:d,width:s,stroke:"none",fill:r[h],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function hE(e){var{vertical:r=!0,verticalFill:n,fillOpacity:i,x:a,y:s,width:o,height:l,verticalPoints:c}=e;if(!r||!n||!n.length)return null;var u=c.map(e=>Math.round(e+a-a)).sort((e,t)=>e-t);a!==u[0]&&u.unshift(0);var d=u.map((e,r)=>{var c=u[r+1],d=null==c?a+o-e:c-e;if(d<=0)return null;var h=r%n.length;return t.createElement("rect",{key:"react-".concat(r),x:e,y:s,width:d,height:l,stroke:"none",fill:n[h],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return t.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var fE=(e,t)=>{var{xAxis:r,width:n,height:i,offset:a}=e;return Cd(Ik(nE(nE(nE({},VC),r),{},{ticks:Ed(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,t)},pE=(e,t)=>{var{yAxis:r,width:n,height:i,offset:a}=e;return Cd(Ik(nE(nE(nE({},VC),r),{},{ticks:Ed(r,!0),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,t)},mE={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:ry.grid};function gE(e){var r=sh(),n=oh(),i=ah(),a=nE(nE({},mk(e,mE)),{},{x:ms(e.x)?e.x:i.left,y:ms(e.y)?e.y:i.top,width:ms(e.width)?e.width:i.width,height:ms(e.height)?e.height:i.height}),{xAxisId:s,yAxisId:o,x:l,y:c,width:u,height:d,syncWithTicks:h,horizontalValues:f,verticalValues:p}=a,m=Zd(),g=cd(e=>Ux(e,"xAxis",s,m)),v=cd(e=>Ux(e,"yAxis",o,m));if(!Ms(u)||!Ms(d)||!ms(l)||!ms(c))return null;var y=a.verticalCoordinatesGenerator||fE,b=a.horizontalCoordinatesGenerator||pE,{horizontalPoints:x,verticalPoints:_}=a;if((!x||!x.length)&&"function"===typeof b){var w=f&&f.length,S=b({yAxis:v?nE(nE({},v),{},{ticks:w?f:v.ticks}):void 0,width:null!==r&&void 0!==r?r:u,height:null!==n&&void 0!==n?n:d,offset:i},!!w||h);Es(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(x=S)}if((!_||!_.length)&&"function"===typeof y){var j=p&&p.length,k=y({xAxis:g?nE(nE({},g),{},{ticks:j?p:g.ticks}):void 0,width:null!==r&&void 0!==r?r:u,height:null!==n&&void 0!==n?n:d,offset:i},!!j||h);Es(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(_=k)}return t.createElement(pC,{zIndex:a.zIndex},t.createElement("g",{className:"recharts-cartesian-grid"},t.createElement(oE,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),t.createElement(dE,aE({},a,{horizontalPoints:x})),t.createElement(hE,aE({},a,{verticalPoints:_})),t.createElement(cE,aE({},a,{offset:i,horizontalPoints:x,xAxis:g,yAxis:v})),t.createElement(uE,aE({},a,{offset:i,verticalPoints:_,xAxis:g,yAxis:v}))))}gE.displayName="CartesianGrid";var vE=["domain","range"],yE=["domain","range"];function bE(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xE(e,t){return e===t||!(!Array.isArray(e)||2!==e.length||!Array.isArray(t)||2!==t.length)&&(e[0]===t[0]&&e[1]===t[1])}function _E(e,t){if(e===t)return!0;var{domain:r,range:n}=e,i=bE(e,vE),{domain:a,range:s}=t,o=bE(t,yE);return!!xE(r,a)&&(!!xE(n,s)&&uj(i,o))}var wE=["type"],SE=["dangerouslySetInnerHTML","ticks","scale"],jE=["id","scale"];function kE(){return kE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kE.apply(null,arguments)}function CE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function EE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CE(Object(r),!0).forEach(function(t){OE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function OE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PE(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function NE(e){var r=ad(),n=(0,t.useRef)(null),i=uh(),{type:a}=e,s=PE(e,wE),o=_y(i,"xAxis",a),l=(0,t.useMemo)(()=>{if(null!=o)return EE(EE({},s),{},{type:o})},[s,o]);return(0,t.useLayoutEffect)(()=>{null!=l&&(null===n.current?r(Mw(l)):n.current!==l&&r(Iw({prev:n.current,next:l})),n.current=l)},[l,r]),(0,t.useLayoutEffect)(()=>()=>{n.current&&(r(Bw(n.current)),n.current=null)},[r]),null}var AE=e=>{var{xAxisId:r,className:n}=e,i=cd(Jd),a=Zd(),s="xAxis",o=cd(e=>Wx(e,s,r,a)),l=cd(e=>Ax(e,r)),c=cd(e=>Dx(e,r)),u=cd(e=>Zy(e,r));if(null==l||null==c||null==u)return null;var{dangerouslySetInnerHTML:d,ticks:h,scale:f}=e,p=PE(e,SE),{id:m,scale:g}=u,v=PE(u,jE);return t.createElement(JC,kE({},p,v,{x:c.x,y:c.y,width:l.width,height:l.height,className:as("recharts-".concat(s," ").concat(s),n),viewBox:i,ticks:o,axisType:s}))},TE={allowDataOverflow:Qy.allowDataOverflow,allowDecimals:Qy.allowDecimals,allowDuplicatedCategory:Qy.allowDuplicatedCategory,angle:Qy.angle,axisLine:VC.axisLine,height:Qy.height,hide:!1,includeHidden:Qy.includeHidden,interval:Qy.interval,label:!1,minTickGap:Qy.minTickGap,mirror:Qy.mirror,orientation:Qy.orientation,padding:Qy.padding,reversed:Qy.reversed,scale:Qy.scale,tick:Qy.tick,tickCount:Qy.tickCount,tickLine:VC.tickLine,tickSize:VC.tickSize,type:Qy.type,xAxisId:0},RE=e=>{var r=mk(e,TE);return t.createElement(t.Fragment,null,t.createElement(NE,{allowDataOverflow:r.allowDataOverflow,allowDecimals:r.allowDecimals,allowDuplicatedCategory:r.allowDuplicatedCategory,angle:r.angle,dataKey:r.dataKey,domain:r.domain,height:r.height,hide:r.hide,id:r.xAxisId,includeHidden:r.includeHidden,interval:r.interval,minTickGap:r.minTickGap,mirror:r.mirror,name:r.name,orientation:r.orientation,padding:r.padding,reversed:r.reversed,scale:r.scale,tick:r.tick,tickCount:r.tickCount,tickFormatter:r.tickFormatter,ticks:r.ticks,type:r.type,unit:r.unit}),t.createElement(AE,r))},DE=t.memo(RE,_E);DE.displayName="XAxis";var LE=["type"],ME=["dangerouslySetInnerHTML","ticks","scale"],IE=["id","scale"];function BE(){return BE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},BE.apply(null,arguments)}function zE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function FE(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zE(Object(r),!0).forEach(function(t){HE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function HE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UE(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WE(e){var r=ad(),n=(0,t.useRef)(null),i=uh(),{type:a}=e,s=UE(e,LE),o=_y(i,"yAxis",a),l=(0,t.useMemo)(()=>{if(null!=o)return FE(FE({},s),{},{type:o})},[o,s]);return(0,t.useLayoutEffect)(()=>{null!=l&&(null===n.current?r(zw(l)):n.current!==l&&r(Fw({prev:n.current,next:l})),n.current=l)},[l,r]),(0,t.useLayoutEffect)(()=>()=>{n.current&&(r(Hw(n.current)),n.current=null)},[r]),null}function qE(e){var{yAxisId:r,className:n,width:i,label:a}=e,s=(0,t.useRef)(null),o=(0,t.useRef)(null),l=cd(Jd),c=Zd(),u=ad(),d="yAxis",h=cd(e=>Mx(e,r)),f=cd(e=>Lx(e,r)),p=cd(e=>Wx(e,d,r,c)),m=cd(e=>rb(e,r));if((0,t.useLayoutEffect)(()=>{if("auto"===i&&h&&!NC(a)&&!(0,t.isValidElement)(a)&&null!=m){var e=s.current;if(e){var n=e.getCalculatedWidth();Math.round(h.width)!==Math.round(n)&&u(Kw({id:r,width:n}))}}},[p,h,u,a,r,i,m]),null==h||null==f||null==m)return null;var{dangerouslySetInnerHTML:g,ticks:v,scale:y}=e,b=UE(e,ME),{id:x,scale:_}=m,w=UE(m,IE);return t.createElement(JC,BE({},b,w,{ref:s,labelRef:o,x:f.x,y:f.y,tickTextProps:"auto"===i?{width:void 0}:{width:i},width:h.width,height:h.height,className:as("recharts-".concat(d," ").concat(d),n),viewBox:l,ticks:p,axisType:d}))}var KE={allowDataOverflow:tb.allowDataOverflow,allowDecimals:tb.allowDecimals,allowDuplicatedCategory:tb.allowDuplicatedCategory,angle:tb.angle,axisLine:VC.axisLine,hide:!1,includeHidden:tb.includeHidden,interval:tb.interval,label:!1,minTickGap:tb.minTickGap,mirror:tb.mirror,orientation:tb.orientation,padding:tb.padding,reversed:tb.reversed,scale:tb.scale,tick:tb.tick,tickCount:tb.tickCount,tickLine:VC.tickLine,tickSize:VC.tickSize,type:tb.type,width:tb.width,yAxisId:0},VE=e=>{var r=mk(e,KE);return t.createElement(t.Fragment,null,t.createElement(WE,{interval:r.interval,id:r.yAxisId,scale:r.scale,type:r.type,domain:r.domain,allowDataOverflow:r.allowDataOverflow,dataKey:r.dataKey,allowDuplicatedCategory:r.allowDuplicatedCategory,allowDecimals:r.allowDecimals,tickCount:r.tickCount,padding:r.padding,includeHidden:r.includeHidden,reversed:r.reversed,ticks:r.ticks,width:r.width,orientation:r.orientation,mirror:r.mirror,hide:r.hide,unit:r.unit,name:r.name,angle:r.angle,minTickGap:r.minTickGap,tick:r.tick,tickFormatter:r.tickFormatter}),t.createElement(qE,r))},YE=t.memo(VE,_E);function GE(){return GE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},GE.apply(null,arguments)}function XE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function $E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?XE(Object(r),!0).forEach(function(t){JE(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XE(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function JE(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QE(e){return Array.isArray(e)&&gs(e[0])&&gs(e[1])?e.join(" ~ "):e}YE.displayName="YAxis";var ZE={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},eO=e=>{var{separator:r=ZE.separator,contentStyle:n,itemStyle:i,labelStyle:a=ZE.labelStyle,payload:s,formatter:o,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:h,accessibilityLayer:f=ZE.accessibilityLayer}=e,p=$E($E({},ZE.contentStyle),n),m=$E({margin:0},a),g=!Ss(d),v=g?d:"",y=as("recharts-default-tooltip",c),b=as("recharts-tooltip-label",u);g&&h&&void 0!==s&&null!==s&&(v=h(d,s));var x=f?{role:"status","aria-live":"assertive"}:{};return t.createElement("div",GE({className:y,style:p},x),t.createElement("p",{className:b,style:m},t.isValidElement(v)?v:"".concat(v)),(()=>{if(s&&s.length){var e=(l?dd()(s,l):s).map((e,n)=>{if("none"===e.type)return null;var a=e.formatter||o||QE,{value:l,name:c}=e,u=l,d=c;if(a){var h=a(l,c,e,n,s);if(Array.isArray(h))[u,d]=h;else{if(null==h)return null;u=h}}var f=$E($E({},ZE.itemStyle),{},{color:e.color||ZE.itemStyle.color},i);return t.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(n),style:f},gs(d)?t.createElement("span",{className:"recharts-tooltip-item-name"},d):null,gs(d)?t.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,t.createElement("span",{className:"recharts-tooltip-item-value"},u),t.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))});return t.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null})())},tO="recharts-tooltip-wrapper",rO={visibility:"hidden"};function nO(e){var{coordinate:t,translateX:r,translateY:n}=e;return as(tO,{["".concat(tO,"-right")]:ms(r)&&t&&ms(t.x)&&r>=t.x,["".concat(tO,"-left")]:ms(r)&&t&&ms(t.x)&&r<t.x,["".concat(tO,"-bottom")]:ms(n)&&t&&ms(t.y)&&n>=t.y,["".concat(tO,"-top")]:ms(n)&&t&&ms(t.y)&&n<t.y})}function iO(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=e;if(a&&ms(a[n]))return a[n];var u=r[n]-o-(i>0?i:0),d=r[n]+i;if(t[n])return s[n]?u:d;var h=l[n];return null==h?0:s[n]?u<h?Math.max(d,h):Math.max(u,h):null==c?0:d+o>h+c?Math.max(u,h):Math.max(d,h)}function aO(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sO(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aO(Object(r),!0).forEach(function(t){oO(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aO(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oO(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class lO extends t.PureComponent{constructor(){super(...arguments),oO(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),oO(this,"handleKeyDown",e=>{var t,r,n,i;"Escape"===e.key&&this.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(t=null===(r=this.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==t?t:0,y:null!==(n=null===(i=this.props.coordinate)||void 0===i?void 0:i.y)&&void 0!==n?n:0}})})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,t;this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:d,useTranslate3d:h,viewBox:f,wrapperStyle:p,lastBoundingBox:m,innerRef:g,hasPortalFromProps:v}=this.props,y="number"===typeof c?c:c.x,b="number"===typeof c?c:c.y,{cssClasses:x,cssProperties:_}=function(e){var t,r,n,{allowEscapeViewBox:i,coordinate:a,offsetTop:s,offsetLeft:o,position:l,reverseDirection:c,tooltipBox:u,useTranslate3d:d,viewBox:h}=e;return t=u.height>0&&u.width>0&&a?function(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}({translateX:r=iO({allowEscapeViewBox:i,coordinate:a,key:"x",offset:o,position:l,reverseDirection:c,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),translateY:n=iO({allowEscapeViewBox:i,coordinate:a,key:"y",offset:s,position:l,reverseDirection:c,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),useTranslate3d:d}):rO,{cssProperties:t,cssClasses:nO({translateX:r,translateY:n,coordinate:a})}}({allowEscapeViewBox:r,coordinate:s,offsetLeft:y,offsetTop:b,position:u,reverseDirection:d,tooltipBox:{height:m.height,width:m.width},useTranslate3d:h,viewBox:f}),w=v?{}:sO(sO({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),S=sO(sO({},w),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},p);return t.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:S,ref:g},a)}}var cO=r(4332),uO=r.n(cO);function dO(e,t,r){return!0===t?uO()(e,r):"function"===typeof t?uO()(e,t):e}var hO,fO,pO,mO,gO,vO,yO,bO,xO,_O,wO,SO,jO,kO;function CO(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],[r,n]=(0,t.useState)({height:0,left:0,top:0,width:0}),i=(0,t.useCallback)(e=>{if(null!=e){var t=e.getBoundingClientRect(),i={height:t.height,left:t.left,top:t.top,width:t.width};(Math.abs(i.height-r.height)>1||Math.abs(i.left-r.left)>1||Math.abs(i.top-r.top)>1||Math.abs(i.width-r.width)>1)&&n({height:i.height,left:i.left,top:i.top,width:i.width})}},[r.width,r.height,r.top,r.left,...e]);return[r,i]}function EO(){}function OO(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function PO(e){this._context=e}function NO(e){this._context=e}function AO(e){this._context=e}PO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:OO(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:OO(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},NO.prototype={areaStart:EO,areaEnd:EO,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:OO(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},AO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:OO(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class TO{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function RO(e){this._context=e}function DO(e){this._context=e}function LO(e){return new DO(e)}function MO(e){return e<0?-1:1}function IO(e,t,r){var n=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(n||i<0&&-0),s=(r-e._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(MO(a)+MO(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function BO(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function zO(e,t,r){var n=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-n)/3;e._context.bezierCurveTo(n+o,i+o*t,a-o,s-o*r,a,s)}function FO(e){this._context=e}function HO(e){this._context=new UO(e)}function UO(e){this._context=e}function WO(e){this._context=e}function qO(e){var t,r,n=e.length-1,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function KO(e,t){this._context=e,this._t=t}function VO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}RO.prototype={areaStart:EO,areaEnd:EO,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},DO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},FO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zO(this,this._t0,BO(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,zO(this,BO(this,r=IO(this,e,t)),r);break;default:zO(this,this._t0,r=IO(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}},(HO.prototype=Object.create(FO.prototype)).point=function(e,t){FO.prototype.point.call(this,t,e)},UO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,a){this._context.bezierCurveTo(t,e,n,r,a,i)}},WO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===r)this._context.lineTo(e[1],t[1]);else for(var n=qO(e),i=qO(t),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],e[s],t[s]);(this._line||0!==this._line&&1===r)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},KO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}}this._x=e,this._y=t}};const YO=Math.PI,GO=2*YO,XO=1e-6,$O=GO-XO;function JO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}class QO{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?JO:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error("invalid digits: ".concat(e));if(t>15)return JO;const r=10**t;return function(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=Math.round(arguments[t]*r)/r+e[t]}}(e)}moveTo(e,t){this._append(hO||(hO=VO(["M",",",""])),this._x0=this._x1=+e,this._y0=this._y1=+t)}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append(fO||(fO=VO(["Z"]))))}lineTo(e,t){this._append(pO||(pO=VO(["L",",",""])),this._x1=+e,this._y1=+t)}quadraticCurveTo(e,t,r,n){this._append(mO||(mO=VO(["Q",",",",",",",""])),+e,+t,this._x1=+r,this._y1=+n)}bezierCurveTo(e,t,r,n,i,a){this._append(gO||(gO=VO(["C",",",",",",",",",",",""])),+e,+t,+r,+n,this._x1=+i,this._y1=+a)}arcTo(e,t,r,n,i){if(e=+e,t=+t,r=+r,n=+n,(i=+i)<0)throw new Error("negative radius: ".concat(i));let a=this._x1,s=this._y1,o=r-e,l=n-t,c=a-e,u=s-t,d=c*c+u*u;if(null===this._x1)this._append(vO||(vO=VO(["M",",",""])),this._x1=e,this._y1=t);else if(d>XO)if(Math.abs(u*o-l*c)>XO&&i){let h=r-a,f=n-s,p=o*o+l*l,m=h*h+f*f,g=Math.sqrt(p),v=Math.sqrt(d),y=i*Math.tan((YO-Math.acos((p+d-m)/(2*g*v)))/2),b=y/v,x=y/g;Math.abs(b-1)>XO&&this._append(bO||(bO=VO(["L",",",""])),e+b*c,t+b*u),this._append(xO||(xO=VO(["A",",",",0,0,",",",",",""])),i,i,+(u*h>c*f),this._x1=e+x*o,this._y1=t+x*l)}else this._append(yO||(yO=VO(["L",",",""])),this._x1=e,this._y1=t);else;}arc(e,t,r,n,i,a){if(e=+e,t=+t,a=!!a,(r=+r)<0)throw new Error("negative radius: ".concat(r));let s=r*Math.cos(n),o=r*Math.sin(n),l=e+s,c=t+o,u=1^a,d=a?n-i:i-n;null===this._x1?this._append(_O||(_O=VO(["M",",",""])),l,c):(Math.abs(this._x1-l)>XO||Math.abs(this._y1-c)>XO)&&this._append(wO||(wO=VO(["L",",",""])),l,c),r&&(d<0&&(d=d%GO+GO),d>$O?this._append(SO||(SO=VO(["A",",",",0,1,",",",",","A",",",",0,1,",",",",",""])),r,r,u,e-s,t-o,r,r,u,this._x1=l,this._y1=c):d>XO&&this._append(jO||(jO=VO(["A",",",",0,",",",",",",",""])),r,r,+(d>=YO),u,this._x1=e+r*Math.cos(i),this._y1=t+r*Math.sin(i)))}rect(e,t,r,n){this._append(kO||(kO=VO(["M",",","h","v","h","Z"])),this._x0=this._x1=+e,this._y0=this._y1=+t,r=+r,+n,-r)}toString(){return this._}}function ZO(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(null==r)t=null;else{const e=Math.floor(r);if(!(e>=0))throw new RangeError("invalid digits: ".concat(r));t=e}return e},()=>new QO(t)}function eP(e){return e[0]}function tP(e){return e[1]}function rP(e,t){var r=gd(!0),n=null,i=LO,a=null,s=ZO(o);function o(o){var l,c,u,d=(o=md(o)).length,h=!1;for(null==n&&(a=i(u=s())),l=0;l<=d;++l)!(l<d&&r(c=o[l],l,o))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,o),+t(c,l,o));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?eP:gd(e),t="function"===typeof t?t:void 0===t?tP:gd(t),o.x=function(t){return arguments.length?(e="function"===typeof t?t:gd(+t),o):e},o.y=function(e){return arguments.length?(t="function"===typeof e?e:gd(+e),o):t},o.defined=function(e){return arguments.length?(r="function"===typeof e?e:gd(!!e),o):r},o.curve=function(e){return arguments.length?(i=e,null!=n&&(a=i(n)),o):i},o.context=function(e){return arguments.length?(null==e?n=a=null:a=i(n=e),o):n},o}function nP(e,t,r){var n=null,i=gd(!0),a=null,s=LO,o=null,l=ZO(c);function c(c){var u,d,h,f,p,m=(c=md(c)).length,g=!1,v=new Array(m),y=new Array(m);for(null==a&&(o=s(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),h=u-1;h>=d;--h)o.point(v[h],y[h]);o.lineEnd(),o.areaEnd()}g&&(v[u]=+e(f,u,c),y[u]=+t(f,u,c),o.point(n?+n(f,u,c):v[u],r?+r(f,u,c):y[u]))}if(p)return o=null,p+""||null}function u(){return rP().defined(i).curve(s).context(a)}return e="function"===typeof e?e:void 0===e?eP:gd(+e),t="function"===typeof t?t:gd(void 0===t?0:+t),r="function"===typeof r?r:void 0===r?tP:gd(+r),c.x=function(t){return arguments.length?(e="function"===typeof t?t:gd(+t),n=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:gd(+t),c):e},c.x1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:gd(+e),c):n},c.y=function(e){return arguments.length?(t="function"===typeof e?e:gd(+e),r=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:gd(+e),c):t},c.y1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:gd(+e),c):r},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(r)},c.lineX1=function(){return u().x(n).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:gd(!!e),c):i},c.curve=function(e){return arguments.length?(s=e,null!=a&&(o=s(a)),c):s},c.context=function(e){return arguments.length?(null==e?a=o=null:o=s(a=e),c):a},c}function iP(){return iP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},iP.apply(null,arguments)}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function sP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(t){oP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function oP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var lP={curveBasisClosed:function(e){return new NO(e)},curveBasisOpen:function(e){return new AO(e)},curveBasis:function(e){return new PO(e)},curveBumpX:function(e){return new TO(e,!0)},curveBumpY:function(e){return new TO(e,!1)},curveLinearClosed:function(e){return new RO(e)},curveLinear:LO,curveMonotoneX:function(e){return new FO(e)},curveMonotoneY:function(e){return new HO(e)},curveNatural:function(e){return new WO(e)},curveStep:function(e){return new KO(e,.5)},curveStepAfter:function(e){return new KO(e,1)},curveStepBefore:function(e){return new KO(e,0)}},cP=e=>Ls(e.x)&&Ls(e.y),uP=e=>null!=e.base&&cP(e.base)&&cP(e),dP=e=>e.x,hP=e=>e.y,fP={connectNulls:!1,type:"linear"},pP=e=>{var{type:t=fP.type,points:r=[],baseLine:n,layout:i,connectNulls:a=fP.connectNulls}=e,s=((e,t)=>{if("function"===typeof e)return e;var r="curve".concat(js(e));if(("curveMonotone"===r||"curveBump"===r)&&t){var n=lP["".concat(r).concat("vertical"===t?"Y":"X")];if(n)return n}return lP[r]||LO})(t,i),o=a?r.filter(cP):r;if(Array.isArray(n)){var l=r.map((e,t)=>sP(sP({},e),{},{base:n[t]}));return("vertical"===i?nP().y(hP).x1(dP).x0(e=>e.base.x):nP().x(dP).y1(hP).y0(e=>e.base.y)).defined(uP).curve(s)(a?l.filter(uP):l)}return("vertical"===i&&ms(n)?nP().y(hP).x1(dP).x0(n):ms(n)?nP().x(dP).y1(hP).y0(n):rP().x(dP).y(hP)).defined(cP).curve(s)(o)},mP=e=>{var{className:r,points:n,path:i,pathRef:a}=e,s=ch();if((!n||!n.length)&&!i)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||s,connectNulls:e.connectNulls},l=n&&n.length?pP(o):i;return t.createElement("path",iP({},xj(e),BC(e),{className:as("recharts-curve",r),d:null===l?void 0:l,ref:a}))},gP=["x","y","top","left","width","height","className"];function vP(){return vP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vP.apply(null,arguments)}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function bP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var xP=(e,t,r,n,i,a)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(a,",").concat(t,"h").concat(r),_P=e=>{var{x:r=0,y:n=0,top:i=0,left:a=0,width:s=0,height:o=0,className:l}=e,c=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,gP),u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(t){bP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({x:r,y:n,top:i,left:a,width:s,height:o},c);return ms(r)&&ms(n)&&ms(s)&&ms(o)&&ms(i)&&ms(a)?t.createElement("path",vP({},wj(u),{className:as("recharts-cross",l),d:xP(r,n,s,o,i,a)})):null};function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(t){jP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var kP=(e,t,r)=>e.map(e=>{return"".concat((n=e,n.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())))," ").concat(t,"ms ").concat(r);var n}).join(","),CP=(e,t)=>Object.keys(t).reduce((r,n)=>SP(SP({},r),{},{[n]:e(n,t[n])}),{});function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function OP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(t){PP(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function PP(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var NP=(e,t,r)=>e+(t-e)*r,AP=e=>{var{from:t,to:r}=e;return t!==r},TP=(e,t,r)=>{var n=CP((t,r)=>{if(AP(r)){var[n,i]=e(r.from,r.to,r.velocity);return OP(OP({},r),{},{from:n,velocity:i})}return r},t);return r<1?CP((e,t)=>AP(t)&&null!=n[e]?OP(OP({},t),{},{velocity:NP(t.velocity,n[e].velocity,r),from:NP(t.from,n[e].from,r)}):t,t):TP(e,n,r-1)};function RP(e,t,r,n,i,a){var s,o=n.reduce((r,n)=>OP(OP({},r),{},{[n]:{from:e[n],velocity:0,to:t[n]}}),{}),l=null,c=n=>{s||(s=n);var u=(n-s)/r.dt;o=TP(r,o,u),i(OP(OP(OP({},e),t),CP((e,t)=>t.from,o))),s=n,Object.values(o).filter(AP).length&&(l=a.setTimeout(c))};return()=>(l=a.setTimeout(c),()=>{var e;null===(e=l)||void 0===e||e()})}const DP=(e,t,r,n,i,a)=>{var s,o,l=(s=e,o=t,[Object.keys(s),Object.keys(o)].reduce((e,t)=>e.filter(e=>t.includes(e))));return null==r?()=>(i(OP(OP({},e),t)),()=>{}):!0===r.isStepper?RP(e,t,r,l,i,a):function(e,t,r,n,i,a,s){var o,l=null,c=i.reduce((r,n)=>{var i=e[n],a=t[n];return null==i||null==a?r:OP(OP({},r),{},{[n]:[i,a]})},{}),u=i=>{o||(o=i);var d=(i-o)/n,h=CP((e,t)=>NP(...t,r(d)),c);if(a(OP(OP(OP({},e),t),h)),d<1)l=s.setTimeout(u);else{var f=CP((e,t)=>NP(...t,r(1)),c);a(OP(OP(OP({},e),t),f))}};return()=>(l=s.setTimeout(u),()=>{var e;null===(e=l)||void 0===e||e()})}(e,t,r,n,l,i,a)};var LP=1e-4,MP=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],IP=(e,t)=>e.map((e,r)=>e*t**r).reduce((e,t)=>e+t),BP=(e,t)=>r=>{var n=MP(e,t);return IP(n,r)},zP=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(1===t.length)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:var n=(e=>{var t,r=e.split("(");if(2!==r.length||"cubic-bezier"!==r[0])return null;var n=null===(t=r[1])||void 0===t||null===(t=t.split(")")[0])||void 0===t?void 0:t.split(",");if(null==n||4!==n.length)return null;var i=n.map(e=>parseFloat(e));return[i[0],i[1],i[2],i[3]]})(t[0]);if(n)return n}return 4===t.length?t:[0,0,1,1]},FP=(e,t,r,n)=>{var i,a,s=BP(e,r),o=BP(t,n),l=(i=e,a=r,e=>{var t=[...MP(i,a).map((e,t)=>e*t).slice(1),0];return IP(t,e)}),c=e=>e>1?1:e<0?0:e,u=e=>{for(var t=e>1?1:e,r=t,n=0;n<8;++n){var i=s(r)-t,a=l(r);if(Math.abs(i-t)<LP||a<LP)return o(r);r=c(r-i/a)}return o(r)};return u.isStepper=!1,u},HP=function(){return FP(...zP(...arguments))},UP=e=>{if("string"===typeof e)switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return HP(e);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{stiff:t=100,damping:r=8,dt:n=17}=e,i=(e,i,a)=>{var s=a+(-(e-i)*t-a*r)*n/1e3,o=a*n/1e3+e;return Math.abs(o-i)<LP&&Math.abs(s)<LP?[i,0]:[o,s]};return i.isStepper=!0,i.dt=n,i}();default:if("cubic-bezier"===e.split("(")[0])return HP(e)}return"function"===typeof e?e:null};class WP{setTimeout(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=performance.now(),n=null,i=a=>{a-r>=t?e(a):"function"===typeof requestAnimationFrame&&(n=requestAnimationFrame(i))};return n=requestAnimationFrame(i),()=>{null!=n&&cancelAnimationFrame(n)}}}function qP(){return function(e){var t=()=>null,r=!1,n=null,i=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var s=a,[o,...l]=s;return"number"===typeof o?void(n=e.setTimeout(i.bind(null,l),o)):(i(o),void(n=e.setTimeout(i.bind(null,l))))}"string"===typeof a&&t(a),"object"===typeof a&&t(a),"function"===typeof a&&a()}};return{stop:()=>{r=!0},start:e=>{r=!1,n&&(n(),n=null),i(e)},subscribe:e=>(t=e,()=>{t=()=>null}),getTimeoutController:()=>e}}(new WP)}var KP=(0,t.createContext)(qP);var VP={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},YP={t:0},GP={t:1};function XP(e){var r=mk(e,VP),{isActive:n,canBegin:i,duration:a,easing:s,begin:o,onAnimationEnd:l,onAnimationStart:c,children:u}=r,d="auto"===n?!GS:n,h=function(e,r){var n=(0,t.useContext)(KP);return(0,t.useMemo)(()=>null!==r&&void 0!==r?r:n(e),[e,r,n])}(r.animationId,r.animationManager),[f,p]=(0,t.useState)(d?YP:GP),m=(0,t.useRef)(null);return(0,t.useEffect)(()=>{d||p(GP)},[d]),(0,t.useEffect)(()=>{if(!d||!i)return Cs;var e=DP(YP,GP,UP(s),a,p,h.getTimeoutController());return h.start([c,o,()=>{m.current=e()},a,l]),()=>{h.stop(),m.current&&m.current(),l()}},[d,i,a,s,o,c,l,h]),u(f.t)}function $P(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"animation-",n=(0,t.useRef)(ys(r)),i=(0,t.useRef)(e);return i.current!==e&&(n.current=ys(r),i.current=e),n.current}var JP,QP,ZP,eN,tN,rN,nN,iN,aN,sN,oN=["radius"],lN=["radius"];function cN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cN(Object(r),!0).forEach(function(t){dN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function dN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hN(){return hN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hN.apply(null,arguments)}function fN(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pN(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var mN,gN,vN,yN,bN,xN,_N,wN=(e,t,r,n,i)=>{var a,s=us(r),o=us(n),l=Math.min(Math.abs(s)/2,Math.abs(o)/2),c=o>=0?1:-1,u=s>=0?1:-1,d=o>=0&&s>=0||o<0&&s<0?1:0;if(l>0&&Array.isArray(i)){for(var h=[0,0,0,0],f=0;f<4;f++){var p,m=null!==(p=i[f])&&void 0!==p?p:0;h[f]=m>l?l:m}a=ds(JP||(JP=pN(["M",",",""])),e,t+c*h[0]),h[0]>0&&(a+=ds(QP||(QP=pN(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),a+=ds(ZP||(ZP=pN(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(a+=ds(eN||(eN=pN(["A ",",",",0,0,",",\n        ",",",""])),h[1],h[1],d,e+r,t+c*h[1])),a+=ds(tN||(tN=pN(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(a+=ds(rN||(rN=pN(["A ",",",",0,0,",",\n        ",",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),a+=ds(nN||(nN=pN(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(a+=ds(iN||(iN=pN(["A ",",",",0,0,",",\n        ",",",""])),h[3],h[3],d,e,t+n-c*h[3])),a+="Z"}else if(l>0&&i===+i&&i>0){var g=Math.min(l,i);a=ds(aN||(aN=pN(["M ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",",","\n            L ",",","\n            A ",",",",0,0,",",",","," Z"])),e,t+c*g,g,g,d,e+u*g,t,e+r-u*g,t,g,g,d,e+r,t+c*g,e+r,t+n-c*g,g,g,d,e+r-u*g,t+n,e+u*g,t+n,g,g,d,e,t+n-c*g)}else a=ds(sN||(sN=pN(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return a},SN={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jN=e=>{var r=mk(e,SN),n=(0,t.useRef)(null),[i,a]=(0,t.useState)(-1);(0,t.useEffect)(()=>{if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&a(e)}catch(t){}},[]);var{x:s,y:o,width:l,height:c,radius:u,className:d}=r,{animationEasing:h,animationDuration:f,animationBegin:p,isAnimationActive:m,isUpdateAnimationActive:g}=r,v=(0,t.useRef)(l),y=(0,t.useRef)(c),b=(0,t.useRef)(s),x=(0,t.useRef)(o),_=$P((0,t.useMemo)(()=>({x:s,y:o,width:l,height:c,radius:u}),[s,o,l,c,u]),"rectangle-");if(s!==+s||o!==+o||l!==+l||c!==+c||0===l||0===c)return null;var w=as("recharts-rectangle",d);if(!g){var S=wj(r),{radius:j}=S,k=fN(S,oN);return t.createElement("path",hN({},k,{x:us(s),y:us(o),width:us(l),height:us(c),radius:"number"===typeof u?u:void 0,className:w,d:wN(s,o,l,c,u)}))}var C=v.current,E=y.current,O=b.current,P=x.current,N="0px ".concat(-1===i?1:i,"px"),A="".concat(i,"px 0px"),T=kP(["strokeDasharray"],f,"string"===typeof h?h:SN.animationEasing);return t.createElement(XP,{animationId:_,key:_,canBegin:i>0,duration:f,easing:h,isActive:g,begin:p},e=>{var i,a=_s(C,l,e),d=_s(E,c,e),h=_s(O,s,e),f=_s(P,o,e);n.current&&(v.current=a,y.current=d,b.current=h,x.current=f),i=m?e>0?{transition:T,strokeDasharray:A}:{strokeDasharray:N}:{strokeDasharray:A};var p=wj(r),{radius:g}=p,_=fN(p,lN);return t.createElement("path",hN({},_,{radius:"number"===typeof u?u:void 0,className:w,d:wN(h,f,a,d,u),ref:n,style:uN(uN({},i),r.style)}))})};function kN(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:a}=e;return{points:[Jv(t,r,n,i),Jv(t,r,n,a)],cx:t,cy:r,radius:n,startAngle:i,endAngle:a}}function CN(){return CN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},CN.apply(null,arguments)}function EN(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var ON=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,c=o*(s?1:-1)+n,u=Math.asin(o/c)/Xv,d=l?i:i+a*u,h=l?i-a*u:i;return{center:Jv(t,r,c,d),circleTangency:Jv(t,r,n,d),lineTangency:Jv(t,r,c*Math.cos(u*Xv),h),theta:u}},PN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=e,o=((e,t)=>hs(t-e)*Math.min(Math.abs(t-e),359.999))(a,s),l=a+o,c=Jv(t,r,i,a),u=Jv(t,r,i,l),d=ds(mN||(mN=EN(["M ",",","\n    A ",",",",0,\n    ",",",",\n    ",",","\n  "])),c.x,c.y,i,i,+(Math.abs(o)>180),+(a>l),u.x,u.y);if(n>0){var h=Jv(t,r,n,a),f=Jv(t,r,n,l);d+=ds(gN||(gN=EN(["L ",",","\n            A ",",",",0,\n            ",",",",\n            ",","," Z"])),f.x,f.y,n,n,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else d+=ds(vN||(vN=EN(["L ",","," Z"])),t,r);return d},NN={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},AN=e=>{var r=mk(e,NN),{cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:h}=r;if(s<a||u===d)return null;var f,p=as("recharts-sector",h),m=s-a,g=bs(o,m,0,!0);return f=g>0&&Math.abs(u-d)<360?(e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:c}=e,u=hs(c-l),{circleTangency:d,lineTangency:h,theta:f}=ON({cx:t,cy:r,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:m,theta:g}=ON({cx:t,cy:r,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:o}),v=o?Math.abs(l-c):Math.abs(l-c)-f-g;if(v<0)return s?ds(yN||(yN=EN(["M ",",","\n        a",",",",0,0,1,",",0\n        a",",",",0,0,1,",",0\n      "])),h.x,h.y,a,a,2*a,a,a,2*-a):PN({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:c});var y=ds(bN||(bN=EN(["M ",",","\n    A",",",",0,0,",",",",","\n    A",",",",0,",",",",",",","\n    A",",",",0,0,",",",",","\n  "])),h.x,h.y,a,a,+(u<0),d.x,d.y,i,i,+(v>180),+(u<0),p.x,p.y,a,a,+(u<0),m.x,m.y);if(n>0){var{circleTangency:b,lineTangency:x,theta:_}=ON({cx:t,cy:r,radius:n,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:w,lineTangency:S,theta:j}=ON({cx:t,cy:r,radius:n,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),k=o?Math.abs(l-c):Math.abs(l-c)-_-j;if(k<0&&0===a)return"".concat(y,"L").concat(t,",").concat(r,"Z");y+=ds(xN||(xN=EN(["L",",","\n      A",",",",0,0,",",",",","\n      A",",",",0,",",",",",",","\n      A",",",",0,0,",",",",","Z"])),S.x,S.y,a,a,+(u<0),w.x,w.y,n,n,+(k>180),+(u>0),b.x,b.y,a,a,+(u<0),x.x,x.y)}else y+=ds(_N||(_N=EN(["L",",","Z"])),t,r);return y})({cx:n,cy:i,innerRadius:a,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):PN({cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:u,endAngle:d}),t.createElement("path",CN({},wj(r),{className:p,d:f}))};function TN(e,t,r){if("horizontal"===e)return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if("vertical"===e)return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(IC(t)){if("centric"===e){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Jv(n,i,a,o),c=Jv(n,i,s,o);return[{x:l.x,y:l.y},{x:c.x,y:c.y}]}return kN(t)}}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function DN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(t){LN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function LN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var MN=()=>{var e=cd(Eb),t=cd(V_),r=cd(W_);return Ld(e&&r?DN(DN({},e),{},{scale:r}):void 0,t)};function IN(){return IN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},IN.apply(null,arguments)}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function zN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(t){FN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function FN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HN(e){var{cursor:r,cursorComp:n,cursorProps:i}=e;return(0,t.isValidElement)(r)?(0,t.cloneElement)(r,i):(0,t.createElement)(n,i)}function UN(e){var r,n,i,a,{coordinate:s,payload:o,index:l,offset:c,tooltipAxisBandSize:u,layout:d,cursor:h,tooltipEventType:f,chartName:p}=e,m=s,g=o,v=l;if(!h||!m||"ScatterChart"!==p&&"axis"!==f)return null;if("ScatterChart"===p)n=m,i=_P,a=ry.cursorLine;else if("BarChart"===p)n=function(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:r.left+.5,y:"horizontal"===e?r.top+.5:t.y-i,width:"horizontal"===e?n:r.width-1,height:"horizontal"===e?r.height-1:n}}(d,m,c,u),i=jN,a=ry.cursorRectangle;else if("radial"===d&&IC(m)){var{cx:y,cy:b,radius:x,startAngle:_,endAngle:w}=kN(m);n={cx:y,cy:b,startAngle:_,endAngle:w,innerRadius:x,outerRadius:x},i=AN,a=ry.cursorLine}else n={points:TN(d,m,c)},i=mP,a=ry.cursorLine;var S="object"===typeof h&&"className"in h?h.className:void 0,j=zN(zN(zN(zN({stroke:"#ccc",pointerEvents:"none"},c),n),_j(h)),{},{payload:g,payloadIndex:v,className:as("recharts-tooltip-cursor",S)});return t.createElement(pC,{zIndex:null!==(r=e.zIndex)&&void 0!==r?r:a},t.createElement(HN,{cursor:h,cursorComp:i,cursorProps:j}))}function WN(e){var r=MN(),n=ah(),i=ch(),a=cd(Uv);return null==r||null==n||null==i||null==a?null:t.createElement(UN,IN({},e,{offset:n,layout:i,tooltipAxisBandSize:r,chartName:a}))}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function KN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(t){VN(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function VN(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YN(e){return e.dataKey}var GN=[],XN={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function $N(e){var r,n,i=mk(e,XN),{active:a,allowEscapeViewBox:s,animationDuration:o,animationEasing:l,content:c,filterNull:u,isAnimationActive:d,offset:h,payloadUniqBy:f,position:p,reverseDirection:m,useTranslate3d:g,wrapperStyle:v,cursor:y,shared:b,trigger:x,defaultIndex:_,portal:w,axisId:S}=i,j=ad(),k="number"===typeof _?String(_):_;(0,t.useEffect)(()=>{j(Cu({shared:b,trigger:x,axisId:S,active:a,defaultIndex:k}))},[j,b,x,S,a,k]);var C=nh(),E=pj(),O=function(e){return cd(t=>Jx(t,e))}(b),{activeIndex:P,isActive:N}=null!==(r=cd(e=>ww(e,O,x,k)))&&void 0!==r?r:{},A=cd(e=>_w(e,O,x,k)),T=cd(e=>xw(e,O,x,k)),R=cd(e=>bw(e,O,x,k)),D=A,L=(0,t.useContext)(Yj),M=null!==(n=null!==a&&void 0!==a?a:N)&&void 0!==n&&n,[I,B]=CO([D,M]),z="axis"===O?T:void 0;Vj(O,x,R,z,P,M);var F=null!==w&&void 0!==w?w:L;if(null==F||null==C||null==O)return null;var H=null!==D&&void 0!==D?D:GN;M||(H=GN),u&&H.length&&(H=dO(H.filter(e=>null!=e.value&&(!0!==e.hide||i.includeHidden)),f,YN));var U=H.length>0,W=t.createElement(lO,{allowEscapeViewBox:s,animationDuration:o,animationEasing:l,isAnimationActive:d,active:M,coordinate:R,hasPayload:U,offset:h,position:p,reverseDirection:m,useTranslate3d:g,viewBox:C,wrapperStyle:v,lastBoundingBox:I,innerRef:B,hasPortalFromProps:Boolean(w)},function(e,r){return t.isValidElement(e)?t.cloneElement(e,r):"function"===typeof e?t.createElement(e,r):t.createElement(eO,r)}(c,KN(KN({},i),{},{payload:H,label:z,active:M,activeIndex:P,coordinate:R,accessibilityLayer:E})));return t.createElement(t.Fragment,null,(0,Zi.createPortal)(W,F),M&&t.createElement(WN,{cursor:y,tooltipEventType:O,coordinate:R,payload:H,index:P}))}Math.abs,Math.atan2;const JN=Math.cos,QN=(Math.max,Math.min,Math.sin),ZN=Math.sqrt,eA=Math.PI,tA=2*eA;const rA={draw(e,t){const r=ZN(t/eA);e.moveTo(r,0),e.arc(0,0,r,0,tA)}},nA={draw(e,t){const r=ZN(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},iA=ZN(1/3),aA=2*iA,sA={draw(e,t){const r=ZN(t/aA),n=r*iA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},oA={draw(e,t){const r=ZN(t),n=-r/2;e.rect(n,n,r,r)}},lA=QN(eA/10)/QN(7*eA/10),cA=QN(tA/10)*lA,uA=-JN(tA/10)*lA,dA={draw(e,t){const r=ZN(.8908130915292852*t),n=cA*r,i=uA*r;e.moveTo(0,-r),e.lineTo(n,i);for(let a=1;a<5;++a){const t=tA*a/5,s=JN(t),o=QN(t);e.lineTo(o*r,-s*r),e.lineTo(s*n-o*i,o*n+s*i)}e.closePath()}},hA=ZN(3),fA={draw(e,t){const r=-ZN(t/(3*hA));e.moveTo(0,2*r),e.lineTo(-hA*r,-r),e.lineTo(hA*r,-r),e.closePath()}},pA=-.5,mA=ZN(3)/2,gA=1/ZN(12),vA=3*(gA/2+1),yA={draw(e,t){const r=ZN(t/vA),n=r/2,i=r*gA,a=n,s=r*gA+r,o=-a,l=s;e.moveTo(n,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(pA*n-mA*i,mA*n+pA*i),e.lineTo(pA*a-mA*s,mA*a+pA*s),e.lineTo(pA*o-mA*l,mA*o+pA*l),e.lineTo(pA*n+mA*i,pA*i-mA*n),e.lineTo(pA*a+mA*s,pA*s-mA*a),e.lineTo(pA*o+mA*l,pA*l-mA*o),e.closePath()}};ZN(3),ZN(3);var bA=["type","size","sizeType"];function xA(){return xA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xA.apply(null,arguments)}function _A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_A(Object(r),!0).forEach(function(t){SA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_A(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SA(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jA={symbolCircle:rA,symbolCross:nA,symbolDiamond:sA,symbolSquare:oA,symbolStar:dA,symbolTriangle:fA,symbolWye:yA},kA=Math.PI/180,CA=e=>{var{type:r="circle",size:n=64,sizeType:i="area"}=e,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,bA),s=wA(wA({},a),{},{type:r,size:n,sizeType:i}),o="circle";"string"===typeof r&&(o=r);var{className:l,cx:c,cy:u}=s,d=wj(s);return ms(c)&&ms(u)&&ms(n)?t.createElement("path",xA({},d,{className:as("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:(()=>{var e=(e=>{var t="symbol".concat(js(e));return jA[t]||rA})(o),t=function(e,t){let r=null,n=ZO(i);function i(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return e="function"===typeof e?e:gd(e||rA),t="function"===typeof t?t:gd(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:gd(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:gd(+e),i):t},i.context=function(e){return arguments.length?(r=null==e?null:e,i):r},i}().type(e).size(((e,t,r)=>{if("area"===t)return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var n=18*kA;return 1.25*e*e*(Math.tan(n)-Math.tan(2*n)*Math.tan(n)**2);case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}})(n,i,o)),r=t();if(null!==r)return r})()})):null};function EA(){return EA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EA.apply(null,arguments)}function OA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PA(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}CA.registerSymbol=(e,t)=>{jA["symbol".concat(js(e))]=t};var NA=32,AA={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function TA(e){var r,{data:n,iconType:i,inactiveColor:a}=e,s=16,o=NA/6,l=NA/3,c=n.inactive?a:n.color,u=null!==i&&void 0!==i?i:n.type;if("none"===u)return null;if("plainline"===u)return t.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:null===(r=n.payload)||void 0===r?void 0:r.strokeDasharray,x1:0,y1:s,x2:NA,y2:s,className:"recharts-legend-icon"});if("line"===u)return t.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,"\n            H").concat(NA,"M").concat(2*l,",").concat(s,"\n            A").concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if("rect"===u)return t.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(4,"h").concat(NA,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(t.isValidElement(n.legendIcon)){var d=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OA(Object(r),!0).forEach(function(t){PA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},n);return delete d.legendIcon,t.cloneElement(n.legendIcon,d)}return t.createElement(CA,{fill:c,cx:s,cy:s,size:NA,sizeType:"diameter",type:u})}function RA(e){var{payload:r,iconSize:n,layout:i,formatter:a,inactiveColor:s,iconType:o}=e,l={x:0,y:0,width:NA,height:NA},c={display:"horizontal"===i?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return r.map((r,i)=>{var d=r.formatter||a,h=as({"recharts-legend-item":!0,["legend-item-".concat(i)]:!0,inactive:r.inactive});if("none"===r.type)return null;var f=r.inactive?s:r.color,p=d?d(r.value,r,i):r.value;return t.createElement("li",EA({className:h,style:c,key:"legend-item-".concat(i)},zC(e,r,i)),t.createElement(kj,{width:n,height:n,viewBox:l,style:u,"aria-label":"".concat(p," legend icon")},t.createElement(TA,{data:r,iconType:o,inactiveColor:s})),t.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},p))})}var DA=e=>{var r=mk(e,AA),{payload:n,layout:i,align:a}=r;if(!n||!n.length)return null;var s={padding:0,margin:0,textAlign:"horizontal"===i?a:"left"};return t.createElement("ul",{className:"recharts-default-legend",style:s},t.createElement(RA,EA({},r,{payload:n})))};var LA=["contextPayload"];function MA(){return MA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},MA.apply(null,arguments)}function IA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function BA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?IA(Object(r),!0).forEach(function(t){zA(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IA(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function zA(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FA(e){return e.value}function HA(e){var{contextPayload:r}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,LA),i=dO(r,e.payloadUniqBy,FA),a=BA(BA({},n),{},{payload:i});return t.isValidElement(e.content)?t.cloneElement(e.content,a):"function"===typeof e.content?t.createElement(e.content,a):t.createElement(DA,a)}function UA(e){var r=ad();return(0,t.useEffect)(()=>{r(pS(e))},[r,e]),null}function WA(e){var r=ad();return(0,t.useEffect)(()=>(r(fS(e)),()=>{r(fS({width:0,height:0}))}),[r,e]),null}var qA={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function KA(e){var r=mk(e,qA),n=cd(fd),i=(0,t.useContext)(Gj),a=cd(e=>e.layout.margin),{width:s,height:o,wrapperStyle:l,portal:c}=r,[u,d]=CO([n]),h=sh(),f=oh();if(null==h||null==f)return null;var p=h-((null===a||void 0===a?void 0:a.left)||0)-((null===a||void 0===a?void 0:a.right)||0),m=function(e,t,r,n){return"vertical"===e&&null!=t?{height:t}:"horizontal"===e?{width:r||n}:null}(r.layout,o,s,p),g=c?l:BA(BA({position:"absolute",width:(null===m||void 0===m?void 0:m.width)||s||"auto",height:(null===m||void 0===m?void 0:m.height)||o||"auto"},function(e,t,r,n,i,a){var s,o,{layout:l,align:c,verticalAlign:u}=t;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(s="center"===c&&"vertical"===l?{left:((n||0)-a.width)/2}:"right"===c?{right:r&&r.right||0}:{left:r&&r.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(o="middle"===u?{top:((i||0)-a.height)/2}:"bottom"===u?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),BA(BA({},s),o)}(l,r,a,h,f,u)),l),v=null!==c&&void 0!==c?c:i;if(null==v||null==n)return null;var y=t.createElement("div",{className:"recharts-legend-wrapper",style:g,ref:d},t.createElement(UA,{layout:r.layout,align:r.align,verticalAlign:r.verticalAlign,itemSorter:r.itemSorter}),!c&&t.createElement(WA,{width:u.width,height:u.height}),t.createElement(HA,MA({},r,m,{margin:a,chartWidth:h,chartHeight:f,contextPayload:n})));return(0,Zi.createPortal)(y,v)}KA.displayName="Legend";var VA=r(356),YA=r.n(VA),GA=["valueAccessor"],XA=["dataKey","clockWise","id","textBreakAll","zIndex"];function $A(){return $A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$A.apply(null,arguments)}function JA(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var QA=e=>Array.isArray(e.value)?YA()(e.value):e.value,ZA=(0,t.createContext)(void 0),eT=ZA.Provider,tT=(0,t.createContext)(void 0),rT=tT.Provider;function nT(e){var{valueAccessor:r=QA}=e,n=JA(e,GA),{dataKey:i,clockWise:a,id:s,textBreakAll:o,zIndex:l}=n,c=JA(n,XA),u=(0,t.useContext)(ZA),d=(0,t.useContext)(tT),h=u||d;return h&&h.length?t.createElement(pC,{zIndex:null!==l&&void 0!==l?l:ry.label},t.createElement(Fk,{className:"recharts-label-list"},h.map((e,a)=>{var l,u=Ss(i)?r(e,a):jd(e.payload,i),d=Ss(s)?{}:{id:"".concat(s,"-").concat(a)};return t.createElement(DC,$A({key:"label-".concat(a)},wj(e),c,d,{fill:null!==(l=n.fill)&&void 0!==l?l:e.fill,parentViewBox:e.parentViewBox,value:u,textBreakAll:o,viewBox:e.viewBox,index:a,zIndex:0}))}))):null}function iT(e){var{label:r}=e;return r?!0===r?t.createElement(nT,{key:"labelList-implicit"}):t.isValidElement(r)||NC(r)?t.createElement(nT,{key:"labelList-implicit",content:r}):"object"===typeof r?t.createElement(nT,$A({key:"labelList-implicit"},r,{type:String(r.type)})):null:null}function aT(){return aT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},aT.apply(null,arguments)}nT.displayName="LabelList";var sT=e=>{var{cx:r,cy:n,r:i,className:a}=e,s=as("recharts-dot",a);return ms(r)&&ms(n)&&ms(i)?t.createElement("circle",aT({},xj(e),BC(e),{className:s,cx:r,cy:n,r:i})):null},oT=r(2086),lT=e=>"string"===typeof e?e:e?e.displayName||e.name||"Component":"",cT=null,uT=null,dT=e=>{if(e===cT&&Array.isArray(uT))return uT;var r=[];return t.Children.forEach(e,e=>{Ss(e)||((0,oT.isFragment)(e)?r=r.concat(dT(e.props.children)):r.push(e))}),uT=r,cT=e,r};function hT(e,t){var r=[],n=[];return n=Array.isArray(t)?t.map(e=>lT(e)):[lT(t)],dT(e).forEach(e=>{var t=cs()(e,"type.displayName")||cs()(e,"type.name");t&&-1!==n.indexOf(t)&&r.push(e)}),r}var fT=e=>!e||"object"!==typeof e||!("clipDot"in e)||Boolean(e.clipDot),pT=["points"];function mT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function gT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?mT(Object(r),!0).forEach(function(t){vT(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function vT(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yT(){return yT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yT.apply(null,arguments)}function bT(e){var{option:r,dotProps:n,className:i}=e;if((0,t.isValidElement)(r))return(0,t.cloneElement)(r,n);if("function"===typeof r)return r(n);var a=as(i,"boolean"!==typeof r?r.className:""),s=null!==n&&void 0!==n?n:{},{points:o}=s,l=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(s,pT);return t.createElement(sT,yT({},l,{className:a}))}function xT(e){var{points:r,dot:n,className:i,dotClassName:a,dataKey:s,baseProps:o,needClip:l,clipPathId:c,zIndex:u=ry.scatter}=e;if(!function(e,t){return null!=e&&(!!t||1===e.length)}(r,n))return null;var d,h=fT(n),f=null==(d=n)?null:(0,t.isValidElement)(d)?wj(d.props):"object"!==typeof d||Array.isArray(d)?null:wj(d),p=r.map((e,i)=>{var l,c,u=gT(gT(gT({r:3},o),f),{},{index:i,cx:null!==(l=e.x)&&void 0!==l?l:void 0,cy:null!==(c=e.y)&&void 0!==c?c:void 0,dataKey:s,value:e.value,payload:e.payload,points:r});return t.createElement(bT,{key:"dot-".concat(i),option:n,dotProps:u,className:a})}),m={};return l&&null!=c&&(m.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(c,")")),t.createElement(pC,{zIndex:u},t.createElement(Fk,yT({className:i},m),p))}function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wT(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(t){ST(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ST(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var jT=e=>{var{point:r,childIndex:n,mainColor:i,activeDot:a,dataKey:s,clipPath:o}=e;if(!1===a||null==r.x||null==r.y)return null;var l,c=wT(wT(wT({},{index:n,dataKey:s,cx:r.x,cy:r.y,r:4,fill:null!==i&&void 0!==i?i:"none",strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value}),_j(a)),BC(a));return l=(0,t.isValidElement)(a)?(0,t.cloneElement)(a,c):"function"===typeof a?a(c):t.createElement(sT,c),t.createElement(Fk,{className:"recharts-active-dot",clipPath:o},l)};function kT(e){var{points:r,mainColor:n,activeDot:i,itemDataKey:a,clipPath:s,zIndex:o=ry.activeDot}=e,l=cd(J_),c=cd(sw);if(null==r||null==c)return null;var u=r.find(e=>c.includes(e.payload));return Ss(u)?null:t.createElement(pC,{zIndex:o},t.createElement(jT,{point:u,childIndex:Number(l),mainColor:n,dataKey:a,activeDot:i,clipPath:s}))}function CT(e){var{tooltipEntrySettings:r}=e,n=ad(),i=Zd(),a=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{i||(null===a.current?n(Su(r)):a.current!==r&&n(ju({prev:a.current,next:r})),a.current=r)},[r,n,i]),(0,t.useLayoutEffect)(()=>()=>{a.current&&(n(ku(a.current)),a.current=null)},[n]),null}var ET=["children"];var OT={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},PT=(0,t.createContext)(OT);function NT(e){var{children:r}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,ET);return t.createElement(PT.Provider,{value:n},r)}function AT(e,t){var r,n,i=cd(t=>eb(t,e)),a=cd(e=>nb(e,t)),s=null!==(r=null===i||void 0===i?void 0:i.allowDataOverflow)&&void 0!==r?r:Qy.allowDataOverflow,o=null!==(n=null===a||void 0===a?void 0:a.allowDataOverflow)&&void 0!==n?n:tb.allowDataOverflow;return{needClip:s||o,needClipX:s,needClipY:o}}function TT(e){var{xAxisId:r,yAxisId:n,clipPathId:i}=e,a=lk(),{needClipX:s,needClipY:o,needClip:l}=AT(r,n);if(!l||!a)return null;var{x:c,y:u,width:d,height:h}=a;return t.createElement("clipPath",{id:"clipPath-".concat(i)},t.createElement("rect",{x:s?c:c-d/2,y:o?u:u-h/2,width:s?d:2*d,height:o?h:2*h}))}var RT=(e,t,r,n)=>Kx(e,"xAxis",t,n),DT=(e,t,r,n)=>qx(e,"xAxis",t,n),LT=(e,t,r,n)=>Kx(e,"yAxis",r,n),MT=(e,t,r,n)=>qx(e,"yAxis",r,n),IT=ed([lh,RT,LT,DT,MT],(e,t,r,n,i)=>kd(e,"xAxis")?Ld(t,n,!1):Ld(r,i,!1));function BT(e){return"line"===e.type}var zT,FT=ed([ub,(e,t,r,n,i)=>i],(e,t)=>e.filter(BT).find(e=>e.id===t)),HT=ed([lh,RT,LT,DT,MT,FT,IT,Cv],(e,t,r,n,i,a,s,o)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:u}=o;if(null!=a&&null!=t&&null!=r&&null!=n&&null!=i&&0!==n.length&&0!==i.length&&null!=s&&("horizontal"===e||"vertical"===e)){var d,{dataKey:h,data:f}=a;if(null!=(d=null!=f&&f.length>0?f:null===l||void 0===l?void 0:l.slice(c,u+1)))return function(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((e,l)=>{var c=jd(e,s);if("horizontal"===t){var u=Nd({axis:r,ticks:i,bandSize:o,entry:e,index:l}),d=Ss(c)?null:n.scale.map(c);return{x:u,y:null!==d&&void 0!==d?d:null,value:c,payload:e}}var h=Ss(c)?null:r.scale.map(c),f=Nd({axis:n,ticks:a,bandSize:o,entry:e,index:l});return null==h||null==f?null:{x:h,y:f,value:c,payload:e}}).filter(Boolean)}({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataKey:h,bandSize:s,displayedData:d})}});function UT(e){var{legendPayload:r}=e,n=ad(),i=Zd(),a=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{i||(null===a.current?n(mS(r)):a.current!==r&&n(gS({prev:a.current,next:r})),a.current=r)},[n,i,r]),(0,t.useLayoutEffect)(()=>()=>{a.current&&(n(vS(a.current)),a.current=null)},[n]),null}function WT(e){var{legendPayload:r}=e,n=ad(),i=cd(lh),a=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{"centric"!==i&&"radial"!==i||(null===a.current?n(mS(r)):a.current!==r&&n(gS({prev:a.current,next:r})),a.current=r)},[n,i,r]),(0,t.useLayoutEffect)(()=>()=>{a.current&&(n(vS(a.current)),a.current=null)},[n]),null}var qT=null!==(zT=n["useId".toString()])&&void 0!==zT?zT:()=>{var[e]=t.useState(()=>ys("uid-"));return e};var KT=(0,t.createContext)(void 0),VT=e=>{var{id:r,type:n,children:i}=e,a=function(e,t){var r=qT();return t||(e?"".concat(e,"-").concat(r):r)}("recharts-".concat(n),r);return t.createElement(KT.Provider,{value:a},i(a))};var YT=e=>{var r=ad(),n=(0,t.useRef)(null);return(0,t.useLayoutEffect)(()=>{null===n.current?r(Gw(e)):n.current!==e&&r(Xw({prev:n.current,next:e})),n.current=e},[r,e]),(0,t.useLayoutEffect)(()=>()=>{n.current&&(r($w(n.current)),n.current=null)},[r]),null},GT=(0,t.memo)(YT);function XT(e){var r=ad();return(0,t.useLayoutEffect)(()=>(r(Jw(e)),()=>{r(Qw(e))}),[r,e]),null}var $T,JT,QT,ZT,eR,tR=r(9397),rR=r.n(tR);function nR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function iR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nR(Object(r),!0).forEach(function(t){aR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function aR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sR(){return sR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sR.apply(null,arguments)}function oR(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var lR=(e,t,r,n,i)=>{var a,s=r-n;return a=ds($T||($T=oR(["M ",",",""])),e,t),a+=ds(JT||(JT=oR(["L ",",",""])),e+r,t),a+=ds(QT||(QT=oR(["L ",",",""])),e+r-s/2,t+i),a+=ds(ZT||(ZT=oR(["L ",",",""])),e+r-s/2-n,t+i),a+=ds(eR||(eR=oR(["L ",","," Z"])),e,t)},cR={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uR=e=>{var r=mk(e,cR),{x:n,y:i,upperWidth:a,lowerWidth:s,height:o,className:l}=r,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:h}=r,f=(0,t.useRef)(null),[p,m]=(0,t.useState)(-1),g=(0,t.useRef)(a),v=(0,t.useRef)(s),y=(0,t.useRef)(o),b=(0,t.useRef)(n),x=(0,t.useRef)(i),_=$P(e,"trapezoid-");if((0,t.useEffect)(()=>{if(f.current&&f.current.getTotalLength)try{var e=f.current.getTotalLength();e&&m(e)}catch(t){}},[]),n!==+n||i!==+i||a!==+a||s!==+s||o!==+o||0===a&&0===s||0===o)return null;var w=as("recharts-trapezoid",l);if(!h)return t.createElement("g",null,t.createElement("path",sR({},wj(r),{className:w,d:lR(n,i,a,s,o)})));var S=g.current,j=v.current,k=y.current,C=b.current,E=x.current,O="0px ".concat(-1===p?1:p,"px"),P="".concat(p,"px 0px"),N=kP(["strokeDasharray"],u,c);return t.createElement(XP,{animationId:_,key:_,canBegin:p>0,duration:u,easing:c,isActive:h,begin:d},e=>{var l=_s(S,a,e),c=_s(j,s,e),u=_s(k,o,e),d=_s(C,n,e),h=_s(E,i,e);f.current&&(g.current=l,v.current=c,y.current=u,b.current=d,x.current=h);var p=e>0?{transition:N,strokeDasharray:P}:{strokeDasharray:O};return t.createElement("path",sR({},wj(r),{className:w,d:lR(d,h,l,c,u),ref:f,style:iR(iR({},p),r.style)}))})},dR=["option","shapeType","activeClassName"];function hR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function fR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hR(Object(r),!0).forEach(function(t){pR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function pR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mR(e){var{shapeType:r,elementProps:n}=e;switch(r){case"rectangle":return t.createElement(jN,n);case"trapezoid":return t.createElement(uR,n);case"sector":return t.createElement(AN,n);case"symbols":if(function(e){return"symbols"===e}(r))return t.createElement(CA,n);break;case"curve":return t.createElement(mP,n);default:return null}}function gR(e){var r,{option:n,shapeType:i,activeClassName:a="recharts-active-shape"}=e,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,dR);if((0,t.isValidElement)(n))r=(0,t.cloneElement)(n,fR(fR({},s),function(e){return(0,t.isValidElement)(e)?e.props:e}(n)));else if("function"===typeof n)r=n(s,s.index);else if(rR()(n)&&"boolean"!==typeof n){var o=function(e,t){return fR(fR({},t),e)}(n,s);r=t.createElement(mR,{shapeType:i,elementProps:o})}else{var l=s;r=t.createElement(mR,{shapeType:i,elementProps:l})}return s.isActive?t.createElement(Fk,{className:a},r):r}var vR=["id"],yR=["type","layout","connectNulls","needClip","shape"],bR=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function xR(){return xR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xR.apply(null,arguments)}function _R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function wR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_R(Object(r),!0).forEach(function(t){SR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_R(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function SR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jR(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var kR=e=>{var{dataKey:t,name:r,stroke:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Id(r,t),payload:e}]},CR=t.memo(e=>{var{dataKey:r,data:n,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,unit:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:n,getPosition:Cs,settings:{stroke:i,strokeWidth:a,fill:s,dataKey:r,nameKey:void 0,name:Id(o,r),hide:l,type:u,color:i,unit:c,graphicalItemId:d}};return t.createElement(CT,{tooltipEntrySettings:h})}),ER=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function OR(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],i=0;i<t;++i)n=[...n,...r];return n}function PR(e){var{clipPathId:r,points:n,props:i}=e,{dot:a,dataKey:s,needClip:o}=i,{id:l}=i,c=xj(jR(i,vR));return t.createElement(xT,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:s,baseProps:c,needClip:o,clipPathId:r})}function NR(e){var{showLabels:r,children:n,points:i}=e,a=(0,t.useMemo)(()=>null===i||void 0===i?void 0:i.map(e=>{var t,r,n={x:null!==(t=e.x)&&void 0!==t?t:0,y:null!==(r=e.y)&&void 0!==r?r:0,width:0,lowerWidth:0,upperWidth:0,height:0};return wR(wR({},n),{},{value:e.value,payload:e.payload,viewBox:n,parentViewBox:void 0,fill:void 0})}),[i]);return t.createElement(eT,{value:r?a:void 0},n)}function AR(e){var{clipPathId:r,pathRef:n,points:i,strokeDasharray:a,props:s}=e,{type:o,layout:l,connectNulls:c,needClip:u,shape:d}=s,h=wR(wR({},wj(jR(s,yR))),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(r,")"):void 0,points:i,type:o,layout:l,connectNulls:c,strokeDasharray:null!==a&&void 0!==a?a:s.strokeDasharray});return t.createElement(t.Fragment,null,(null===i||void 0===i?void 0:i.length)>1&&t.createElement(gR,xR({shapeType:"curve",option:d},h,{pathRef:n})),t.createElement(PR,{points:i,clipPathId:r,props:s}))}function TR(e){var{clipPathId:r,props:n,pathRef:i,previousPointsRef:a,longestAnimatedLengthRef:s}=e,{points:o,strokeDasharray:l,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:h,animateNewValues:f,width:p,height:m,onAnimationEnd:g,onAnimationStart:v}=n,y=a.current,b=$P(o,"recharts-line-"),x=(0,t.useRef)(b),[_,w]=(0,t.useState)(!1),S=!_,j=(0,t.useCallback)(()=>{"function"===typeof g&&g(),w(!1)},[g]),k=(0,t.useCallback)(()=>{"function"===typeof v&&v(),w(!0)},[v]),C=function(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}(i.current),E=(0,t.useRef)(0);x.current!==b&&(E.current=s.current,x.current=b);var O=E.current;return t.createElement(NR,{points:o,showLabels:S},n.children,t.createElement(XP,{animationId:b,begin:u,duration:d,isActive:c,easing:h,onAnimationEnd:j,onAnimationStart:k,key:b},e=>{var u,d=_s(O,C+O,e),h=Math.min(d,C);if(c)if(l){var g="".concat(l).split(/[,\s]+/gim).map(e=>parseFloat(e));u=((e,t,r)=>{var n=r.reduce((e,t)=>e+t);if(!n)return ER(t,e);for(var i=Math.floor(e/n),a=e%n,s=t-e,o=[],l=0,c=0;l<r.length;c+=null!==(u=r[l])&&void 0!==u?u:0,++l){var u,d=r[l];if(null!=d&&c+d>a){o=[...r.slice(0,l),a-c];break}}var h=o.length%2===0?[0,s]:[s];return[...OR(r,i),...o,...h].map(e=>"".concat(e,"px")).join(", ")})(h,C,g)}else u=ER(C,h);else u=null==l?void 0:String(l);if(e>0&&C>0&&(a.current=o,s.current=Math.max(s.current,h)),y){var v=y.length/o.length,b=1===e?o:o.map((t,r)=>{var n=Math.floor(r*v);if(y[n]){var i=y[n];return wR(wR({},t),{},{x:_s(i.x,t.x,e),y:_s(i.y,t.y,e)})}return wR(wR({},t),{},f?{x:_s(2*p,t.x,e),y:_s(m/2,t.y,e)}:{x:t.x,y:t.y})});return a.current=b,t.createElement(AR,{props:n,points:b,clipPathId:r,pathRef:i,strokeDasharray:u})}return t.createElement(AR,{props:n,points:o,clipPathId:r,pathRef:i,strokeDasharray:u})}),t.createElement(iT,{label:n.label}))}function RR(e){var{clipPathId:r,props:n}=e,i=(0,t.useRef)(null),a=(0,t.useRef)(0),s=(0,t.useRef)(null);return t.createElement(TR,{props:n,clipPathId:r,previousPointsRef:i,longestAnimatedLengthRef:a,pathRef:s})}var DR=(e,t)=>{var r,n;return{x:null!==(r=e.x)&&void 0!==r?r:void 0,y:null!==(n=e.y)&&void 0!==n?n:void 0,value:e.value,errorVal:jd(e.payload,t)}};class LR extends t.Component{render(){var{hide:e,dot:r,points:n,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:c,height:u,id:d,needClip:h,zIndex:f}=this.props;if(e)return null;var p=as("recharts-line",i),m=d,{r:g,strokeWidth:v}=function(e){var t=_j(e);if(null!=t){var{r:r,strokeWidth:n}=t,i=Number(r),a=Number(n);return(Number.isNaN(i)||i<0)&&(i=3),(Number.isNaN(a)||a<0)&&(a=2),{r:i,strokeWidth:a}}return{r:3,strokeWidth:2}}(r),y=fT(r),b=2*g+v,x=h?"url(#clipPath-".concat(y?"":"dots-").concat(m,")"):void 0;return t.createElement(pC,{zIndex:f},t.createElement(Fk,{className:p},h&&t.createElement("defs",null,t.createElement(TT,{clipPathId:m,xAxisId:a,yAxisId:s}),!y&&t.createElement("clipPath",{id:"clipPath-dots-".concat(m)},t.createElement("rect",{x:l-b/2,y:o-b/2,width:c+b,height:u+b}))),t.createElement(NT,{xAxisId:a,yAxisId:s,data:n,dataPointFormatter:DR,errorBarOffset:0},t.createElement(RR,{props:this.props,clipPathId:m}))),t.createElement(kT,{activeDot:this.props.activeDot,points:n,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:x}))}}var MR={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:ry.line,type:"linear"};function IR(e){var r=mk(e,MR),{activeDot:n,animateNewValues:i,animationBegin:a,animationDuration:s,animationEasing:o,connectNulls:l,dot:c,hide:u,isAnimationActive:d,label:h,legendType:f,xAxisId:p,yAxisId:m,id:g}=r,v=jR(r,bR),{needClip:y}=AT(p,m),b=lk(),x=ch(),_=Zd(),w=cd(e=>HT(e,p,m,_,g));if("horizontal"!==x&&"vertical"!==x||null==w||null==b)return null;var{height:S,width:j,x:k,y:C}=b;return t.createElement(LR,xR({},v,{id:g,connectNulls:l,dot:c,activeDot:n,animateNewValues:i,animationBegin:a,animationDuration:s,animationEasing:o,isAnimationActive:d,hide:u,label:h,legendType:f,xAxisId:p,yAxisId:m,points:w,layout:x,height:S,width:j,left:k,top:C,needClip:y}))}function BR(e){var r=mk(e,MR),n=Zd();return t.createElement(VT,{id:r.id,type:"line"},e=>t.createElement(t.Fragment,null,t.createElement(UT,{legendPayload:kR(r)}),t.createElement(CR,{dataKey:r.dataKey,data:r.data,stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,name:r.name,hide:r.hide,unit:r.unit,tooltipType:r.tooltipType,id:e}),t.createElement(GT,{type:"line",id:e,data:r.data,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,hide:r.hide,isPanorama:n}),t.createElement(IR,xR({},r,{id:e}))))}var zR=t.memo(BR,uj);zR.displayName="Line";var FR=["axis","item"],HR=(0,t.forwardRef)((e,r)=>t.createElement(yk,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FR,tooltipPayloadSearcher:mc,categoricalChartProps:e,ref:r})),UR=e=>null;UR.displayName="Cell";var WR="Invariant failed";function qR(){return qR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qR.apply(null,arguments)}function KR(e){return t.createElement(gR,qR({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var VR=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(r,n)=>{if(ms(e))return e;var i=ms(r)||Ss(r);return i?e(r,n):(i||function(e){if(!e)throw new Error(WR)}(!1,"minPointSize callback function received a value with type of ".concat(typeof r,". Currently only numbers or null/undefined are supported.")),t)}},YR=(e,t,r)=>{var n=ad();return(i,a)=>s=>{null===e||void 0===e||e(i,a,s),n(Eu({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},GR=e=>{var t=ad();return(r,n)=>i=>{null===e||void 0===e||e(r,n,i),t(Ou())}},XR=(e,t,r)=>{var n=ad();return(i,a)=>s=>{null===e||void 0===e||e(i,a,s),n(Nu({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},$R=(e,t,r)=>{var n=null!==r&&void 0!==r?r:e;if(!Ss(n))return bs(n,t,0)};function JR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function QR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JR(Object(r),!0).forEach(function(t){ZR(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JR(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ZR(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eD(e,t){var r,n;return null!==(r=null===(n=e.graphicalItems.cartesianItems.find(e=>e.id===t))||void 0===n?void 0:n.xAxisId)&&void 0!==r?r:0}function tD(e,t){var r,n;return null!==(r=null===(n=e.graphicalItems.cartesianItems.find(e=>e.id===t))||void 0===n?void 0:n.yAxisId)&&void 0!==r?r:0}var rD=ed([ub,(e,t)=>t],(e,t)=>e.filter(e=>"bar"===e.type).find(e=>e.id===t)),nD=ed([rD],e=>null===e||void 0===e?void 0:e.maxBarSize),iD=ed([lh,ub,eD,tD,(e,t,r)=>r],(e,t,r,n,i)=>t.filter(t=>"horizontal"===e?t.xAxisId===r:t.yAxisId===n).filter(e=>e.isPanorama===i).filter(e=>!1===e.hide).filter(e=>"bar"===e.type)),aD=ed([iD,e=>e.rootProps.barSize,(e,t)=>{var r=lh(e),n=eD(e,t),i=tD(e,t);if(null!=n&&null!=i)return"horizontal"===r?Ix(e,"xAxis",n):Ix(e,"yAxis",i)}],(e,t,r)=>{var n=e.filter(Fy),i=e.filter(e=>null==e.stackId),a=n.reduce((e,t)=>{var r=e[t.stackId];return null==r&&(r=[]),r.push(t),e[t.stackId]=r,e},{}),s=Object.entries(a).map(e=>{var n,[i,a]=e;return{stackId:i,dataKeys:a.map(e=>e.dataKey),barSize:$R(t,r,null===(n=a[0])||void 0===n?void 0:n.barSize)}});return[...s,...i.map(e=>({stackId:void 0,dataKeys:[e.dataKey].filter(e=>null!=e),barSize:$R(t,r,e.barSize)}))]}),sD=(e,t,r)=>{var n,i,a=lh(e),s=eD(e,t),o=tD(e,t);if(null!=s&&null!=o)return"horizontal"===a?(n=Kx(e,"xAxis",s,r),i=qx(e,"xAxis",s,r)):(n=Kx(e,"yAxis",o,r),i=qx(e,"yAxis",o,r)),Ld(n,i)},oD=ed([aD,Bv,e=>e.rootProps.barGap,zv,(e,t,r)=>{var n,i,a=rD(e,t);if(null==a)return 0;var s=eD(e,t),o=tD(e,t);if(null==s||null==o)return 0;var l,c,u=lh(e),d=Bv(e),{maxBarSize:h}=a,f=Ss(h)?d:h;return"horizontal"===u?(l=Kx(e,"xAxis",s,r),c=qx(e,"xAxis",s,r)):(l=Kx(e,"yAxis",o,r),c=qx(e,"yAxis",o,r)),null!==(n=null!==(i=Ld(l,c,!0))&&void 0!==i?i:f)&&void 0!==n?n:0},sD,nD],(e,t,r,n,i,a,s)=>{var o=Ss(s)?t:s,l=function(e,t,r,n,i){var a,s=n.length;if(!(s<1)){var o,l=bs(e,r,0,!0),c=[];if(Ls(null===(a=n[0])||void 0===a?void 0:a.barSize)){var u=!1,d=r/s,h=n.reduce((e,t)=>e+(t.barSize||0),0);(h+=(s-1)*l)>=r&&(h-=(s-1)*l,l=0),h>=r&&d>0&&(u=!0,h=s*(d*=.9));var f={offset:((r-h)/2|0)-l,size:0};o=n.reduce((e,t)=>{var r,n={stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:f.offset+f.size+l,size:u?d:null!==(r=t.barSize)&&void 0!==r?r:0}},i=[...e,n];return f=n.position,i},c)}else{var p=bs(t,r,0,!0);r-2*p-(s-1)*l<=0&&(l=0);var m=(r-2*p-(s-1)*l)/s;m>1&&(m>>=0);var g=Ls(i)?Math.min(m,i):m;o=n.reduce((e,t,r)=>[...e,{stackId:t.stackId,dataKeys:t.dataKeys,position:{offset:p+(m+l)*r+(m-g)/2,size:g}}],c)}return o}}(r,n,i!==a?i:a,e,o);return i!==a&&null!=l&&(l=l.map(e=>QR(QR({},e),{},{position:QR(QR({},e.position),{},{offset:e.position.offset-i/2})}))),l}),lD=ed([oD,rD],(e,t)=>{if(null!=e&&null!=t){var r=e.find(e=>e.stackId===t.stackId&&null!=t.dataKey&&e.dataKeys.includes(t.dataKey));if(null!=r)return r.position}}),cD=ed([(e,t,r)=>{var n=lh(e),i=eD(e,t),a=tD(e,t);if(null!=i&&null!=a)return"horizontal"===n?Ab(e,"yAxis",a,r):Ab(e,"xAxis",i,r)},rD],(e,t)=>{var r=By(t);if(e&&null!=r&&null!=t){var{stackId:n}=t;if(null!=n){var i=e[n];if(i){var{stackedData:a}=i;if(a)return a.find(e=>e.key===r)}}}}),uD=ed([Xd,Jd,(e,t,r)=>{var n=eD(e,t);if(null!=n)return Kx(e,"xAxis",n,r)},(e,t,r)=>{var n=tD(e,t);if(null!=n)return Kx(e,"yAxis",n,r)},(e,t,r)=>{var n=eD(e,t);if(null!=n)return qx(e,"xAxis",n,r)},(e,t,r)=>{var n=tD(e,t);if(null!=n)return qx(e,"yAxis",n,r)},lD,lh,(e,t,r)=>r?kv(e):jv(e),sD,cD,rD,(e,t,r,n)=>n],(e,t,r,n,i,a,s,o,l,c,u,d,h)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:m}=l;if(null!=d&&null!=s&&null!=t&&("horizontal"===o||"vertical"===o)&&null!=r&&null!=n&&null!=i&&null!=a&&null!=c){var g,{data:v}=d;if(null!=(g=null!=v&&v.length>0?v:null===f||void 0===f?void 0:f.slice(p,m+1)))return function(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:a,xAxis:s,yAxis:o,xAxisTicks:l,yAxisTicks:c,stackedData:u,displayedData:d,offset:h,cells:f,parentViewBox:p,dataStartIndex:m}=e,g="horizontal"===t?o:s,v=u?g.scale.domain():null,y=(e=>{var{numericAxis:t}=e,r=t.scale.domain();if("number"===t.type){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]})({numericAxis:g}),b=g.scale.map(y);return d.map((e,d)=>{var g,x,_,w,S,j;if(u){var k=u[d+m];if(null==k)return null;g=((e,t)=>{if(!t||2!==t.length||!ms(t[0])||!ms(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ms(e[0])||e[0]<r)&&(i[0]=r),(!ms(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i})(k,v)}else g=jd(e,r),Array.isArray(g)||(g=[y,g]);var C=VR(n,LD)(g[1],d);if("horizontal"===t){var E,O=o.scale.map(g[0]),P=o.scale.map(g[1]);if(null==O||null==P)return null;x=Ad({axis:s,ticks:l,bandSize:a,offset:i.offset,entry:e,index:d}),_=null!==(E=null!==P&&void 0!==P?P:O)&&void 0!==E?E:void 0,w=i.size;var N=O-P;if(S=fs(N)?0:N,j={x:x,y:h.top,width:w,height:h.height},Math.abs(C)>0&&Math.abs(S)<Math.abs(C)){var A=hs(S||C)*(Math.abs(C)-Math.abs(S));_-=A,S+=A}}else{var T=s.scale.map(g[0]),R=s.scale.map(g[1]);if(null==T||null==R)return null;if(x=T,_=Ad({axis:o,ticks:c,bandSize:a,offset:i.offset,entry:e,index:d}),w=R-T,S=i.size,j={x:h.left,y:_,width:h.width,height:S},Math.abs(C)>0&&Math.abs(w)<Math.abs(C))w+=hs(w||C)*(Math.abs(C)-Math.abs(w))}return null==x||null==_||null==w||null==S?null:SD(SD({},e),{},{stackedBarStart:b,x:x,y:_,width:w,height:S,value:u?g:g[1],payload:e,background:j,tooltipPosition:{x:x+w/2,y:_+S/2},parentViewBox:p},f&&f[d]&&f[d].props)}).filter(Boolean)}({layout:o,barSettings:d,pos:s,parentViewBox:t,bandSize:c,xAxis:r,yAxis:n,xAxisTicks:i,yAxisTicks:a,stackedData:u,displayedData:g,offset:e,cells:h,dataStartIndex:p})}});var dD=["index"];function hD(){return hD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hD.apply(null,arguments)}var fD=(0,t.createContext)(void 0),pD=e=>{var r,n=(0,t.useContext)(fD);return null!=n?n.stackId:null!=e?null==(r=e)?void 0:String(r):void 0},mD=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),gD=e=>{var{index:r}=e,n=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,dD),i=(e=>{var r=(0,t.useContext)(fD);if(null!=r){var{stackId:n}=r;return"url(#".concat(mD(n,e),")")}})(r);return t.createElement(Fk,hD({className:"recharts-bar-stack-layer",clipPath:i},n))},vD=["onMouseEnter","onMouseLeave","onClick"],yD=["value","background","tooltipPosition"],bD=["id"],xD=["onMouseEnter","onClick","onMouseLeave"];function _D(){return _D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_D.apply(null,arguments)}function wD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function SD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?wD(Object(r),!0).forEach(function(t){jD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function jD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kD(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var CD=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:n,value:Id(r,t),payload:e}]},ED=t.memo(e=>{var{dataKey:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,getPosition:Cs,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:r,nameKey:void 0,name:Id(s,r),hide:o,type:c,color:a,unit:l,graphicalItemId:u}};return t.createElement(CT,{tooltipEntrySettings:d})});function OD(e){var r=cd(J_),{data:n,dataKey:i,background:a,allOtherBarProps:s}=e,{onMouseEnter:o,onMouseLeave:l,onClick:c}=s,u=kD(s,vD),d=YR(o,i,s.id),h=GR(l),f=XR(c,i,s.id);if(!a||null==n)return null;var p,m,g=_j(a);return t.createElement(pC,{zIndex:(p=a,m=ry.barBackground,p&&"object"===typeof p&&"zIndex"in p&&"number"===typeof p.zIndex&&Ls(p.zIndex)?p.zIndex:m)},n.map((e,n)=>{var{value:s,background:o,tooltipPosition:l}=e,c=kD(e,yD);if(!o)return null;var p=d(e,n),m=h(e,n),v=f(e,n),y=SD(SD(SD(SD(SD({option:a,isActive:String(n)===r},c),{},{fill:"#eee"},o),g),zC(u,e,n)),{},{onMouseEnter:p,onMouseLeave:m,onClick:v,dataKey:i,index:n,className:"recharts-bar-background-rectangle"});return t.createElement(KR,_D({key:"background-bar-".concat(n)},y))}))}function PD(e){var{showLabels:r,children:n,rects:i}=e,a=null===i||void 0===i?void 0:i.map(e=>{var t={x:e.x,y:e.y,width:e.width,lowerWidth:e.width,upperWidth:e.width,height:e.height};return SD(SD({},t),{},{value:e.value,payload:e.payload,parentViewBox:e.parentViewBox,viewBox:t,fill:e.fill})});return t.createElement(eT,{value:r?a:void 0},n)}function ND(e){var{shape:r,activeBar:n,baseProps:i,entry:a,index:s,dataKey:o}=e,l=cd(J_),c=cd(Z_),u=n&&String(s)===l&&(null==c||o===c),d=u?n:r;return u?t.createElement(pC,{zIndex:ry.activeBar},t.createElement(gD,{index:s},t.createElement(KR,_D({},i,{name:String(i.name)},a,{isActive:u,option:d,index:s,dataKey:o})))):t.createElement(KR,_D({},i,{name:String(i.name)},a,{isActive:u,option:d,index:s,dataKey:o}))}function AD(e){var{shape:r,baseProps:n,entry:i,index:a,dataKey:s}=e;return t.createElement(KR,_D({},n,{name:String(n.name)},i,{isActive:!1,option:r,index:a,dataKey:s}))}function TD(e){var r,{data:n,props:i}=e,a=null!==(r=xj(i))&&void 0!==r?r:{},{id:s}=a,o=kD(a,bD),{shape:l,dataKey:c,activeBar:u}=i,{onMouseEnter:d,onClick:h,onMouseLeave:f}=i,p=kD(i,xD),m=YR(d,c,s),g=GR(f),v=XR(h,c,s);return n?t.createElement(t.Fragment,null,n.map((e,r)=>t.createElement(gD,_D({index:r,key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value,"-").concat(r),className:"recharts-bar-rectangle"},zC(p,e,r),{onMouseEnter:m(e,r),onMouseLeave:g(e,r),onClick:v(e,r)}),u?t.createElement(ND,{shape:l,activeBar:u,baseProps:o,entry:e,index:r,dataKey:c}):t.createElement(AD,{shape:l,baseProps:o,entry:e,index:r,dataKey:c})))):null}function RD(e){var{props:r,previousRectanglesRef:n}=e,{data:i,layout:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=r,h=n.current,f=$P(r,"recharts-bar-"),[p,m]=(0,t.useState)(!1),g=!p,v=(0,t.useCallback)(()=>{"function"===typeof u&&u(),m(!1)},[u]),y=(0,t.useCallback)(()=>{"function"===typeof d&&d(),m(!0)},[d]);return t.createElement(PD,{showLabels:g,rects:i},t.createElement(XP,{animationId:f,begin:o,duration:l,isActive:s,easing:c,onAnimationEnd:v,onAnimationStart:y,key:f},e=>{var s=1===e?i:null===i||void 0===i?void 0:i.map((t,r)=>{var n=h&&h[r];if(n)return SD(SD({},t),{},{x:_s(n.x,t.x,e),y:_s(n.y,t.y,e),width:_s(n.width,t.width,e),height:_s(n.height,t.height,e)});if("horizontal"===a){var i=_s(0,t.height,e),s=_s(t.stackedBarStart,t.y,e);return SD(SD({},t),{},{y:s,height:i})}var o=_s(0,t.width,e),l=_s(t.stackedBarStart,t.x,e);return SD(SD({},t),{},{width:o,x:l})});return e>0&&(n.current=null!==s&&void 0!==s?s:null),null==s?null:t.createElement(Fk,null,t.createElement(TD,{props:r,data:s}))}),t.createElement(iT,{label:r.label}),r.children)}function DD(e){var r=(0,t.useRef)(null);return t.createElement(RD,{previousRectanglesRef:r,props:e})}var LD=0,MD=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:jd(e,t)}};class ID extends t.PureComponent{render(){var{hide:e,data:r,dataKey:n,className:i,xAxisId:a,yAxisId:s,needClip:o,background:l,id:c}=this.props;if(e||null==r)return null;var u=as("recharts-bar",i),d=c;return t.createElement(Fk,{className:u,id:c},o&&t.createElement("defs",null,t.createElement(TT,{clipPathId:d,xAxisId:a,yAxisId:s})),t.createElement(Fk,{className:"recharts-bar-rectangles",clipPath:o?"url(#clipPath-".concat(d,")"):void 0},t.createElement(OD,{data:r,dataKey:n,background:l,allOtherBarProps:this.props}),t.createElement(DD,this.props)))}}var BD={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:LD,xAxisId:0,yAxisId:0,zIndex:ry.bar};function zD(e){var r,{xAxisId:n,yAxisId:i,hide:a,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h}=e,{needClip:f}=AT(n,i),p=ch(),m=Zd(),g=hT(e.children,UR),v=cd(t=>uD(t,e.id,m,g));if("vertical"!==p&&"horizontal"!==p)return null;var y=null===v||void 0===v?void 0:v[0];return r=null==y||null==y.height||null==y.width?0:"vertical"===p?y.height/2:y.width/2,t.createElement(NT,{xAxisId:n,yAxisId:i,data:v,dataPointFormatter:MD,errorBarOffset:r},t.createElement(ID,_D({},e,{layout:p,needClip:f,data:v,xAxisId:n,yAxisId:i,hide:a,legendType:s,minPointSize:o,activeBar:l,animationBegin:c,animationDuration:u,animationEasing:d,isAnimationActive:h})))}function FD(e){var r=mk(e,BD),n=pD(r.stackId),i=Zd();return t.createElement(VT,{id:r.id,type:"bar"},e=>t.createElement(t.Fragment,null,t.createElement(UT,{legendPayload:CD(r)}),t.createElement(ED,{dataKey:r.dataKey,stroke:r.stroke,strokeWidth:r.strokeWidth,fill:r.fill,name:r.name,hide:r.hide,unit:r.unit,tooltipType:r.tooltipType,id:e}),t.createElement(GT,{type:"bar",id:e,data:void 0,xAxisId:r.xAxisId,yAxisId:r.yAxisId,zAxisId:0,dataKey:r.dataKey,stackId:n,hide:r.hide,barSize:r.barSize,minPointSize:r.minPointSize,maxBarSize:r.maxBarSize,isPanorama:i}),t.createElement(pC,{zIndex:r.zIndex},t.createElement(zD,_D({},r,{id:e})))))}var HD=t.memo(FD,uj);function UD(e){var r=ad();return(0,t.useEffect)(()=>{r(NS(e))},[r,e]),null}HD.displayName="Bar";var WD=["layout"];function qD(){return qD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qD.apply(null,arguments)}var KD={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},VD=(0,t.forwardRef)(function(e,r){var n,i=mk(e.categoricalChartProps,KD),{layout:a}=i,s=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(i,WD),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u}=e,d={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:c,tooltipPayloadSearcher:u,eventEmitter:void 0};return t.createElement(sj,{preloadedState:{options:d},reduxStoreName:null!==(n=i.id)&&void 0!==n?n:o},t.createElement(oj,{chartData:i.data}),t.createElement(hj,{layout:a,margin:i.margin}),t.createElement(fj,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),t.createElement(UD,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),t.createElement(hk,qD({},s,{ref:r})))});function YD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function GD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YD(Object(r),!0).forEach(function(t){XD(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YD(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function XD(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var $D=["item"],JD=GD(GD({},KD),{},{layout:"centric",startAngle:0,endAngle:360}),QD=(0,t.forwardRef)((e,r)=>{var n=mk(e,JD);return t.createElement(VD,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:$D,tooltipPayloadSearcher:mc,categoricalChartProps:n,ref:r})}),ZD=e=>e.graphicalItems.polarItems,eL=ed([My,Iy],cb),tL=ed([ZD,sb,eL],hb),rL=ed([tL],vb),nL=ed([rL,kv],bb),iL=ed([nL,sb,tL],_b),aL=(ed([nL,sb,tL],(e,t,r)=>r.length>0?e.flatMap(e=>r.flatMap(r=>{var n;return{value:jd(e,null!==(n=t.dataKey)&&void 0!==n?n:r.dataKey),errorDomain:[]}})).filter(Boolean):null!=(null===t||void 0===t?void 0:t.dataKey)?e.map(e=>({value:jd(e,t.dataKey),errorDomain:[]})):e.map(e=>({value:e,errorDomain:[]}))),()=>{}),sL=ed([nL,sb,tL,Bb,My],Fb),oL=ed([sb,Lb,Mb,aL,sL,aL,lh,My],nx),lL=ed([sb,lh,nL,iL,Fv,My,oL],sx),cL=ed([lL,ob,cx],dx),uL=ed([sb,lL,cL,My],fx);ed([cx,uL],Yy);function dL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function hL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dL(Object(r),!0).forEach(function(t){fL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function fL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var pL=ed([ZD,(e,t)=>t],(e,t)=>e.filter(e=>"pie"===e.type).find(e=>e.id===t)),mL=[],gL=(e,t,r)=>0===(null===r||void 0===r?void 0:r.length)?mL:r,vL=ed([kv,pL,gL],(e,t,r)=>{var n,{chartData:i}=e;if(null!=t&&((n=null!=(null===t||void 0===t?void 0:t.data)&&t.data.length>0?t.data:i)&&n.length||null==r||(n=r.map(e=>hL(hL({},t.presentationProps),e.props))),null!=n))return n}),yL=ed([vL,pL,gL],(e,t,r)=>{if(null!=e&&null!=t)return e.map((e,n)=>{var i,a,s=jd(e,t.nameKey,t.name);return a=null!==r&&void 0!==r&&null!==(i=r[n])&&void 0!==i&&null!==(i=i.props)&&void 0!==i&&i.fill?r[n].props.fill:"object"===typeof e&&null!=e&&"fill"in e?e.fill:t.fill,{value:Id(s,t.dataKey),color:a,payload:e,type:t.legendType}})}),bL=ed([vL,pL,gL,Xd],(e,t,r,n)=>{if(null!=t&&null!=e)return function(e){var t,r,n,{pieSettings:i,displayedData:a,cells:s,offset:o}=e,{cornerRadius:l,startAngle:c,endAngle:u,dataKey:d,nameKey:h,tooltipType:f}=i,p=Math.abs(i.minAngle),m=TL(c,u),g=Math.abs(m),v=a.length<=1?0:null!==(t=i.paddingAngle)&&void 0!==t?t:0,y=a.filter(e=>0!==jd(e,d,0)).length,b=g-y*p-(g>=360?y:y-1)*v,x=a.reduce((e,t)=>{var r=jd(t,d,0);return e+(ms(r)?r:0)},0);x>0&&(r=a.map((e,t)=>{var r,a=jd(e,d,0),u=jd(e,h,t),g=AL(i,o,e),y=(ms(a)?a:0)/x,_=kL(kL({},e),s&&s[t]&&s[t].props),w=(r=t?n.endAngle+hs(m)*v*(0!==a?1:0):c)+hs(m)*((0!==a?p:0)+y*b),S=(r+w)/2,j=(g.innerRadius+g.outerRadius)/2,k=[{name:u,value:a,payload:_,dataKey:d,type:f,graphicalItemId:i.id}],C=Jv(g.cx,g.cy,j,S);return n=kL(kL(kL(kL({},i.presentationProps),{},{percent:y,cornerRadius:"string"===typeof l?parseFloat(l):l,name:u,tooltipPayload:k,midAngle:S,middleRadius:j,tooltipPosition:C},_),g),{},{value:a,dataKey:d,startAngle:r,endAngle:w,payload:_,paddingAngle:hs(m)*v})}));return r}({offset:n,pieSettings:t,displayedData:e,cells:r})}),xL=["key"],_L=["onMouseEnter","onClick","onMouseLeave"],wL=["id"],SL=["id"];function jL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function kL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jL(Object(r),!0).forEach(function(t){CL(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jL(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function CL(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EL(){return EL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},EL.apply(null,arguments)}function OL(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PL(e){var r=(0,t.useMemo)(()=>hT(e.children,UR),[e.children]),n=cd(t=>yL(t,e.id,r));return null==n?null:t.createElement(WT,{legendPayload:n})}var NL=t.memo(e=>{var{dataKey:r,nameKey:n,sectors:i,stroke:a,strokeWidth:s,fill:o,name:l,hide:c,tooltipType:u,id:d}=e,h={dataDefinedOnItem:i.map(e=>e.tooltipPayload),getPosition:e=>{var t;return null===(t=i[Number(e)])||void 0===t?void 0:t.tooltipPosition},settings:{stroke:a,strokeWidth:s,fill:o,dataKey:r,nameKey:n,name:Id(l,r),hide:c,type:u,color:o,unit:"",graphicalItemId:d}};return t.createElement(CT,{tooltipEntrySettings:h})}),AL=(e,t,r)=>{var{top:n,left:i,width:a,height:s}=t,o=Qv(a,s),l=i+bs(e.cx,a,a/2),c=n+bs(e.cy,s,s/2),u=bs(e.innerRadius,o,0),d=((e,t,r)=>bs("function"===typeof t?t(e):t,r,.8*r))(r,e.outerRadius,o);return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:e.maxRadius||Math.sqrt(a*a+s*s)/2}},TL=(e,t)=>hs(t-e)*Math.min(Math.abs(t-e),360);function RL(e){var{sectors:r,props:n,showLabels:i}=e,{label:a,labelLine:s,dataKey:o}=n;if(!i||!a||!r)return null;var l=xj(n),c=_j(a),u=_j(s),d="object"===typeof a&&"offsetRadius"in a&&"number"===typeof a.offsetRadius&&a.offsetRadius||20,h=r.map((e,r)=>{var n,i,h=(e.startAngle+e.endAngle)/2,f=Jv(e.cx,e.cy,e.outerRadius+d,h),p=kL(kL(kL(kL({},l),e),{},{stroke:"none"},c),{},{index:r,textAnchor:(n=f.x,i=e.cx,n>i?"start":n<i?"end":"middle")},f),m=kL(kL(kL(kL({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:r,points:[Jv(e.cx,e.cy,e.outerRadius,h),f],key:"line"});return t.createElement(pC,{zIndex:ry.label,key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(r)},t.createElement(Fk,null,s&&((e,r)=>{if(t.isValidElement(e))return t.cloneElement(e,r);if("function"===typeof e)return e(r);var n=as("recharts-pie-label-line","boolean"!==typeof e?e.className:""),{key:i}=r,a=OL(r,xL);return t.createElement(mP,EL({},a,{type:"linear",className:n}))})(s,m),((e,r,n)=>{if(t.isValidElement(e))return t.cloneElement(e,r);var i=n;if("function"===typeof e&&(i=e(r),t.isValidElement(i)))return i;var a=as("recharts-pie-label-text",FC(e));return t.createElement(fC,EL({},r,{alignmentBaseline:"middle",className:a}),i)})(a,p,jd(e,o))))});return t.createElement(Fk,{className:"recharts-pie-labels"},h)}function DL(e){var{sectors:r,props:n,showLabels:i}=e,{label:a}=n;return"object"===typeof a&&null!=a&&"position"in a?t.createElement(iT,{label:a}):t.createElement(RL,{sectors:r,props:n,showLabels:i})}function LL(e){var{sectors:r,activeShape:n,inactiveShape:i,allOtherPieProps:a,shape:s,id:o}=e,l=cd(J_),c=cd(Z_),u=cd(ew),{onMouseEnter:d,onClick:h,onMouseLeave:f}=a,p=OL(a,_L),m=YR(d,a.dataKey,o),g=GR(f),v=XR(h,a.dataKey,o);return null==r||0===r.length?null:t.createElement(t.Fragment,null,r.map((e,d)=>{if(0===(null===e||void 0===e?void 0:e.startAngle)&&0===(null===e||void 0===e?void 0:e.endAngle)&&1!==r.length)return null;var h=null==u||u===o,f=String(d)===l&&(null==c||a.dataKey===c)&&h,y=n&&f?n:l?i:null,b=kL(kL({},e),{},{stroke:e.stroke,tabIndex:-1,[qd]:d,[Kd]:o});return t.createElement(Fk,EL({key:"sector-".concat(null===e||void 0===e?void 0:e.startAngle,"-").concat(null===e||void 0===e?void 0:e.endAngle,"-").concat(e.midAngle,"-").concat(d),tabIndex:-1,className:"recharts-pie-sector"},zC(p,e,d),{onMouseEnter:m(e,d),onMouseLeave:g(e,d),onClick:v(e,d)}),t.createElement(gR,EL({option:null!==s&&void 0!==s?s:y,index:d,shapeType:"sector",isActive:f},b)))}))}function ML(e){var{showLabels:r,sectors:n,children:i}=e,a=(0,t.useMemo)(()=>r&&n?n.map(e=>({value:e.value,payload:e.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:e.cx,cy:e.cy,innerRadius:e.innerRadius,outerRadius:e.outerRadius,startAngle:e.startAngle,endAngle:e.endAngle,clockWise:!1},fill:e.fill})):[],[n,r]);return t.createElement(rT,{value:r?a:void 0},i)}function IL(e){var{props:r,previousSectorsRef:n,id:i}=e,{sectors:a,isAnimationActive:s,animationBegin:o,animationDuration:l,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:h,onAnimationEnd:f}=r,p=$P(r,"recharts-pie-"),m=n.current,[g,v]=(0,t.useState)(!1),y=(0,t.useCallback)(()=>{"function"===typeof f&&f(),v(!1)},[f]),b=(0,t.useCallback)(()=>{"function"===typeof h&&h(),v(!0)},[h]);return t.createElement(ML,{showLabels:!g,sectors:a},t.createElement(XP,{animationId:p,begin:o,duration:l,isActive:s,easing:c,onAnimationStart:b,onAnimationEnd:y,key:p},e=>{var s,o=[],l=a&&a[0],c=null!==(s=null===l||void 0===l?void 0:l.startAngle)&&void 0!==s?s:0;return null===a||void 0===a||a.forEach((t,r)=>{var n=m&&m[r],i=r>0?cs()(t,"paddingAngle",0):0;if(n){var a=_s(n.endAngle-n.startAngle,t.endAngle-t.startAngle,e),s=kL(kL({},t),{},{startAngle:c+i,endAngle:c+a+i});o.push(s),c=s.endAngle}else{var{endAngle:l,startAngle:u}=t,d=_s(0,l-u,e),h=kL(kL({},t),{},{startAngle:c+i,endAngle:c+d+i});o.push(h),c=h.endAngle}}),n.current=o,t.createElement(Fk,null,t.createElement(LL,{sectors:o,activeShape:u,inactiveShape:d,allOtherPieProps:r,shape:r.shape,id:i}))}),t.createElement(DL,{showLabels:!g,sectors:a,props:r}),r.children)}var BL={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ry.area};function zL(e){var{id:r}=e,n=OL(e,wL),{hide:i,className:a,rootTabIndex:s}=e,o=(0,t.useMemo)(()=>hT(e.children,UR),[e.children]),l=cd(e=>bL(e,r,o)),c=(0,t.useRef)(null),u=as("recharts-pie",a);return i||null==l?(c.current=null,t.createElement(Fk,{tabIndex:s,className:u})):t.createElement(pC,{zIndex:e.zIndex},t.createElement(NL,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:l,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:r}),t.createElement(Fk,{tabIndex:s,className:u},t.createElement(IL,{props:kL(kL({},n),{},{sectors:l}),previousSectorsRef:c,id:r})))}function FL(e){var r=mk(e,BL),{id:n}=r,i=OL(r,SL),a=xj(i);return t.createElement(VT,{id:n,type:"pie"},e=>t.createElement(t.Fragment,null,t.createElement(XT,{type:"pie",id:e,data:i.data,dataKey:i.dataKey,hide:i.hide,angleAxisId:0,radiusAxisId:0,name:i.name,nameKey:i.nameKey,tooltipType:i.tooltipType,legendType:i.legendType,fill:i.fill,cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,paddingAngle:i.paddingAngle,minAngle:i.minAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius,cornerRadius:i.cornerRadius,presentationProps:a,maxRadius:r.maxRadius}),t.createElement(PL,EL({},i,{id:e})),t.createElement(zL,EL({},i,{id:e}))))}FL.displayName="Pie";const HL=e=>{let{title:t,value:r,icon:n,currency:i="",trend:a=null,trendValue:s=null}=e;return(0,Ft.jsxs)("div",{className:"stat-card",style:{background:"var(--card-bg)",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)",display:"flex",flexDirection:"column",minHeight:"140px",height:"100%"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",marginBottom:"16px",flexShrink:0},children:[(0,Ft.jsx)("div",{style:{width:"48px",height:"48px",borderRadius:"12px",background:"var(--accent-color)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"24px",flexShrink:0},children:n}),a&&(0,Ft.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"up"===a?"#22c55e":"#ef4444",fontSize:"14px",fontWeight:500,flexShrink:0},children:["up"===a?(0,Ft.jsx)(ki,{}):(0,Ft.jsx)(ji,{}),s&&(0,Ft.jsxs)("span",{children:[s,"%"]})]})]}),(0,Ft.jsx)("h3",{style:{fontSize:"13px",color:"var(--text-secondary)",margin:"0 0 12px 0",fontWeight:500,lineHeight:"1.4",wordWrap:"break-word",overflowWrap:"break-word",flex:"0 0 auto",minHeight:"36px"},children:t}),(0,Ft.jsxs)("div",{style:{fontSize:"28px",fontWeight:700,color:"var(--text-primary)",lineHeight:"1.2",marginTop:"auto",wordBreak:"break-word",overflowWrap:"break-word"},children:[i,"number"===typeof r?r.toLocaleString("ru-RU",{minimumFractionDigits:r%1===0?0:2,maximumFractionDigits:r%1===0?0:2}):r]})]})},UL=e=>{let{data:t,period:r}=e;const n=t.map(e=>({date:new Date(e.date).toLocaleDateString("ru-RU",{day:"days"===r?"numeric":void 0,month:"short",year:"months"===r?"numeric":void 0}),USD:e.USD||0,UAH:e.UAH||0,RUB:e.RUB||0}));return(0,Ft.jsxs)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)",marginBottom:"24px"},children:[(0,Ft.jsxs)("h3",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600},children:["\u0414\u043e\u0445\u043e\u0434\u044b \u043f\u043e ","days"===r?"\u0434\u043d\u044f\u043c":"weeks"===r?"\u043d\u0435\u0434\u0435\u043b\u044f\u043c":"\u043c\u0435\u0441\u044f\u0446\u0430\u043c"]}),(0,Ft.jsx)(Ks,{width:"100%",height:300,children:(0,Ft.jsxs)(xk,{data:n,children:[(0,Ft.jsx)(gE,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),(0,Ft.jsx)(DE,{dataKey:"date",stroke:"var(--text-secondary)",style:{fontSize:"12px"}}),(0,Ft.jsx)(YE,{stroke:"var(--text-secondary)",style:{fontSize:"12px"}}),(0,Ft.jsx)($N,{contentStyle:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"8px"}}),(0,Ft.jsx)(KA,{}),(0,Ft.jsx)(zR,{type:"monotone",dataKey:"USD",stroke:"#3b82f6",strokeWidth:2,name:"USD",dot:{r:4}}),(0,Ft.jsx)(zR,{type:"monotone",dataKey:"UAH",stroke:"#22c55e",strokeWidth:2,name:"UAH",dot:{r:4}}),(0,Ft.jsx)(zR,{type:"monotone",dataKey:"RUB",stroke:"#ef4444",strokeWidth:2,name:"RUB",dot:{r:4}})]})})]})},WL=e=>{let{data:t,period:r}=e;const n=t.map(e=>({date:new Date(e.date).toLocaleDateString("ru-RU",{day:"days"===r?"numeric":void 0,month:"short",year:"months"===r?"numeric":void 0}),count:e.count||0}));return(0,Ft.jsxs)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)",marginBottom:"24px"},children:[(0,Ft.jsxs)("h3",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600},children:["\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u043e ","days"===r?"\u0434\u043d\u044f\u043c":"weeks"===r?"\u043d\u0435\u0434\u0435\u043b\u044f\u043c":"\u043c\u0435\u0441\u044f\u0446\u0430\u043c"]}),(0,Ft.jsx)(Ks,{width:"100%",height:300,children:(0,Ft.jsxs)(HR,{data:n,children:[(0,Ft.jsx)(gE,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),(0,Ft.jsx)(DE,{dataKey:"date",stroke:"var(--text-secondary)",style:{fontSize:"12px"}}),(0,Ft.jsx)(YE,{stroke:"var(--text-secondary)",style:{fontSize:"12px"}}),(0,Ft.jsx)($N,{contentStyle:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"8px"}}),(0,Ft.jsx)(HD,{dataKey:"count",fill:"var(--accent-color)",radius:[8,8,0,0]})]})})]})},qL=e=>{let{data:t,period:r}=e;const n=t.map(e=>({date:new Date(e.date).toLocaleDateString("ru-RU",{day:"days"===r?"numeric":void 0,month:"short",year:"months"===r?"numeric":void 0}),count:e.count||0}));return(0,Ft.jsxs)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)",marginBottom:"24px"},children:[(0,Ft.jsxs)("h3",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600},children:["\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043f\u043e ","days"===r?"\u0434\u043d\u044f\u043c":"weeks"===r?"\u043d\u0435\u0434\u0435\u043b\u044f\u043c":"\u043c\u0435\u0441\u044f\u0446\u0430\u043c"]}),(0,Ft.jsx)(Ks,{width:"100%",height:300,children:(0,Ft.jsxs)(HR,{data:n,children:[(0,Ft.jsx)(gE,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),(0,Ft.jsx)(DE,{dataKey:"date",stroke:"var(--text-secondary)",style:{fontSize:"12px"}}),(0,Ft.jsx)(YE,{stroke:"var(--text-secondary)",style:{fontSize:"12px"}}),(0,Ft.jsx)($N,{contentStyle:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"8px"}}),(0,Ft.jsx)(HD,{dataKey:"count",fill:"#8b5cf6",radius:[8,8,0,0]})]})})]})},KL=e=>{let{data:t}=e;const r=["#3b82f6","#22c55e","#ef4444","#f59e0b","#8b5cf6","#ec4899","#06b6d4"],n=t.map((e,t)=>({name:e.provider,value:e.count,color:r[t%r.length]}));return(0,Ft.jsxs)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h3",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600},children:"\u0420\u0430\u0441\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u0435 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439 \u043f\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430\u043c"}),(0,Ft.jsx)(Ks,{width:"100%",height:300,children:(0,Ft.jsxs)(QD,{children:[(0,Ft.jsx)(FL,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:e=>{let{name:t,percent:r}=e;return"".concat(t,": ").concat((100*r).toFixed(0),"%")},outerRadius:100,fill:"#8884d8",dataKey:"value",children:n.map((e,t)=>(0,Ft.jsx)(UR,{fill:e.color},"cell-".concat(t)))}),(0,Ft.jsx)($N,{})]})})]})};const VL=function(){const[e,r]=(0,t.useState)(null),[n,i]=(0,t.useState)(!0),[a,s]=(0,t.useState)(null),[o,l]=(0,t.useState)("days"),[c,d]=(0,t.useState)({start:"",end:""}),{token:h}=Wt(),f=e=>{const t=new Date;let r,n;switch(t.setHours(0,0,0,0),e){case"today":r=new Date(t),n=new Date(t);break;case"yesterday":r=new Date(t),r.setDate(r.getDate()-1),n=new Date(r);break;case"last7days":r=new Date(t),r.setDate(r.getDate()-7),n=new Date(t);break;case"last30days":r=new Date(t),r.setDate(r.getDate()-30),n=new Date(t);break;case"thisMonth":r=new Date(t.getFullYear(),t.getMonth(),1),n=new Date(t);break;case"lastMonth":r=new Date(t.getFullYear(),t.getMonth()-1,1),n=new Date(t.getFullYear(),t.getMonth(),0);break;default:return}d({start:r.toISOString().split("T")[0],end:n.toISOString().split("T")[0]})},p=e=>{l(e),d({start:"",end:""})};if((0,t.useEffect)(()=>{h&&(async()=>{i(!0),s(null);try{let e="/api/admin/analytics?period=".concat(o);c.start&&c.end&&(e+="&start_date=".concat(c.start,"T00:00:00Z&end_date=").concat(c.end,"T23:59:59Z"));const t=await fetch(e,{headers:{Authorization:"Bearer ".concat(h)}});if(!t.ok)throw new Error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0443");const n=await t.json();r(n)}catch(YM){s(YM.message)}finally{i(!1)}})()},[h,o,c]),n)return(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0430\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0438..."})})});if(a)return(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"message-error",children:a})})});if(!e)return(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsx)("section",{children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"})})});const{overview:m,revenue_by_period:g,user_registrations_by_period:v,payments_by_period:y,payment_providers:b,tariffs_analytics:x,promocodes_analytics:_,comparison:w,trial_stats:S,referral_stats:j,conversion_funnel:k,top_users:C}=e||{};return(0,Ft.jsx)("main",{className:"admin-page-content",children:(0,Ft.jsxs)("section",{children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px",flexWrap:"wrap",gap:"16px"},children:[(0,Ft.jsx)("h2",{children:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"nowrap",alignItems:"center",overflowX:"auto",paddingBottom:"4px"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",gap:"4px",alignItems:"center",flexWrap:"nowrap",background:"var(--card-bg)",padding:"6px 10px",borderRadius:"10px",border:"1px solid var(--border-color)",flexShrink:0},children:[(0,Ft.jsx)("span",{style:{fontSize:"11px",color:"var(--text-secondary)",marginRight:"6px",fontWeight:"500",whiteSpace:"nowrap"},children:"\u0411\u044b\u0441\u0442\u0440\u044b\u0439 \u0432\u044b\u0431\u043e\u0440:"}),(0,Ft.jsx)("button",{className:"btn btn-secondary",onClick:()=>f("today"),style:{fontSize:"11px",padding:"5px 10px",whiteSpace:"nowrap",minWidth:"60px",borderRadius:"6px",lineHeight:"1.2"},children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f"}),(0,Ft.jsx)("button",{className:"btn btn-secondary",onClick:()=>f("yesterday"),style:{fontSize:"11px",padding:"5px 10px",whiteSpace:"nowrap",minWidth:"60px",borderRadius:"6px",lineHeight:"1.2"},children:"\u0412\u0447\u0435\u0440\u0430"}),(0,Ft.jsx)("button",{className:"btn btn-secondary",onClick:()=>f("last7days"),style:{fontSize:"11px",padding:"5px 10px",whiteSpace:"nowrap",minWidth:"65px",borderRadius:"6px",lineHeight:"1.2"},children:"7 \u0434\u043d\u0435\u0439"}),(0,Ft.jsx)("button",{className:"btn btn-secondary",onClick:()=>f("last30days"),style:{fontSize:"11px",padding:"5px 10px",whiteSpace:"nowrap",minWidth:"70px",borderRadius:"6px",lineHeight:"1.2"},children:"30 \u0434\u043d\u0435\u0439"}),(0,Ft.jsx)("button",{className:"btn btn-secondary",onClick:()=>f("thisMonth"),style:{fontSize:"11px",padding:"5px 10px",whiteSpace:"nowrap",minWidth:"85px",borderRadius:"6px",lineHeight:"1.2"},children:"\u042d\u0442\u043e\u0442 \u043c\u0435\u0441\u044f\u0446"}),(0,Ft.jsx)("button",{className:"btn btn-secondary",onClick:()=>f("lastMonth"),style:{fontSize:"11px",padding:"5px 10px",whiteSpace:"nowrap",minWidth:"115px",borderRadius:"6px",lineHeight:"1.2"},children:"\u041f\u0440\u043e\u0448\u043b\u044b\u0439 \u043c\u0435\u0441\u044f\u0446"})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"6px",alignItems:"center",flexShrink:0},children:[(0,Ft.jsx)("span",{style:{fontSize:"11px",color:"var(--text-secondary)",whiteSpace:"nowrap"},children:"\u041f\u0435\u0440\u0438\u043e\u0434:"}),(0,Ft.jsx)("input",{type:"date",value:c.start,onChange:e=>d(u(u({},c),{},{start:e.target.value})),onFocus:e=>{var t,r;return null===(t=(r=e.target).showPicker)||void 0===t?void 0:t.call(r)},style:{padding:"5px 8px",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--card-bg)",color:"var(--text-primary)",fontSize:"11px",minWidth:"110px",maxWidth:"110px"},placeholder:"\u041d\u0430\u0447\u0430\u043b\u043e"}),(0,Ft.jsx)("span",{style:{color:"var(--text-secondary)",fontSize:"12px"},children:"\u2014"}),(0,Ft.jsx)("input",{type:"date",value:c.end,onChange:e=>d(u(u({},c),{},{end:e.target.value})),onFocus:e=>{var t,r;return null===(t=(r=e.target).showPicker)||void 0===t?void 0:t.call(r)},max:(new Date).toISOString().split("T")[0],style:{padding:"5px 8px",borderRadius:"6px",border:"1px solid var(--border-color)",background:"var(--card-bg)",color:"var(--text-primary)",fontSize:"11px",minWidth:"110px",maxWidth:"110px"},placeholder:"\u041a\u043e\u043d\u0435\u0446"}),(c.start||c.end)&&(0,Ft.jsx)("button",{className:"btn btn-secondary",onClick:()=>d({start:"",end:""}),style:{minWidth:"auto",padding:"5px 10px",fontSize:"11px",borderRadius:"6px",lineHeight:"1.2"},children:"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c"})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"6px",alignItems:"center",flexShrink:0},children:[(0,Ft.jsx)("span",{style:{fontSize:"11px",color:"var(--text-secondary)",whiteSpace:"nowrap"},children:"\u0413\u0440\u0443\u043f\u043f\u0438\u0440\u043e\u0432\u043a\u0430:"}),(0,Ft.jsxs)("button",{className:"btn ".concat("days"!==o||c.start?"btn-secondary":""),onClick:()=>p("days"),style:{minWidth:"70px",padding:"5px 8px",fontSize:"11px",borderRadius:"6px",lineHeight:"1.2"},children:[(0,Ft.jsx)(Sn,{style:{width:"12px",height:"12px"}})," \u0414\u043d\u0438"]}),(0,Ft.jsxs)("button",{className:"btn ".concat("weeks"!==o||c.start?"btn-secondary":""),onClick:()=>p("weeks"),style:{minWidth:"70px",padding:"5px 8px",fontSize:"11px",borderRadius:"6px",lineHeight:"1.2"},children:[(0,Ft.jsx)(Sn,{style:{width:"12px",height:"12px"}})," \u041d\u0435\u0434\u0435\u043b\u0438"]}),(0,Ft.jsxs)("button",{className:"btn ".concat("months"!==o||c.start?"btn-secondary":""),onClick:()=>p("months"),style:{minWidth:"70px",padding:"5px 8px",fontSize:"11px",borderRadius:"6px",lineHeight:"1.2"},children:[(0,Ft.jsx)(Sn,{style:{width:"12px",height:"12px"}})," \u041c\u0435\u0441\u044f\u0446\u044b"]})]})]})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:600},children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),(0,Ft.jsxs)("div",{className:"stats-grid",style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"24px"},children:[(0,Ft.jsx)(HL,{title:"\u0412\u0441\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439",value:m.total_users,icon:(0,Ft.jsx)(Ei,{})}),(0,Ft.jsx)(HL,{title:"\u0412\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0445",value:m.verified_users,icon:(0,Ft.jsx)(fi,{})}),(0,Ft.jsx)(HL,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0432 \u0431\u043e\u0442\u0435",value:m.users_with_telegram,icon:(0,Ft.jsx)(Fn,{})}),(0,Ft.jsx)(HL,{title:"\u0412\u0441\u0435\u0433\u043e \u043a\u043e\u043d\u0444\u0438\u0433\u043e\u0432",value:m.total_configs,icon:(0,Ft.jsx)(di,{})}),(0,Ft.jsx)(HL,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u043a\u043e\u043d\u0444\u0438\u0433\u0430\u043c\u0438",value:m.users_with_configs,icon:(0,Ft.jsx)(yn,{})}),(0,Ft.jsx)(HL,{title:"\u0412\u0441\u0435\u0433\u043e \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439",value:m.total_payments,icon:(0,Ft.jsx)(Rn,{})}),(0,Ft.jsx)(HL,{title:"\u0423\u0441\u043f\u0435\u0448\u043d\u044b\u0445 \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439",value:m.successful_payments,icon:(0,Ft.jsx)(jn,{})}),(0,Ft.jsx)(HL,{title:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0441\u0442\u044c \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439",value:"".concat(m.payment_success_rate,"%"),icon:(0,Ft.jsx)(ki,{})}),(0,Ft.jsx)(HL,{title:"\u0414\u043e\u0445\u043e\u0434 (USD)",value:m.total_revenue.USD,currency:"$",icon:(0,Ft.jsx)(Ln,{})}),(0,Ft.jsx)(HL,{title:"\u0414\u043e\u0445\u043e\u0434 (UAH)",value:m.total_revenue.UAH,currency:"\u20b4",icon:(0,Ft.jsx)(Oi,{})}),(0,Ft.jsx)(HL,{title:"\u0414\u043e\u0445\u043e\u0434 (RUB)",value:m.total_revenue.RUB,currency:"\u20bd",icon:(0,Ft.jsx)(Oi,{})}),m.arpu_by_currency&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(HL,{title:"ARPU (USD)",value:m.arpu_by_currency.USD,currency:"$",icon:(0,Ft.jsx)(ki,{})}),(0,Ft.jsx)(HL,{title:"ARPU (UAH)",value:m.arpu_by_currency.UAH,currency:"\u20b4",icon:(0,Ft.jsx)(ki,{})}),(0,Ft.jsx)(HL,{title:"ARPU (RUB)",value:m.arpu_by_currency.RUB,currency:"\u20bd",icon:(0,Ft.jsx)(ki,{})})]}),m.avg_payment_by_currency&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(HL,{title:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a (USD)",value:m.avg_payment_by_currency.USD,currency:"$",icon:(0,Ft.jsx)(Ln,{})}),(0,Ft.jsx)(HL,{title:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a (UAH)",value:m.avg_payment_by_currency.UAH,currency:"\u20b4",icon:(0,Ft.jsx)(Ln,{})}),(0,Ft.jsx)(HL,{title:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439 \u0447\u0435\u043a (RUB)",value:m.avg_payment_by_currency.RUB,currency:"\u20bd",icon:(0,Ft.jsx)(Ln,{})})]}),void 0!==m.conversion_rate&&(0,Ft.jsx)(HL,{title:"\u041a\u043e\u043d\u0432\u0435\u0440\u0441\u0438\u044f (\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u2192 \u043f\u043b\u0430\u0442\u0435\u0436\u0438)",value:"".concat(m.conversion_rate,"%"),icon:(0,Ft.jsx)(jn,{})}),void 0!==m.trial_users&&(0,Ft.jsx)(HL,{title:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u0442\u0440\u0438\u0430\u043b",value:m.trial_users,icon:(0,Ft.jsx)(yn,{})}),void 0!==m.users_with_referrer&&(0,Ft.jsx)(HL,{title:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u043e\u043c",value:m.users_with_referrer,icon:(0,Ft.jsx)(Ei,{})})]})]}),w&&(0,Ft.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:600},children:"\u0421\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0438\u043e\u0434\u043e\u0432"}),(0,Ft.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:[(0,Ft.jsxs)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h4",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:600},children:"\u041d\u043e\u0432\u044b\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"}),(0,Ft.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ft.jsx)("span",{children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f:"}),(0,Ft.jsx)("strong",{children:w.users.today})]}),(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ft.jsx)("span",{children:"\u0412\u0447\u0435\u0440\u0430:"}),(0,Ft.jsx)("strong",{children:w.users.yesterday})]}),w.users.this_week>0&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"8px",paddingTop:"8px",borderTop:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("span",{children:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f:"}),(0,Ft.jsx)("strong",{children:w.users.this_week})]}),(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ft.jsx)("span",{children:"\u041f\u0440\u043e\u0448\u043b\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f:"}),(0,Ft.jsx)("strong",{children:w.users.last_week})]}),w.users.this_week>w.users.last_week&&(0,Ft.jsxs)("div",{style:{color:"#22c55e",fontSize:"14px"},children:["\u2191 \u0420\u043e\u0441\u0442 \u043d\u0430 ",Math.round((w.users.this_week-w.users.last_week)/w.users.last_week*100),"%"]})]})]})]}),(0,Ft.jsxs)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"20px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h4",{style:{margin:"0 0 16px 0",fontSize:"16px",fontWeight:600},children:"\u041f\u043b\u0430\u0442\u0435\u0436\u0438"}),(0,Ft.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ft.jsx)("span",{children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f:"}),(0,Ft.jsx)("strong",{children:w.payments.today})]}),(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ft.jsx)("span",{children:"\u0412\u0447\u0435\u0440\u0430:"}),(0,Ft.jsx)("strong",{children:w.payments.yesterday})]}),w.payments.this_week>0&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"8px",paddingTop:"8px",borderTop:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("span",{children:"\u042d\u0442\u0430 \u043d\u0435\u0434\u0435\u043b\u044f:"}),(0,Ft.jsx)("strong",{children:w.payments.this_week})]}),(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ft.jsx)("span",{children:"\u041f\u0440\u043e\u0448\u043b\u0430\u044f \u043d\u0435\u0434\u0435\u043b\u044f:"}),(0,Ft.jsx)("strong",{children:w.payments.last_week})]}),w.payments.this_week>w.payments.last_week&&(0,Ft.jsxs)("div",{style:{color:"#22c55e",fontSize:"14px"},children:["\u2191 \u0420\u043e\u0441\u0442 \u043d\u0430 ",Math.round((w.payments.this_week-w.payments.last_week)/w.payments.last_week*100),"%"]})]})]})]})]})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:600},children:"\u0413\u0440\u0430\u0444\u0438\u043a\u0438"}),g&&g.length>0&&(0,Ft.jsx)(UL,{data:g,period:o}),(0,Ft.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"24px"},children:[v&&v.length>0&&(0,Ft.jsx)(WL,{data:v,period:o}),y&&y.length>0&&(0,Ft.jsx)(qL,{data:y,period:o})]})]}),x&&x.length>0&&(0,Ft.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:600},children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0442\u0430\u0440\u0438\u0444\u0430\u043c"}),(0,Ft.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(500px, 1fr))",gap:"24px"},children:[(0,Ft.jsxs)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h4",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600},children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u043e\u0441\u0442\u044c \u0442\u0430\u0440\u0438\u0444\u043e\u0432"}),(0,Ft.jsx)(Ks,{width:"100%",height:300,children:(0,Ft.jsxs)(HR,{data:x.slice(0,10),children:[(0,Ft.jsx)(gE,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),(0,Ft.jsx)(DE,{dataKey:"name",stroke:"var(--text-secondary)",style:{fontSize:"12px"},angle:-45,textAnchor:"end",height:80}),(0,Ft.jsx)(YE,{stroke:"var(--text-secondary)",style:{fontSize:"12px"}}),(0,Ft.jsx)($N,{contentStyle:{background:"var(--card-bg)",border:"1px solid var(--border-color)",borderRadius:"8px"}}),(0,Ft.jsx)(HD,{dataKey:"count",fill:"var(--accent-color)",radius:[8,8,0,0]})]})})]}),(0,Ft.jsxs)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h4",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600},children:"\u0414\u043e\u0445\u043e\u0434\u044b \u043f\u043e \u0442\u0430\u0440\u0438\u0444\u0430\u043c"}),(0,Ft.jsx)("div",{style:{overflowX:"auto"},children:(0,Ft.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:600},children:"\u0422\u0430\u0440\u0438\u0444"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:"\u041f\u0440\u043e\u0434\u0430\u0436"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:"USD"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:"UAH"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:"RUB"})]})}),(0,Ft.jsx)("tbody",{children:x.map((e,t)=>{var r,n,i;return(0,Ft.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("td",{style:{padding:"12px",fontWeight:500},children:e.name}),(0,Ft.jsx)("td",{style:{padding:"12px",textAlign:"right"},children:e.count}),(0,Ft.jsxs)("td",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:["$",((null===(r=e.revenue_by_currency)||void 0===r?void 0:r.USD)||0).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Ft.jsxs)("td",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:["\u20b4",((null===(n=e.revenue_by_currency)||void 0===n?void 0:n.UAH)||0).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Ft.jsxs)("td",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:["\u20bd",((null===(i=e.revenue_by_currency)||void 0===i?void 0:i.RUB)||0).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},t)})})]})})]})]})]}),k&&(0,Ft.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:600},children:"\u0412\u043e\u0440\u043e\u043d\u043a\u0430 \u043a\u043e\u043d\u0432\u0435\u0440\u0441\u0438\u0438"}),(0,Ft.jsx)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)"},children:(0,Ft.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[{label:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",value:k.registrations,rate:100,color:"#3b82f6"},{label:"\u0412\u0435\u0440\u0438\u0444\u0438\u0446\u0438\u0440\u043e\u0432\u0430\u043d\u044b",value:k.verified,rate:k.rates.verification_rate,color:"#22c55e"},{label:"\u0412 Telegram \u0431\u043e\u0442\u0435",value:k.with_telegram,rate:k.rates.telegram_rate,color:"#8b5cf6"},{label:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u0442\u0440\u0438\u0430\u043b",value:k.used_trial,rate:k.rates.trial_rate,color:"#f59e0b"},{label:"\u0421\u043e\u0432\u0435\u0440\u0448\u0438\u043b\u0438 \u043f\u043b\u0430\u0442\u0435\u0436",value:k.made_payment,rate:k.rates.payment_rate,color:"#ef4444"},{label:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u043f\u043e\u0434\u043f\u0438\u0441\u043a\u0430",value:k.active_subscription,rate:k.rates.subscription_rate,color:"#06b6d4"}].map((e,t)=>(0,Ft.jsxs)("div",{style:{position:"relative"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,Ft.jsx)("span",{style:{fontWeight:500},children:e.label}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"center"},children:[(0,Ft.jsx)("span",{style:{fontWeight:600},children:e.value}),(0,Ft.jsxs)("span",{style:{color:"var(--text-secondary)",fontSize:"14px",minWidth:"60px",textAlign:"right"},children:[e.rate.toFixed(1),"%"]})]})]}),(0,Ft.jsx)("div",{style:{width:"100%",height:"24px",background:"var(--border-color)",borderRadius:"12px",overflow:"hidden",position:"relative"},children:(0,Ft.jsx)("div",{style:{width:"".concat(e.rate,"%"),height:"100%",background:e.color,borderRadius:"12px",transition:"width 0.3s ease"}})})]},t))})})]}),S&&(0,Ft.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:600},children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u0442\u0440\u0438\u0430\u043b\u0430\u043c"}),(0,Ft.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"20px"},children:[(0,Ft.jsx)(HL,{title:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u0442\u0440\u0438\u0430\u043b",value:S.total_used,icon:(0,Ft.jsx)(yn,{})}),(0,Ft.jsx)(HL,{title:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0442\u0440\u0438\u0430\u043b\u0430",value:"".concat(S.usage_rate,"%"),icon:(0,Ft.jsx)(ki,{})}),(0,Ft.jsx)(HL,{title:"\u041d\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0438 \u0442\u0440\u0438\u0430\u043b",value:S.not_used,icon:(0,Ft.jsx)(Ei,{})}),(0,Ft.jsx)(HL,{title:"\u041a\u043e\u043d\u0432\u0435\u0440\u0441\u0438\u044f \u0438\u0437 \u0442\u0440\u0438\u0430\u043b\u0430 \u0432 \u043f\u043b\u0430\u0442\u0435\u0436",value:"".concat(S.conversion_from_trial,"%"),icon:(0,Ft.jsx)(jn,{})})]})]}),j&&(0,Ft.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:600},children:"\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044c\u043d\u0430\u044f \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0430"}),(0,Ft.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"24px"},children:[(0,Ft.jsxs)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h4",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:600},children:"\u041e\u0431\u0449\u0430\u044f \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430"}),(0,Ft.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ft.jsx)("span",{children:"\u0412\u0441\u0435\u0433\u043e \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u043e\u0432:"}),(0,Ft.jsx)("strong",{children:j.total_referrals})]}),(0,Ft.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ft.jsx)("span",{children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0441 \u0440\u0435\u0444\u0435\u0440\u0430\u043b\u0430\u043c\u0438:"}),(0,Ft.jsx)("strong",{children:j.total_referrers})]})]})]}),j.top_referrers&&j.top_referrers.length>0&&(0,Ft.jsxs)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h4",{style:{margin:"0 0 16px 0",fontSize:"18px",fontWeight:600},children:"\u0422\u043e\u043f \u0440\u0435\u0444\u0435\u0440\u0435\u0440\u043e\u0432"}),(0,Ft.jsx)("div",{style:{overflowX:"auto"},children:(0,Ft.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[(0,Ft.jsx)("th",{style:{padding:"8px",textAlign:"left",fontWeight:600,fontSize:"14px"},children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),(0,Ft.jsx)("th",{style:{padding:"8px",textAlign:"right",fontWeight:600,fontSize:"14px"},children:"\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u043e\u0432"})]})}),(0,Ft.jsx)("tbody",{children:j.top_referrers.map((e,t)=>(0,Ft.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("td",{style:{padding:"8px"},children:(0,Ft.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[(0,Ft.jsx)("span",{style:{fontWeight:500,fontSize:"14px"},children:e.email}),e.telegram_username&&(0,Ft.jsxs)("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:["@",e.telegram_username]})]})}),(0,Ft.jsx)("td",{style:{padding:"8px",textAlign:"right",fontWeight:600},children:e.referrals_count})]},t))})]})})]})]})]}),C&&C.length>0&&(0,Ft.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:600},children:"\u0422\u043e\u043f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u043f\u043e \u0442\u0440\u0430\u0442\u0430\u043c"}),(0,Ft.jsx)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)"},children:(0,Ft.jsx)("div",{style:{overflowX:"auto"},children:(0,Ft.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:600},children:"#"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:600},children:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:"USD"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:"UAH"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:"RUB"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:"\u041f\u043b\u0430\u0442\u0435\u0436\u0435\u0439"})]})}),(0,Ft.jsx)("tbody",{children:C.map((e,t)=>{var r,n,i;return(0,Ft.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("td",{style:{padding:"12px",fontWeight:600,color:"var(--text-secondary)"},children:t+1}),(0,Ft.jsx)("td",{style:{padding:"12px"},children:(0,Ft.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,Ft.jsx)("span",{style:{fontWeight:500},children:e.email}),e.telegram_username&&(0,Ft.jsxs)("span",{style:{fontSize:"12px",color:"var(--text-secondary)"},children:["@",e.telegram_username]})]})}),(0,Ft.jsxs)("td",{style:{padding:"12px",textAlign:"right",fontWeight:600,color:"#22c55e"},children:["$",((null===(r=e.spending_by_currency)||void 0===r?void 0:r.USD)||0).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Ft.jsxs)("td",{style:{padding:"12px",textAlign:"right",fontWeight:600,color:"#22c55e"},children:["\u20b4",((null===(n=e.spending_by_currency)||void 0===n?void 0:n.UAH)||0).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Ft.jsxs)("td",{style:{padding:"12px",textAlign:"right",fontWeight:600,color:"#22c55e"},children:["\u20bd",((null===(i=e.spending_by_currency)||void 0===i?void 0:i.RUB)||0).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Ft.jsx)("td",{style:{padding:"12px",textAlign:"right"},children:e.payments_count})]},e.id)})})]})})})]}),_&&_.length>0&&(0,Ft.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:600},children:"\u0421\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u0430 \u043f\u043e \u043f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u0430\u043c"}),(0,Ft.jsx)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)"},children:(0,Ft.jsx)("div",{style:{overflowX:"auto"},children:(0,Ft.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:600},children:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0439"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:"USD"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:"UAH"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:"RUB"})]})}),(0,Ft.jsx)("tbody",{children:_.map((e,t)=>{var r,n,i;return(0,Ft.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("td",{style:{padding:"12px",fontWeight:500},children:e.code}),(0,Ft.jsx)("td",{style:{padding:"12px",textAlign:"right"},children:e.count}),(0,Ft.jsxs)("td",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:["$",((null===(r=e.revenue_by_currency)||void 0===r?void 0:r.USD)||0).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Ft.jsxs)("td",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:["\u20b4",((null===(n=e.revenue_by_currency)||void 0===n?void 0:n.UAH)||0).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,Ft.jsxs)("td",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:["\u20bd",((null===(i=e.revenue_by_currency)||void 0===i?void 0:i.RUB)||0).toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},t)})})]})})})]}),b&&b.length>0&&(0,Ft.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,Ft.jsx)("h3",{style:{marginBottom:"20px",fontSize:"20px",fontWeight:600},children:"\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u044b \u043f\u043b\u0430\u0442\u0435\u0436\u0435\u0439"}),(0,Ft.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(400px, 1fr))",gap:"24px"},children:[(0,Ft.jsx)(KL,{data:b}),(0,Ft.jsxs)("div",{style:{background:"var(--card-bg)",borderRadius:"12px",padding:"24px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",border:"1px solid var(--border-color)"},children:[(0,Ft.jsx)("h3",{style:{margin:"0 0 24px 0",fontSize:"18px",fontWeight:600},children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u043f\u043e \u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430\u043c"}),(0,Ft.jsx)("div",{style:{overflowX:"auto"},children:(0,Ft.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ft.jsx)("thead",{children:(0,Ft.jsxs)("tr",{style:{borderBottom:"2px solid var(--border-color)"},children:[(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"left",fontWeight:600,color:"var(--text-primary)"},children:"\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600,color:"var(--text-primary)"},children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),(0,Ft.jsx)("th",{style:{padding:"12px",textAlign:"right",fontWeight:600,color:"var(--text-primary)"},children:"\u0421\u0443\u043c\u043c\u0430"})]})}),(0,Ft.jsx)("tbody",{children:b.map((e,t)=>(0,Ft.jsxs)("tr",{style:{borderBottom:"1px solid var(--border-color)","&:hover":{background:"var(--hover-bg)"}},children:[(0,Ft.jsx)("td",{style:{padding:"12px",fontWeight:500},children:e.provider}),(0,Ft.jsx)("td",{style:{padding:"12px",textAlign:"right"},children:e.count}),(0,Ft.jsx)("td",{style:{padding:"12px",textAlign:"right",fontWeight:600},children:e.total.toLocaleString("ru-RU",{minimumFractionDigits:2,maximumFractionDigits:2})})]},t))})]})})]})]})]})]})})},YL=[{value:"traffic",label:"\u0422\u0440\u0430\u0444\u0438\u043a",icon:"\ud83d\udcca",unit:"GB"},{value:"devices",label:"\u0423\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430",icon:"\ud83d\udcf1",unit:"\u0448\u0442"},{value:"squad",label:"\u0421\u043a\u0432\u0430\u0434",icon:"\ud83d\udc65",unit:""}],GL=["\ud83d\udcca","\ud83d\udcf1","\ud83d\udc65","\ud83d\ude80","\ud83d\udc8e","\u26a1","\ud83d\udd25","\u2728","\ud83c\udfaf","\ud83d\udcab","\ud83c\udf1f","\ud83d\udce6","\ud83d\udd0c","\ud83d\udcbb","\ud83d\udda5\ufe0f","\ud83d\udcf6"];function XL(){const{token:e}=Wt(),[r,n]=(0,t.useState)([]),[i,a]=(0,t.useState)([]),[s,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(!1),[d,h]=(0,t.useState)(null),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)({option_type:"traffic",name:"",description:"",value:"",squad_uuid:"",unit:"GB",price_uah:0,price_rub:0,price_usd:0,is_active:!0,sort_order:0,icon:"\ud83d\udcca"}),b=(0,t.useCallback)(async()=>{if(e){o(!0),h(null);try{const t=await fetch("/api/admin/options",{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043e\u043f\u0446\u0438\u0439");const r=await t.json();n(Array.isArray(r)?r:[])}catch(YM){h(YM.message)}finally{o(!1)}}},[e]),x=(0,t.useCallback)(async()=>{if(e)try{const t=await fetch("/api/admin/squads",{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)return;const r=await t.json();a(Array.isArray(r)?r:[])}catch(t){}},[e]);(0,t.useEffect)(()=>{b(),x()},[b,x]);const _=(0,t.useMemo)(()=>{const e={traffic:[],devices:[],squad:[]};for(const t of r)e[t.option_type]&&e[t.option_type].push(t);return e},[r]),w=e=>{switch(e){case"traffic":return(0,Ft.jsx)(Un,{});case"devices":return(0,Ft.jsx)(mi,{});case"squad":return(0,Ft.jsx)(Ei,{});default:return(0,Ft.jsx)(ti,{})}},S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"traffic";const t=YL.find(t=>t.value===e)||YL[0];g(null),y({option_type:e,name:"",description:"",value:"",squad_uuid:"",unit:t.unit||"",price_uah:0,price_rub:0,price_usd:0,is_active:!0,sort_order:r.length,icon:t.icon||"\ud83d\udce6"}),p(!0)};return(0,Ft.jsxs)("div",{className:"admin-options-page",children:[(0,Ft.jsxs)("div",{className:"options-header",children:[(0,Ft.jsxs)("div",{className:"options-title-section",children:[(0,Ft.jsxs)("h1",{className:"options-title",children:[(0,Ft.jsx)(ti,{className:"title-icon"}),"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u043e\u043f\u0446\u0438\u0438"]}),(0,Ft.jsx)("p",{className:"options-subtitle",children:"\u0423\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043e\u043f\u0446\u0438\u044f\u043c\u0438 \u0434\u043b\u044f \u0434\u043e\u043a\u0443\u043f\u043a\u0438: \u0442\u0440\u0430\u0444\u0438\u043a, \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432\u0430, \u0441\u043a\u0432\u0430\u0434\u044b"})]}),(0,Ft.jsxs)("div",{className:"options-actions",children:[(0,Ft.jsxs)("button",{className:"btn-refresh",onClick:b,disabled:s,children:[(0,Ft.jsx)(li,{className:s?"spin":""}),"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"]}),(0,Ft.jsxs)("button",{className:"btn-create",onClick:()=>S("traffic"),children:[(0,Ft.jsx)(si,{}),"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u043f\u0446\u0438\u044e"]})]})]}),d&&(0,Ft.jsxs)("div",{className:"options-error",children:[(0,Ft.jsx)("div",{children:d}),(0,Ft.jsx)("button",{onClick:()=>h(null),"aria-label":"Close",children:(0,Ft.jsx)(Pi,{})})]}),s?(0,Ft.jsxs)("div",{className:"options-loading",children:[(0,Ft.jsx)(li,{className:"spin"})," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."]}):(0,Ft.jsx)("div",{className:"options-groups",children:YL.map(t=>(0,Ft.jsxs)("div",{className:"options-group",children:[(0,Ft.jsxs)("div",{className:"group-header",children:[(0,Ft.jsxs)("div",{className:"group-title",children:[w(t.value),t.label,(0,Ft.jsx)("span",{className:"group-count",children:(_[t.value]||[]).length})]}),(0,Ft.jsx)("button",{className:"btn-add-small",onClick:()=>S(t.value),title:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",children:(0,Ft.jsx)(si,{})})]}),(0,Ft.jsx)("div",{className:"options-list",children:0===(_[t.value]||[]).length?(0,Ft.jsx)("div",{className:"options-empty",children:"\u041e\u043f\u0446\u0438\u0439 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442"}):(_[t.value]||[]).map(t=>{var r;return(0,Ft.jsxs)("div",{className:"option-card",children:[(0,Ft.jsx)("div",{className:"option-icon",title:"\u0418\u043a\u043e\u043d\u043a\u0430",children:t.icon||"\ud83d\udce6"}),(0,Ft.jsxs)("div",{className:"option-main",children:[(0,Ft.jsxs)("div",{className:"option-title-row",children:[(0,Ft.jsx)("div",{className:"option-name",children:t.name}),(0,Ft.jsxs)("div",{className:"option-badge",children:[t.value,t.unit?" ".concat(t.unit):""]}),!t.is_active&&(0,Ft.jsx)("div",{className:"option-badge",style:{background:"rgba(239,68,68,.12)",color:"#ef4444",borderColor:"rgba(239,68,68,.25)"},children:"OFF"})]}),t.description?(0,Ft.jsx)("div",{className:"option-desc",children:t.description}):null,(0,Ft.jsxs)("div",{className:"option-meta",children:[(0,Ft.jsxs)("span",{className:"meta-chip",children:["UAH: ",Number(t.price_uah||0).toFixed(2)]}),(0,Ft.jsxs)("span",{className:"meta-chip",children:["RUB: ",Number(t.price_rub||0).toFixed(2)]}),(0,Ft.jsxs)("span",{className:"meta-chip",children:["USD: ",Number(t.price_usd||0).toFixed(2)]}),(0,Ft.jsxs)("span",{className:"meta-chip",children:["order: ",null!==(r=t.sort_order)&&void 0!==r?r:0]}),"squad"===t.option_type&&t.squad_uuid?(0,Ft.jsxs)("span",{className:"meta-chip",children:["squad: ",t.squad_uuid]}):null]})]}),(0,Ft.jsxs)("div",{className:"option-actions",children:[(0,Ft.jsx)("button",{className:"btn-icon-sm",onClick:()=>(async t=>{if(e)try{if(!(await fetch("/api/admin/options/".concat(t.id,"/toggle"),{method:"POST",headers:{Authorization:"Bearer ".concat(e)}})).ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0435\u0440\u0435\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f");await b()}catch(YM){h(YM.message)}})(t),title:"\u0410\u043a\u0442\u0438\u0432\u043d\u043e\u0441\u0442\u044c",children:t.is_active?(0,Ft.jsx)(wi,{}):(0,Ft.jsx)(_i,{})}),(0,Ft.jsx)("button",{className:"btn-icon-sm",onClick:()=>(e=>{var t;g(e),y({option_type:e.option_type||"traffic",name:e.name||"",description:e.description||"",value:null!==(t=e.value)&&void 0!==t?t:"",squad_uuid:e.squad_uuid||"",unit:e.unit||"",price_uah:e.price_uah||0,price_rub:e.price_rub||0,price_usd:e.price_usd||0,is_active:Boolean(e.is_active),sort_order:e.sort_order||0,icon:e.icon||"\ud83d\udce6"}),p(!0)})(t),title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",children:(0,Ft.jsx)(ii,{})}),(0,Ft.jsx)("button",{className:"btn-icon-sm btn-danger",onClick:()=>(async t=>{if(!e)return;if(window.confirm('\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043e\u043f\u0446\u0438\u044e "'.concat(t.name,'"?')))try{if(!(await fetch("/api/admin/options/".concat(t.id),{method:"DELETE",headers:{Authorization:"Bearer ".concat(e)}})).ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f");await b()}catch(YM){h(YM.message)}})(t),title:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",children:(0,Ft.jsx)(Si,{})})]})]},t.id)})})]},t.value))}),f&&(0,Ft.jsx)("div",{className:"options-modal-backdrop",onClick:()=>!l&&p(!1),children:(0,Ft.jsxs)("div",{className:"options-modal",onClick:e=>e.stopPropagation(),children:[(0,Ft.jsxs)("div",{className:"options-modal-header",children:[(0,Ft.jsxs)("div",{className:"options-modal-title",children:[(0,Ft.jsx)(ti,{}),m?"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043e\u043f\u0446\u0438\u044e":"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043e\u043f\u0446\u0438\u044e"]}),(0,Ft.jsx)("button",{className:"btn-icon-sm",onClick:()=>!l&&p(!1),"aria-label":"Close",children:(0,Ft.jsx)(Pi,{})})]}),(0,Ft.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e){c(!0),h(null);try{const t=m?"/api/admin/options/".concat(m.id):"/api/admin/options",r=m?"PUT":"POST";if(!(await fetch(t,{method:r,headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(v)})).ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f");p(!1),await b()}catch(Ph){h(Ph.message)}finally{c(!1)}}},children:[(0,Ft.jsx)("div",{className:"options-modal-body",children:(0,Ft.jsxs)("div",{className:"options-form-grid",children:[(0,Ft.jsxs)("div",{className:"options-form-field",children:[(0,Ft.jsx)("label",{children:"\u0422\u0438\u043f"}),(0,Ft.jsx)("select",{value:v.option_type,onChange:e=>(e=>{const t=YL.find(t=>t.value===e);y(r=>{var n,i;return u(u({},r),{},{option_type:e,unit:null!==(n=null===t||void 0===t?void 0:t.unit)&&void 0!==n?n:r.unit,icon:null!==(i=null===t||void 0===t?void 0:t.icon)&&void 0!==i?i:r.icon,squad_uuid:"squad"===e?r.squad_uuid:""})})})(e.target.value),children:YL.map(e=>(0,Ft.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,Ft.jsxs)("div",{className:"options-form-field",children:[(0,Ft.jsx)("label",{children:"\u0418\u043a\u043e\u043d\u043a\u0430"}),(0,Ft.jsx)("select",{value:v.icon,onChange:e=>y(t=>u(u({},t),{},{icon:e.target.value})),children:GL.map(e=>(0,Ft.jsx)("option",{value:e,children:e},e))})]}),(0,Ft.jsxs)("div",{className:"options-form-field",children:[(0,Ft.jsx)("label",{children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"}),(0,Ft.jsx)("input",{value:v.name,onChange:e=>y(t=>u(u({},t),{},{name:e.target.value})),required:!0})]}),(0,Ft.jsxs)("div",{className:"options-form-field",children:[(0,Ft.jsx)("label",{children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),(0,Ft.jsx)("input",{value:v.value,onChange:e=>y(t=>u(u({},t),{},{value:e.target.value})),required:!0})]}),(0,Ft.jsxs)("div",{className:"options-form-field",children:[(0,Ft.jsx)("label",{children:"\u0415\u0434. \u0438\u0437\u043c\u0435\u0440\u0435\u043d\u0438\u044f"}),(0,Ft.jsx)("input",{value:v.unit,onChange:e=>y(t=>u(u({},t),{},{unit:e.target.value}))})]}),(0,Ft.jsxs)("div",{className:"options-form-field",children:[(0,Ft.jsx)("label",{children:"\u041f\u043e\u0440\u044f\u0434\u043e\u043a"}),(0,Ft.jsx)("input",{type:"number",value:v.sort_order,onChange:e=>y(t=>u(u({},t),{},{sort_order:parseInt(e.target.value,10)||0}))})]}),"squad"===v.option_type&&(0,Ft.jsxs)("div",{className:"options-form-field",style:{gridColumn:"1 / -1"},children:[(0,Ft.jsx)("label",{children:"Squad UUID"}),i.length>0?(0,Ft.jsxs)("select",{value:v.squad_uuid||"",onChange:e=>y(t=>u(u({},t),{},{squad_uuid:e.target.value})),children:[(0,Ft.jsx)("option",{value:"",children:"\u2014 \u0432\u044b\u0431\u0440\u0430\u0442\u044c \u2014"}),i.map(e=>(0,Ft.jsx)("option",{value:e.uuid||"",children:e.name?"".concat(e.name," (").concat(e.uuid,")"):e.uuid||e.id},e.uuid||e.id))]}):(0,Ft.jsx)("input",{value:v.squad_uuid||"",onChange:e=>y(t=>u(u({},t),{},{squad_uuid:e.target.value})),placeholder:"UUID \u0441\u043a\u0432\u0430\u0434\u0430"})]}),(0,Ft.jsxs)("div",{className:"options-form-field",style:{gridColumn:"1 / -1"},children:[(0,Ft.jsx)("label",{children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,Ft.jsx)("textarea",{value:v.description,onChange:e=>y(t=>u(u({},t),{},{description:e.target.value}))})]}),(0,Ft.jsxs)("div",{className:"options-form-field",children:[(0,Ft.jsx)("label",{children:"\u0426\u0435\u043d\u0430 UAH"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",value:v.price_uah,onChange:e=>y(t=>u(u({},t),{},{price_uah:parseFloat(e.target.value)||0}))})]}),(0,Ft.jsxs)("div",{className:"options-form-field",children:[(0,Ft.jsx)("label",{children:"\u0426\u0435\u043d\u0430 RUB"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",value:v.price_rub,onChange:e=>y(t=>u(u({},t),{},{price_rub:parseFloat(e.target.value)||0}))})]}),(0,Ft.jsxs)("div",{className:"options-form-field",children:[(0,Ft.jsx)("label",{children:"\u0426\u0435\u043d\u0430 USD"}),(0,Ft.jsx)("input",{type:"number",step:"0.01",value:v.price_usd,onChange:e=>y(t=>u(u({},t),{},{price_usd:parseFloat(e.target.value)||0}))})]}),(0,Ft.jsxs)("div",{className:"options-form-field",children:[(0,Ft.jsx)("label",{children:"\u0410\u043a\u0442\u0438\u0432\u043d\u0430"}),(0,Ft.jsxs)("select",{value:v.is_active?"1":"0",onChange:e=>y(t=>u(u({},t),{},{is_active:"1"===e.target.value})),children:[(0,Ft.jsx)("option",{value:"1",children:"\u0414\u0430"}),(0,Ft.jsx)("option",{value:"0",children:"\u041d\u0435\u0442"})]})]})]})}),(0,Ft.jsxs)("div",{className:"options-modal-footer",children:[(0,Ft.jsx)("button",{type:"button",className:"btn-secondary",onClick:()=>!l&&p(!1),disabled:l,children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Ft.jsx)("button",{type:"submit",className:"btn-primary",disabled:l,children:l?"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435...":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})})]})}const $L=()=>{const{theme:e,toggleTheme:t}=qa();return(0,Ft.jsx)("button",{className:"btn-icon",onClick:t,title:"light"===e?"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0442\u0435\u043c\u043d\u0443\u044e":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0432\u0435\u0442\u043b\u0443\u044e",children:"light"===e?(0,Ft.jsx)(ei,{}):(0,Ft.jsx)(yi,{})})};function JL(){const{t:e}=sn(),{logout:r,user:n}=Wt(),i=je(),a=_e(),[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(null),[u,d]=(0,t.useState)(!1),[h,f]=(0,t.useState)(!1),p=()=>{r(),i("/login")};(0,t.useEffect)(()=>{const e=()=>f(window.scrollY>10);return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]),(0,t.useEffect)(()=>{o(!1),c(null),d(!1)},[a.pathname]),(0,t.useEffect)(()=>{const e=e=>{const t=e.target;t instanceof Element&&(t.closest(".nav-category-dropdown")||t.closest(".nav-user-menu")||(c(null),d(!1)))};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);const m=(0,t.useMemo)(()=>[{id:"main",label:"\u0413\u043b\u0430\u0432\u043d\u043e\u0435",items:[{path:"/admin/dashboard",icon:Vn,label:"\u0414\u0430\u0448\u0431\u043e\u0440\u0434"}]},{id:"clients",label:"\u041a\u043b\u0438\u0435\u043d\u0442\u044b",items:[{path:"/admin/users",icon:Ei,label:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438"},{path:"/admin/referrals",icon:zn,label:"\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044b"}]},{id:"sales",label:"\u041f\u0440\u043e\u0434\u0430\u0436\u0438",items:[{path:"/admin/tariffs",icon:fi,label:"\u0422\u0430\u0440\u0438\u0444\u044b"},{path:"/admin/promocodes",icon:xi,label:"\u041f\u0440\u043e\u043c\u043e\u043a\u043e\u0434\u044b"},{path:"/admin/payments",icon:Rn,label:"\u041f\u043b\u0430\u0442\u0435\u0436\u0438"},{path:"/admin/sales",icon:jn,label:"\u041e\u0442\u0447\u0451\u0442\u044b"},{path:"/admin/analytics",icon:ki,label:"\u0410\u043d\u0430\u043b\u0438\u0442\u0438\u043a\u0430"}]},{id:"infra",label:"\u0418\u043d\u0444\u0440\u0430",items:[{path:"/admin/squads",icon:di,label:"\u0421\u043a\u0432\u0430\u0434\u044b"},{path:"/admin/nodes",icon:di,label:"\u041d\u043e\u0434\u044b"}]},{id:"support",label:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430",items:[{path:"/admin/support",icon:Yn,label:"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430"}]}],[]),g=(0,t.useMemo)(()=>[{path:"/admin/trial-settings",icon:Sn,label:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0442\u0440\u0438\u0430\u043b\u0430"},{path:"/admin/tariff-levels",icon:fi,label:"\u0423\u0440\u043e\u0432\u043d\u0438 \u0442\u0430\u0440\u0438\u0444\u043e\u0432"},{path:"/admin/tariff-features",icon:fi,label:"\u0424\u0443\u043d\u043a\u0446\u0438\u0438 \u0442\u0430\u0440\u0438\u0444\u043e\u0432"},{path:"/admin/options",icon:ti,label:"\u041e\u043f\u0446\u0438\u0438"},{path:"/admin/system-settings",icon:hi,label:"\u0421\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},{path:"/admin/branding",icon:ni,label:"\u0411\u0440\u0435\u043d\u0434\u0438\u043d\u0433"},{path:"/admin/theme",icon:ri,label:"\u0421\u0442\u0438\u043b\u044c \u043f\u0430\u043d\u0435\u043b\u0438"},{path:"/admin/bot-constructor",icon:wn,label:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440 \u0431\u043e\u0442\u0430"},{path:"/admin/broadcast",icon:Jn,label:e("broadcast.title")}],[e]),v=a.pathname.startsWith("/admin/trial-settings")||a.pathname.startsWith("/admin/tariff-levels")||a.pathname.startsWith("/admin/tariff-features")||a.pathname.startsWith("/admin/options")||a.pathname.startsWith("/admin/system-settings")||a.pathname.startsWith("/admin/branding")||a.pathname.startsWith("/admin/theme")||a.pathname.startsWith("/admin/bot-constructor")||a.pathname.startsWith("/admin/broadcast");return(0,Ft.jsxs)("div",{className:"admin-layout admin-layout-v3",children:[(0,Ft.jsxs)("nav",{className:"admin-top-nav ".concat(h?"scrolled":""),children:[(0,Ft.jsxs)("div",{className:"nav-container",children:[(0,Ft.jsxs)("div",{className:"nav-brand",children:[(0,Ft.jsx)("div",{className:"logo-text",children:"STEALTHNET"}),(0,Ft.jsx)("span",{className:"logo-subtitle",children:"Admin Panel"})]}),(0,Ft.jsxs)("div",{className:"nav-menu-desktop",children:[m.map(e=>{const t=l===e.id,r=(e=>e.items.some(e=>a.pathname===e.path))(e);if(1===e.items.length){const t=e.items[0],r=t.icon,n=a.pathname===t.path;return(0,Ft.jsxs)(Tt,{to:t.path,className:"nav-item ".concat(n?"active":""),title:e.label,children:[(0,Ft.jsx)(r,{className:"nav-icon"}),(0,Ft.jsx)("span",{className:"nav-label",children:e.label})]},e.id)}const n=e.items[0].icon;return(0,Ft.jsxs)("div",{className:"nav-category-dropdown",children:[(0,Ft.jsxs)("button",{type:"button",className:"nav-item dropdown-toggle ".concat(r?"active":""),title:e.label,onClick:()=>{c(t=>t===e.id?null:e.id),d(!1)},children:[(0,Ft.jsx)(n,{className:"nav-icon"}),(0,Ft.jsx)("span",{className:"nav-label",children:e.label}),(0,Ft.jsx)(Cn,{className:"dropdown-arrow ".concat(t?"open":"")})]}),t&&(0,Ft.jsx)("div",{className:"dropdown-menu category-dropdown-menu",children:e.items.map(e=>{const t=e.icon,r=a.pathname===e.path;return(0,Ft.jsxs)(Tt,{to:e.path,className:"dropdown-item ".concat(r?"active":""),onClick:()=>c(null),children:[(0,Ft.jsx)(t,{className:"dropdown-icon"}),(0,Ft.jsx)("span",{children:e.label})]},e.path)})})]},e.id)}),(0,Ft.jsxs)("div",{className:"nav-category-dropdown",children:[(0,Ft.jsxs)("button",{type:"button",className:"nav-item dropdown-toggle ".concat(v?"active":""),title:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",onClick:()=>{c(e=>"settings"===e?null:"settings"),d(!1)},children:[(0,Ft.jsx)(hi,{className:"nav-icon"}),(0,Ft.jsx)("span",{className:"nav-label",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),(0,Ft.jsx)(Cn,{className:"dropdown-arrow ".concat("settings"===l?"open":"")})]}),"settings"===l&&(0,Ft.jsx)("div",{className:"dropdown-menu category-dropdown-menu",children:g.map(e=>{const t=e.icon,r=a.pathname===e.path;return(0,Ft.jsxs)(Tt,{to:e.path,className:"dropdown-item ".concat(r?"active":""),onClick:()=>c(null),children:[(0,Ft.jsx)(t,{className:"dropdown-icon"}),(0,Ft.jsx)("span",{children:e.label})]},e.path)})})]})]}),(0,Ft.jsxs)("div",{className:"nav-actions",children:[(0,Ft.jsx)($L,{}),(0,Ft.jsxs)("div",{className:"nav-user-menu",children:[(0,Ft.jsxs)("button",{className:"nav-user-btn",onClick:()=>{d(e=>!e),c(null)},type:"button",children:[(0,Ft.jsx)(Ci,{className:"user-icon"}),(0,Ft.jsx)("span",{className:"user-email",children:(null===n||void 0===n?void 0:n.email)||"Admin"}),(0,Ft.jsx)(Cn,{className:"dropdown-arrow ".concat(u?"open":"")})]}),u&&(0,Ft.jsxs)("div",{className:"user-dropdown-menu",children:[(0,Ft.jsx)("div",{className:"user-dropdown-header",children:(0,Ft.jsxs)("div",{className:"user-info",children:[(0,Ft.jsx)("div",{className:"user-name",children:(null===n||void 0===n?void 0:n.email)||"Admin"}),(0,Ft.jsx)("div",{className:"user-role",children:"\u0410\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440"})]})}),(0,Ft.jsxs)("button",{onClick:p,className:"user-dropdown-item logout",type:"button",children:[(0,Ft.jsx)($n,{}),(0,Ft.jsx)("span",{children:"\u0412\u044b\u0439\u0442\u0438"})]})]})]}),(0,Ft.jsx)("button",{className:"mobile-menu-toggle",onClick:()=>o(e=>!e),"aria-label":"\u041c\u0435\u043d\u044e",type:"button",children:s?(0,Ft.jsx)(Pi,{}):(0,Ft.jsx)(Qn,{})})]})]}),s&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("div",{className:"mobile-menu-overlay",onClick:()=>o(!1),"aria-hidden":"true"}),(0,Ft.jsxs)("div",{className:"nav-menu-mobile",role:"navigation","aria-label":"\u041c\u0435\u043d\u044e",children:[m.map(e=>(0,Ft.jsxs)("div",{className:"mobile-menu-section",children:[(0,Ft.jsx)("div",{className:"mobile-section-title",children:e.label}),e.items.map(e=>{const t=e.icon,r=a.pathname===e.path;return(0,Ft.jsxs)(Tt,{to:e.path,className:"nav-item-mobile ".concat(r?"active":""),onClick:()=>o(!1),children:[(0,Ft.jsx)(t,{className:"nav-item-mobile-icon"}),(0,Ft.jsx)("span",{children:e.label})]},e.path)})]},e.id)),(0,Ft.jsxs)("div",{className:"mobile-menu-section",children:[(0,Ft.jsx)("div",{className:"mobile-section-title",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"}),g.map(e=>{const t=e.icon,r=a.pathname===e.path;return(0,Ft.jsxs)(Tt,{to:e.path,className:"nav-item-mobile ".concat(r?"active":""),onClick:()=>o(!1),children:[(0,Ft.jsx)(t,{className:"nav-item-mobile-icon"}),(0,Ft.jsx)("span",{children:e.label})]},e.path)})]}),(0,Ft.jsxs)("button",{onClick:p,className:"nav-item-mobile logout",type:"button",children:[(0,Ft.jsx)($n,{className:"nav-item-mobile-icon"}),(0,Ft.jsx)("span",{children:"\u0412\u044b\u0439\u0442\u0438"})]})]})]})]}),(0,Ft.jsx)("main",{className:"admin-main-content",children:(0,Ft.jsx)("div",{className:"admin-page-wrapper",children:(0,Ft.jsx)(Ve,{})})})]})}const QL=()=>{const{theme:e,toggleTheme:t}=qa();return(0,Ft.jsx)("button",{className:"btn-icon",onClick:t,title:"light"===e?"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0442\u0435\u043c\u043d\u0443\u044e":"\u0412\u043a\u043b\u044e\u0447\u0438\u0442\u044c \u0441\u0432\u0435\u0442\u043b\u0443\u044e",children:"light"===e?(0,Ft.jsx)(ei,{}):(0,Ft.jsx)(yi,{})})},ZL=e=>{let{activeLanguages:t,activeCurrencies:r}=e;const{t:n,i18n:i}=sn(),{token:a,user:s,setUser:o,currency:l,setCurrency:c}=Wt(),d=i.resolvedLanguage,h=l,f=[{code:"ru",label:n("languages.ru")},{code:"ua",label:n("languages.ua")},{code:"cn",label:n("languages.cn")},{code:"en",label:n("languages.en")}].filter(e=>t.includes(e.code)),p=[{code:"uah",label:"\u20b4 UAH"},{code:"rub",label:"\u20bd RUB"},{code:"usd",label:"$ USD"}].filter(e=>r.includes(e.code)),m=async e=>{if(a)try{const t=await fetch("/api/client/settings",{method:"POST",headers:{Authorization:"Bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(e)}),r=await t.json().catch(()=>({}));return!!t.ok||(console.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438:",r.message||t.status),!1)}catch(YM){return console.error("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438",YM),!1}};return(0,Ft.jsxs)("div",{className:"settings-switcher",children:[(0,Ft.jsxs)("div",{className:"setting-control",children:[(0,Ft.jsx)("label",{htmlFor:"currency-select",children:(0,Ft.jsx)(_n,{})}),(0,Ft.jsx)("select",{id:"currency-select",value:h,onChange:e=>{return t=e.target.value,c(t),localStorage.setItem("userCurrency",t),s&&o(e=>u(u({},e),{},{preferred_currency:t})),void m({preferred_currency:t,currency:t});var t},className:"lang-select",children:p.map(e=>(0,Ft.jsx)("option",{value:e.code,children:e.label},e.code))})]}),(0,Ft.jsxs)("div",{className:"setting-control",children:[(0,Ft.jsx)("label",{htmlFor:"lang-select",children:(0,Ft.jsx)(Kn,{})}),(0,Ft.jsx)("select",{id:"lang-select",value:d,onChange:e=>{return t=e.target.value,i.changeLanguage(t),localStorage.setItem("userLang",t),s&&o(e=>u(u({},e),{},{preferred_lang:t})),void m({lang:t,preferred_lang:t});var t},className:"lang-select",children:f.map(e=>(0,Ft.jsx)("option",{value:e.code,children:e.label},e.code))})]})]})};function eM(){const{t:e,i18n:r}=sn(),{user:n,setUser:i,logout:a,token:s,currency:o,setCurrency:l,loading:c}=Wt(),d=je(),h=_e(),[f,p]=(0,t.useState)(!1),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)(!0),[b,x]=(0,t.useState)(!0),[_,w]=(0,t.useState)(["ru","ua","en","cn"]),[S,j]=(0,t.useState)(["uah","rub","usd"]),[k,C]=(0,t.useState)(!1),[E,O]=(0,t.useState)(!1),[P,N]=(0,t.useState)({current_password:"",new_password:"",confirm_password:""}),[A,T]=(0,t.useState)(!1),[R,D]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=localStorage.getItem("userLang"),t=localStorage.getItem("userCurrency");e&&r.resolvedLanguage!==e&&r.changeLanguage(e),t&&o!==t&&l(t)},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=await fetch("/api/public/branding");if(e.ok){const t=await e.json();g(t)}else g({site_name:"",dashboard_tagline:""})}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0431\u0440\u0435\u043d\u0434\u0438\u043d\u0433\u0430:",YM),g({site_name:"",dashboard_tagline:""})}finally{y(!1)}})(),(async()=>{try{const e=await fetch("/api/public/system-settings");if(e.ok){const t=await e.json();x(!1!==t.show_language_currency_switcher),t.active_languages&&Array.isArray(t.active_languages)&&w(t.active_languages),t.active_currencies&&Array.isArray(t.active_currencies)&&j(t.active_currencies)}}catch(YM){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a:",YM)}})()},[]),(0,t.useEffect)(()=>{if(!s)return;if(n){const e=n.preferred_lang||localStorage.getItem("userLang")||"ru",t=n.preferred_currency||localStorage.getItem("userCurrency")||"uah";return r.resolvedLanguage!==e&&(r.changeLanguage(e),localStorage.setItem("userLang",e)),void(o!==t&&(l(t),localStorage.setItem("userCurrency",t)))}let e=!1;return(async()=>{try{if(await new Promise(e=>setTimeout(e,50)),e)return;const t=await fetch("/api/client/me?force_refresh=true",{headers:{Authorization:"Bearer ".concat(s)}});if(e)return;if(!t.ok){if(401===t.status){if(await new Promise(e=>setTimeout(e,200)),e)return;const t=await fetch("/api/client/me?force_refresh=true",{headers:{Authorization:"Bearer ".concat(s)}});if(!t.ok){if(401===t.status)return a(),void d("/login");throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438")}const n=await t.json(),c=n.response||n;if(e)return;i(c);const u=c.preferred_lang||localStorage.getItem("userLang")||"ru",h=c.preferred_currency||localStorage.getItem("userCurrency")||"uah";return r.resolvedLanguage!==u&&(r.changeLanguage(u),localStorage.setItem("userLang",u)),void(o!==h&&(l(h),localStorage.setItem("userCurrency",h)))}throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438")}const n=await t.json(),c=n.response||n;if(e)return;i(c);const u=c.preferred_lang||localStorage.getItem("userLang")||"ru",h=c.preferred_currency||localStorage.getItem("userCurrency")||"uah";r.resolvedLanguage!==u&&(r.changeLanguage(u),localStorage.setItem("userLang",u)),o!==h&&(l(h),localStorage.setItem("userCurrency",h))}catch(t){e||console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0432 ClientLayout:",t)}})(),()=>{e=!0}},[s,n,i,a,r,o,l,d]);const L=()=>{a(),d("/login")};(0,t.useEffect)(()=>{const e=()=>D(window.scrollY>10);return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]),(0,t.useEffect)(()=>{p(!1),C(!1)},[h.pathname]),(0,t.useEffect)(()=>{const e=e=>{const t=e.target;t instanceof Element&&(t.closest(".nav-user-menu")||C(!1))};return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);return!s||n&&!c?s?v||!m?(0,Ft.jsx)("div",{className:"client-shell",children:(0,Ft.jsx)("div",{className:"loading-mini",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})}):(0,Ft.jsxs)("div",{className:"client-shell client-layout-v3",children:[(0,Ft.jsxs)("nav",{className:"client-top-nav ".concat(R?"scrolled":""),children:[(0,Ft.jsxs)("div",{className:"nav-container",children:[(0,Ft.jsxs)("div",{className:"nav-brand",children:[m.logo_url?(0,Ft.jsx)("img",{src:m.logo_url,alt:m.site_name||"Logo",className:"nav-logo-image",onError:e=>{e.currentTarget.style.display="none"}}):null,(0,Ft.jsx)("div",{className:"logo-text",children:m.site_name||"STEALTHNET"}),(0,Ft.jsx)("span",{className:"logo-subtitle",children:m.dashboard_tagline||"Client Panel"})]}),(0,Ft.jsxs)("div",{className:"nav-menu-desktop",children:[(0,Ft.jsxs)(Tt,{to:"/dashboard/subscription",className:"nav-item ".concat("/dashboard/subscription"===h.pathname?"active":""),children:[(0,Ft.jsx)(Vn,{className:"nav-icon"}),(0,Ft.jsx)("span",{className:"nav-label",children:e("sidebar.status","\u0421\u0442\u0430\u0442\u0443\u0441")})]}),(0,Ft.jsxs)(Tt,{to:"/dashboard/servers",className:"nav-item ".concat("/dashboard/servers"===h.pathname?"active":""),children:[(0,Ft.jsx)(di,{className:"nav-icon"}),(0,Ft.jsx)("span",{className:"nav-label",children:e("sidebar.servers","\u0421\u0435\u0440\u0432\u0435\u0440\u044b")})]}),(0,Ft.jsxs)(Tt,{to:"/dashboard/tariffs",className:"nav-item ".concat("/dashboard/tariffs"===h.pathname?"active":""),children:[(0,Ft.jsx)(fi,{className:"nav-icon"}),(0,Ft.jsx)("span",{className:"nav-label",children:e("sidebar.tariffs","\u0422\u0430\u0440\u0438\u0444\u044b")})]}),(0,Ft.jsxs)(Tt,{to:"/dashboard/options",className:"nav-item ".concat("/dashboard/options"===h.pathname?"active":""),children:[(0,Ft.jsx)(ti,{className:"nav-icon"}),(0,Ft.jsx)("span",{className:"nav-label",children:e("sidebar.options","\u041e\u043f\u0446\u0438\u0438")})]}),(0,Ft.jsxs)(Tt,{to:"/dashboard/referrals",className:"nav-item ".concat("/dashboard/referrals"===h.pathname?"active":""),children:[(0,Ft.jsx)(Ei,{className:"nav-icon"}),(0,Ft.jsx)("span",{className:"nav-label",children:e("sidebar.referrals","\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044b")})]}),(0,Ft.jsxs)(Tt,{to:"/dashboard/support",className:"nav-item ".concat(h.pathname.startsWith("/dashboard/support")?"active":""),children:[(0,Ft.jsx)(Yn,{className:"nav-icon"}),(0,Ft.jsx)("span",{className:"nav-label",children:e("sidebar.support","\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430")})]}),(0,Ft.jsxs)(Tt,{to:"/dashboard/profile",className:"nav-item ".concat("/dashboard/profile"===h.pathname?"active":""),children:[(0,Ft.jsx)(Ci,{className:"nav-icon"}),(0,Ft.jsx)("span",{className:"nav-label",children:e("sidebar.profile","\u041f\u0440\u043e\u0444\u0438\u043b\u044c")})]})]}),(0,Ft.jsxs)("div",{className:"nav-actions",children:[b&&(0,Ft.jsx)("div",{className:"desktop-settings-switcher",children:(0,Ft.jsx)(ZL,{activeLanguages:_,activeCurrencies:S})}),(0,Ft.jsx)(QL,{}),(0,Ft.jsxs)("div",{className:"nav-user-menu",children:[(0,Ft.jsxs)("button",{className:"nav-user-btn",onClick:()=>C(e=>!e),type:"button",children:[(0,Ft.jsx)(Ci,{className:"user-icon"}),(0,Ft.jsx)("span",{className:"user-email",children:(null===n||void 0===n?void 0:n.email)||"User"}),(0,Ft.jsx)(Cn,{className:"dropdown-arrow ".concat(k?"open":"")})]}),k&&(0,Ft.jsxs)("div",{className:"user-dropdown-menu",children:[(0,Ft.jsx)("div",{className:"user-dropdown-header",children:(0,Ft.jsxs)("div",{className:"user-info",children:[(0,Ft.jsx)("div",{className:"user-name",children:(null===n||void 0===n?void 0:n.email)||"User"}),(0,Ft.jsx)("div",{className:"user-role",children:"\u041a\u043b\u0438\u0435\u043d\u0442"})]})}),(0,Ft.jsxs)("button",{onClick:()=>{O(!0),C(!1)},className:"user-dropdown-item",type:"button",children:[(0,Ft.jsx)(qn,{}),(0,Ft.jsx)("span",{children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]}),(0,Ft.jsxs)("button",{onClick:L,className:"user-dropdown-item logout",type:"button",children:[(0,Ft.jsx)($n,{}),(0,Ft.jsx)("span",{children:"\u0412\u044b\u0439\u0442\u0438"})]})]})]}),(0,Ft.jsx)("button",{className:"mobile-menu-toggle",onClick:()=>p(e=>!e),"aria-label":"\u041c\u0435\u043d\u044e",type:"button",children:f?(0,Ft.jsx)(Pi,{}):(0,Ft.jsx)(Qn,{})})]})]}),f&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("div",{className:"mobile-menu-overlay",onClick:()=>p(!1)}),(0,Ft.jsxs)("div",{className:"nav-menu-mobile",children:[(0,Ft.jsxs)(Tt,{to:"/dashboard/subscription",className:"nav-item-mobile ".concat("/dashboard/subscription"===h.pathname?"active":""),onClick:()=>p(!1),children:[(0,Ft.jsx)(Vn,{}),(0,Ft.jsx)("span",{children:e("sidebar.status","\u0421\u0442\u0430\u0442\u0443\u0441")})]}),(0,Ft.jsxs)(Tt,{to:"/dashboard/servers",className:"nav-item-mobile ".concat("/dashboard/servers"===h.pathname?"active":""),onClick:()=>p(!1),children:[(0,Ft.jsx)(di,{}),(0,Ft.jsx)("span",{children:e("sidebar.servers","\u0421\u0435\u0440\u0432\u0435\u0440\u044b")})]}),(0,Ft.jsxs)(Tt,{to:"/dashboard/tariffs",className:"nav-item-mobile ".concat("/dashboard/tariffs"===h.pathname?"active":""),onClick:()=>p(!1),children:[(0,Ft.jsx)(fi,{}),(0,Ft.jsx)("span",{children:e("sidebar.tariffs","\u0422\u0430\u0440\u0438\u0444\u044b")})]}),(0,Ft.jsxs)(Tt,{to:"/dashboard/options",className:"nav-item-mobile ".concat("/dashboard/options"===h.pathname?"active":""),onClick:()=>p(!1),children:[(0,Ft.jsx)(ti,{}),(0,Ft.jsx)("span",{children:e("sidebar.options","\u041e\u043f\u0446\u0438\u0438")})]}),(0,Ft.jsxs)(Tt,{to:"/dashboard/referrals",className:"nav-item-mobile ".concat("/dashboard/referrals"===h.pathname?"active":""),onClick:()=>p(!1),children:[(0,Ft.jsx)(Ei,{}),(0,Ft.jsx)("span",{children:e("sidebar.referrals","\u0420\u0435\u0444\u0435\u0440\u0430\u043b\u044b")})]}),(0,Ft.jsxs)(Tt,{to:"/dashboard/support",className:"nav-item-mobile ".concat(h.pathname.startsWith("/dashboard/support")?"active":""),onClick:()=>p(!1),children:[(0,Ft.jsx)(Yn,{}),(0,Ft.jsx)("span",{children:e("sidebar.support","\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430")})]}),(0,Ft.jsxs)(Tt,{to:"/dashboard/profile",className:"nav-item-mobile ".concat("/dashboard/profile"===h.pathname?"active":""),onClick:()=>p(!1),children:[(0,Ft.jsx)(Ci,{}),(0,Ft.jsx)("span",{children:e("sidebar.profile","\u041f\u0440\u043e\u0444\u0438\u043b\u044c")})]}),b&&(0,Ft.jsx)("div",{className:"mobile-settings-block",children:(0,Ft.jsx)(ZL,{activeLanguages:_,activeCurrencies:S})}),(0,Ft.jsxs)("button",{onClick:L,className:"nav-item-mobile logout",type:"button",children:[(0,Ft.jsx)($n,{}),(0,Ft.jsx)("span",{children:e("header.logout","\u0412\u044b\u0439\u0442\u0438")})]})]})]})]}),(0,Ft.jsx)("main",{className:"client-main-content",children:(0,Ft.jsx)("div",{className:"client-page-wrapper",children:(0,Ft.jsx)(Ve,{})})}),E&&(0,Ft.jsx)("div",{className:"modal-overlay",onClick:()=>{A||(O(!1),N({current_password:"",new_password:"",confirm_password:""}))},style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,Ft.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),style:{backgroundColor:"var(--bg-primary)",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"90%",maxHeight:"90vh",overflow:"auto",boxShadow:"0 10px 40px rgba(0, 0, 0, 0.3)"},children:[(0,Ft.jsx)("h2",{style:{marginTop:0,marginBottom:"20px"},children:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),(0,Ft.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),P.current_password&&P.new_password)if(P.new_password.length<6)alert("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432");else if(P.new_password===P.confirm_password){T(!0);try{const e=await fetch("/api/client/change-password",{method:"POST",headers:{Authorization:"Bearer ".concat(s),"Content-Type":"application/json"},body:JSON.stringify({current_password:P.current_password,new_password:P.new_password})}),t=await e.json();if(!e.ok)throw new Error(t.message||"\u041e\u0448\u0438\u0431\u043a\u0430 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u0430\u0440\u043e\u043b\u044f");alert("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d!"),O(!1),N({current_password:"",new_password:"",confirm_password:""})}catch(e){alert("\u041e\u0448\u0438\u0431\u043a\u0430: ".concat(e.message))}finally{T(!1)}}else alert("\u041f\u0430\u0440\u043e\u043b\u0438 \u043d\u0435 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u044e\u0442");else alert("\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f")},children:[(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,Ft.jsx)("input",{type:"password",value:P.current_password,onChange:e=>N(u(u({},P),{},{current_password:e.target.value})),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",required:!0,disabled:A,style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid var(--border-color)",fontSize:"14px",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"}})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"\u041d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,Ft.jsx)("input",{type:"password",value:P.new_password,onChange:e=>N(u(u({},P),{},{new_password:e.target.value})),placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c (\u043c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432)",required:!0,minLength:6,disabled:A,style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid var(--border-color)",fontSize:"14px",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"}})]}),(0,Ft.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,Ft.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",fontSize:"14px"},children:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,Ft.jsx)("input",{type:"password",value:P.confirm_password,onChange:e=>N(u(u({},P),{},{confirm_password:e.target.value})),placeholder:"\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043d\u043e\u0432\u044b\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",required:!0,minLength:6,disabled:A,style:{width:"100%",padding:"10px",borderRadius:"6px",border:"1px solid var(--border-color)",fontSize:"14px",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)"}})]}),(0,Ft.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,Ft.jsx)("button",{type:"button",onClick:()=>{O(!1),N({current_password:"",new_password:"",confirm_password:""})},disabled:A,style:{padding:"10px 20px",borderRadius:"6px",border:"1px solid var(--border-color)",backgroundColor:"var(--bg-secondary)",color:"var(--text-primary)",cursor:"pointer",fontSize:"14px"},children:"\u041e\u0442\u043c\u0435\u043d\u0430"}),(0,Ft.jsx)("button",{type:"submit",disabled:A,style:{padding:"10px 20px",borderRadius:"6px",border:"none",backgroundColor:"var(--accent-color)",color:"white",cursor:A?"not-allowed":"pointer",fontSize:"14px",opacity:A?.6:1},children:A?"\u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430...":"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})]})})]}):null:(0,Ft.jsx)("div",{className:"loading-full",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430..."})}const tM=e=>{let{children:r}=e;const{token:n,role:i,loading:a}=Wt(),[s,o]=(0,t.useState)(!1),[l,c]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{if(n&&"CLIENT"===i)try{const e=await fetch("/api/client/me",{headers:{Authorization:"Bearer ".concat(n)}});if(403===e.status){"ACCOUNT_BLOCKED"===(await e.json()).code&&o(!0)}}catch(YM){console.error("Error checking block status:",YM)}finally{c(!1)}else c(!1)})()},[n,i]),a||l?(0,Ft.jsx)("div",{className:"loading-full",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):n?s?(0,Ft.jsx)(Ke,{to:"/blocked",replace:!0}):"CLIENT"===i?r:(0,Ft.jsx)(Ke,{to:"/admin",replace:!0}):(0,Ft.jsx)(Ke,{to:"/login",replace:!0})},rM=e=>{let{children:t}=e;const{token:r,role:n,loading:i}=Wt();return i?(0,Ft.jsx)("div",{className:"loading-full",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):r?"ADMIN"===n?t:(0,Ft.jsx)(Ke,{to:"/dashboard",replace:!0}):(0,Ft.jsx)(Ke,{to:"/login",replace:!0})},nM=e=>{let{children:t}=e;const{token:r,loading:n}=Wt();return n?(0,Ft.jsx)("div",{className:"loading-full",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):r?(0,Ft.jsx)(Ke,{to:"/",replace:!0}):t},iM=()=>{const{token:e,role:t,loading:r}=Wt();return r?(0,Ft.jsx)("div",{className:"loading-full",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}):e?(0,Ft.jsx)(Ke,{to:"ADMIN"===t?"/admin":"/dashboard",replace:!0}):(0,Ft.jsx)(Ke,{to:"/login",replace:!0})};const aM=function(){return(0,Ft.jsx)("div",{className:"App",children:(0,Ft.jsx)(t.Suspense,{fallback:(0,Ft.jsx)("div",{className:"loading-full",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:(0,Ft.jsxs)(Xe,{children:[(0,Ft.jsx)(Ye,{path:"/",element:(0,Ft.jsx)(iM,{})}),(0,Ft.jsx)(Ye,{path:"/login",element:(0,Ft.jsx)(nM,{children:(0,Ft.jsx)(Ri,{})})}),(0,Ft.jsx)(Ye,{path:"/register",element:(0,Ft.jsx)(nM,{children:(0,Ft.jsx)(Ri,{})})}),(0,Ft.jsx)(Ye,{path:"/verify",element:(0,Ft.jsx)(Di,{})}),(0,Ft.jsx)(Ye,{path:"/blocked",element:(0,Ft.jsx)(va,{})}),(0,Ft.jsxs)(Ye,{path:"/dashboard",element:(0,Ft.jsx)(tM,{children:(0,Ft.jsx)(eM,{})}),children:[(0,Ft.jsx)(Ye,{path:"subscription",element:(0,Ft.jsx)(Yi,{})}),(0,Ft.jsx)(Ye,{path:"servers",element:(0,Ft.jsx)(Qi,{})}),(0,Ft.jsx)(Ye,{path:"tariffs",element:(0,Ft.jsx)(oa,{})}),(0,Ft.jsx)(Ye,{path:"options",element:(0,Ft.jsx)(da,{})}),(0,Ft.jsx)(Ye,{path:"referrals",element:(0,Ft.jsx)(ha,{})}),(0,Ft.jsx)(Ye,{path:"support",element:(0,Ft.jsx)(ma,{})}),(0,Ft.jsx)(Ye,{path:"support/:ticketId",element:(0,Ft.jsx)(ma,{})}),(0,Ft.jsx)(Ye,{path:"profile",element:(0,Ft.jsx)(ga,{})}),(0,Ft.jsx)(Ye,{index:!0,element:(0,Ft.jsx)(Ke,{to:"/dashboard/subscription",replace:!0})})]}),(0,Ft.jsxs)(Ye,{path:"/admin",element:(0,Ft.jsx)(rM,{children:(0,Ft.jsx)(JL,{})}),children:[(0,Ft.jsx)(Ye,{path:"dashboard",element:(0,Ft.jsx)(wa,{})}),(0,Ft.jsx)(Ye,{path:"users",element:(0,Ft.jsx)(Sa,{})}),(0,Ft.jsx)(Ye,{path:"tariffs",element:(0,Ft.jsx)(ja,{})}),(0,Ft.jsx)(Ye,{path:"promocodes",element:(0,Ft.jsx)(ka,{})}),(0,Ft.jsx)(Ye,{path:"referrals",element:(0,Ft.jsx)(Ca,{})}),(0,Ft.jsx)(Ye,{path:"support",element:(0,Ft.jsx)(Oa,{})}),(0,Ft.jsx)(Ye,{path:"support/:ticketId",element:(0,Ft.jsx)(Oa,{})}),(0,Ft.jsx)(Ye,{path:"payments",element:(0,Ft.jsx)(Pa,{})}),(0,Ft.jsx)(Ye,{path:"sales",element:(0,Ft.jsx)(Da,{})}),(0,Ft.jsx)(Ye,{path:"squads",element:(0,Ft.jsx)(Na,{})}),(0,Ft.jsx)(Ye,{path:"nodes",element:(0,Ft.jsx)(Ra,{})}),(0,Ft.jsx)(Ye,{path:"tariff-levels",element:(0,Ft.jsx)(Ma,{})}),(0,Ft.jsx)(Ye,{path:"tariff-features",element:(0,Ft.jsx)(La,{})}),(0,Ft.jsx)(Ye,{path:"system-settings",element:(0,Ft.jsx)(Ia,{})}),(0,Ft.jsx)(Ye,{path:"branding",element:(0,Ft.jsx)(Fa,{})}),(0,Ft.jsx)(Ye,{path:"theme",element:(0,Ft.jsx)($a,{})}),(0,Ft.jsx)(Ye,{path:"bot-constructor",element:(0,Ft.jsx)(rs,{})}),(0,Ft.jsx)(Ye,{path:"broadcast",element:(0,Ft.jsx)(za,{})}),(0,Ft.jsx)(Ye,{path:"trial-settings",element:(0,Ft.jsx)(ns,{})}),(0,Ft.jsx)(Ye,{path:"analytics",element:(0,Ft.jsx)(VL,{})}),(0,Ft.jsx)(Ye,{path:"options",element:(0,Ft.jsx)(XL,{})}),(0,Ft.jsx)(Ye,{index:!0,element:(0,Ft.jsx)(Ke,{to:"/admin/dashboard",replace:!0})})]})]})})})},{slice:sM,forEach:oM}=[];const lM=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,cM={create(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+60*r*1e3)),n&&(i.domain=n),document.cookie=function(e,t){const r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"},n=encodeURIComponent(t);let i="".concat(e,"=").concat(n);if(r.maxAge>0){const e=r.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");i+="; Max-Age=".concat(Math.floor(e))}if(r.domain){if(!lM.test(r.domain))throw new TypeError("option domain is invalid");i+="; Domain=".concat(r.domain)}if(r.path){if(!lM.test(r.path))throw new TypeError("option path is invalid");i+="; Path=".concat(r.path)}if(r.expires){if("function"!==typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");i+="; Expires=".concat(r.expires.toUTCString())}if(r.httpOnly&&(i+="; HttpOnly"),r.secure&&(i+="; Secure"),r.sameSite)switch("string"===typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(i+="; Partitioned"),i}(e,t,i)},read(e){const t="".concat(e,"="),r=document.cookie.split(";");for(let n=0;n<r.length;n++){let e=r[n];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var uM={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!==typeof document)return cM.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:r,cookieMinutes:n,cookieDomain:i,cookieOptions:a}=t;r&&"undefined"!==typeof document&&cM.create(r,e,n,i,a)}},dM={name:"querystring",lookup(e){let t,{lookupQuerystring:r}=e;if("undefined"!==typeof window){var n;let{search:e}=window.location;!window.location.search&&(null===(n=window.location.hash)||void 0===n?void 0:n.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const i=e.substring(1).split("&");for(let n=0;n<i.length;n++){const e=i[n].indexOf("=");if(e>0){i[n].substring(0,e)===r&&(t=i[n].substring(e+1))}}}return t}},hM={name:"hash",lookup(e){let t,{lookupHash:r,lookupFromHashIndex:n}=e;if("undefined"!==typeof window){const{hash:e}=window.location;if(e&&e.length>2){const a=e.substring(1);if(r){const e=a.split("&");for(let n=0;n<e.length;n++){const i=e[n].indexOf("=");if(i>0){e[n].substring(0,i)===r&&(t=e[n].substring(i+1))}}}if(t)return t;if(!t&&n>-1){var i;const t=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(t))return;return null===(i=t["number"===typeof n?n:0])||void 0===i?void 0:i.replace("/","")}}}return t}};let fM=null;const pM=()=>{if(null!==fM)return fM;try{if(fM="undefined"!==typeof window&&null!==window.localStorage,!fM)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(YM){fM=!1}return fM};var mM={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&pM())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:r}=t;r&&pM()&&window.localStorage.setItem(r,e)}};let gM=null;const vM=()=>{if(null!==gM)return gM;try{if(gM="undefined"!==typeof window&&null!==window.sessionStorage,!gM)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(YM){gM=!1}return gM};var yM={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&vM())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:r}=t;r&&vM()&&window.sessionStorage.setItem(r,e)}},bM={name:"navigator",lookup(e){const t=[];if("undefined"!==typeof navigator){const{languages:e,userLanguage:r,language:n}=navigator;if(e)for(let i=0;i<e.length;i++)t.push(e[i]);r&&t.push(r),n&&t.push(n)}return t.length>0?t:void 0}},xM={name:"htmlTag",lookup(e){let t,{htmlTag:r}=e;const n=r||("undefined"!==typeof document?document.documentElement:null);return n&&"function"===typeof n.getAttribute&&(t=n.getAttribute("lang")),t}},_M={name:"path",lookup(e){var t;let{lookupFromPathIndex:r}=e;if("undefined"===typeof window)return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(n))return;return null===(t=n["number"===typeof r?r:0])||void 0===t?void 0:t.replace("/","")}},wM={name:"subdomain",lookup(e){var t;let{lookupFromSubdomainIndex:r}=e;const n="number"===typeof r?r+1:1,i="undefined"!==typeof window&&(null===(t=window.location)||void 0===t||null===(t=t.hostname)||void 0===t?void 0:t.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(i)return i[n]}};let SM=!1;try{document.cookie,SM=!0}catch(YM){}const jM=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];SM||jM.splice(1,1);class kM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return oM.call(sM.call(arguments,1),t=>{if(t)for(const r in t)void 0===e[r]&&(e[r]=t[r])}),e}(t,this.options||{},{order:jM,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"===typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(uM),this.addDetector(dM),this.addDetector(mM),this.addDetector(yM),this.addDetector(bM),this.addDetector(xM),this.addDetector(_M),this.addDetector(wM),this.addDetector(hM)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let r=this.detectors[e].lookup(this.options);r&&"string"===typeof r&&(r=[r]),r&&(t=t.concat(r))}}),t=t.filter(e=>{return void 0!==e&&null!==e&&!("string"===typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}function CM(e){return CM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},CM(e)}kM.type="languageDetector";function EM(){return"function"===typeof XMLHttpRequest||"object"===("undefined"===typeof XMLHttpRequest?"undefined":CM(XMLHttpRequest))}function OM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function PM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?OM(Object(r),!0).forEach(function(t){NM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function NM(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=AM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=AM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AM(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AM(e){return AM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AM(e)}var TM,RM,DM="function"===typeof fetch?fetch:void 0;if("undefined"!==typeof r.g&&r.g.fetch?DM=r.g.fetch:"undefined"!==typeof window&&window.fetch&&(DM=window.fetch),EM()&&("undefined"!==typeof r.g&&r.g.XMLHttpRequest?TM=r.g.XMLHttpRequest:"undefined"!==typeof window&&window.XMLHttpRequest&&(TM=window.XMLHttpRequest)),"function"===typeof ActiveXObject&&("undefined"!==typeof r.g&&r.g.ActiveXObject?RM=r.g.ActiveXObject:"undefined"!==typeof window&&window.ActiveXObject&&(RM=window.ActiveXObject)),"function"!==typeof DM&&(DM=void 0),!DM&&!TM&&!RM)try{r.e(38).then(r.t.bind(r,9038,19)).then(function(e){DM=e.default}).catch(function(){})}catch(YM){}var LM=function(e,t){if(t&&"object"===AM(t)){var r="";for(var n in t)r+="&"+encodeURIComponent(n)+"="+encodeURIComponent(t[n]);if(!r)return e;e=e+(-1!==e.indexOf("?")?"&":"?")+r.slice(1)}return e},MM=function(e,t,r,n){var i=function(e){if(!e.ok)return r(e.statusText||"Error",{status:e.status});e.text().then(function(t){r(null,{status:e.status,data:t})}).catch(r)};if(n){var a=n(e,t);if(a instanceof Promise)return void a.then(i).catch(r)}"function"===typeof fetch?fetch(e,t).then(i).catch(r):DM(e,t).then(i).catch(r)},IM=!1;const BM=function(e,t,n,i){return"function"===typeof n&&(i=n,n=void 0),i=i||function(){},DM&&0!==t.indexOf("file:")?function(e,t,n,i){e.queryStringParams&&(t=LM(t,e.queryStringParams));var a=PM({},"function"===typeof e.customHeaders?e.customHeaders():e.customHeaders);"undefined"===typeof window&&"undefined"!==typeof r.g&&"undefined"!==typeof r.g.process&&r.g.process.versions&&r.g.process.versions.node&&(a["User-Agent"]="i18next-http-backend (node/".concat(r.g.process.version,"; ").concat(r.g.process.platform," ").concat(r.g.process.arch,")")),n&&(a["Content-Type"]="application/json");var s="function"===typeof e.requestOptions?e.requestOptions(n):e.requestOptions,o=PM({method:n?"POST":"GET",body:n?e.stringify(n):void 0,headers:a},IM?{}:s),l="function"===typeof e.alternateFetch&&e.alternateFetch.length>=1?e.alternateFetch:void 0;try{MM(t,o,i,l)}catch(YM){if(!s||0===Object.keys(s).length||!YM.message||YM.message.indexOf("not implemented")<0)return i(YM);try{Object.keys(s).forEach(function(e){delete o[e]}),MM(t,o,i,l),IM=!0}catch(c){i(c)}}}(e,t,n,i):EM()||"function"===typeof ActiveXObject?function(e,t,r,n){r&&"object"===AM(r)&&(r=LM("",r).slice(1)),e.queryStringParams&&(t=LM(t,e.queryStringParams));try{var i=TM?new TM:new RM("MSXML2.XMLHTTP.3.0");i.open(r?"POST":"GET",t,1),e.crossDomain||i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.withCredentials=!!e.withCredentials,r&&i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.overrideMimeType&&i.overrideMimeType("application/json");var a=e.customHeaders;if(a="function"===typeof a?a():a)for(var s in a)i.setRequestHeader(s,a[s]);i.onreadystatechange=function(){i.readyState>3&&n(i.status>=400?i.statusText:null,{status:i.status,data:i.responseText})},i.send(r)}catch(YM){console&&console.log(YM)}}(e,t,n,i):void i(new Error("No fetch and no xhr implementation found!"))};function zM(e){return zM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zM(e)}function FM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function HM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FM(Object(r),!0).forEach(function(t){WM(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FM(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function UM(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qM(n.key),n)}}function WM(e,t,r){return(t=qM(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qM(e){var t=function(e,t){if("object"!=zM(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=zM(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zM(t)?t:t+""}var KM=function(e,t,r){return t&&UM(e.prototype,t),r&&UM(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.services=t,this.options=r,this.allOptions=n,this.type="backend",this.init(t,r,n)},[{key:"init",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.services=e,this.options=HM(HM(HM({},{loadPath:"/locales/{{lng}}/{{ns}}.json",addPath:"/locales/add/{{lng}}/{{ns}}",parse:function(e){return JSON.parse(e)},stringify:JSON.stringify,parsePayload:function(e,t,r){return WM({},t,r||"")},parseLoadPayload:function(e,t){},request:BM,reloadInterval:"undefined"===typeof window&&36e5,customHeaders:{},queryStringParams:{},crossDomain:!1,withCredentials:!1,overrideMimeType:!1,requestOptions:{mode:"cors",credentials:"same-origin",cache:"default"}}),this.options||{}),r),this.allOptions=n,this.services&&this.options.reloadInterval){var i=setInterval(function(){return t.reload()},this.options.reloadInterval);"object"===zM(i)&&"function"===typeof i.unref&&i.unref()}}},{key:"readMulti",value:function(e,t,r){this._readAny(e,e,t,t,r)}},{key:"read",value:function(e,t,r){this._readAny([e],e,[t],t,r)}},{key:"_readAny",value:function(e,t,r,n,i){var a,s=this,o=this.options.loadPath;"function"===typeof this.options.loadPath&&(o=this.options.loadPath(e,r)),(o=function(e){return!!e&&"function"===typeof e.then}(a=o)?a:Promise.resolve(a)).then(function(a){if(!a)return i(null,{});var o=s.services.interpolator.interpolate(a,{lng:e.join("+"),ns:r.join("+")});s.loadUrl(o,i,t,n)})}},{key:"loadUrl",value:function(e,t,r,n){var i=this,a="string"===typeof r?[r]:r,s="string"===typeof n?[n]:n,o=this.options.parseLoadPayload(a,s);this.options.request(this.options,e,o,function(a,s){if(s&&(s.status>=500&&s.status<600||!s.status))return t("failed loading "+e+"; status code: "+s.status,!0);if(s&&s.status>=400&&s.status<500)return t("failed loading "+e+"; status code: "+s.status,!1);if(!s&&a&&a.message){var o=a.message.toLowerCase();if(["failed","fetch","network","load"].find(function(e){return o.indexOf(e)>-1}))return t("failed loading "+e+": "+a.message,!0)}if(a)return t(a,!1);var l,c;try{l="string"===typeof s.data?i.options.parse(s.data,r,n):s.data}catch(YM){c="failed parsing "+e+" to json"}if(c)return t(c,!1);t(null,l)})}},{key:"create",value:function(e,t,r,n,i){var a=this;if(this.options.addPath){"string"===typeof e&&(e=[e]);var s=this.options.parsePayload(t,r,n),o=0,l=[],c=[];e.forEach(function(r){var n=a.options.addPath;"function"===typeof a.options.addPath&&(n=a.options.addPath(r,t));var u=a.services.interpolator.interpolate(n,{lng:r,ns:t});a.options.request(a.options,u,s,function(t,r){o+=1,l.push(t),c.push(r),o===e.length&&"function"===typeof i&&i(l,c)})})}}},{key:"reload",value:function(){var e=this,t=this.services,r=t.backendConnector,n=t.languageUtils,i=t.logger,a=r.language;if(!a||"cimode"!==a.toLowerCase()){var s=[],o=function(e){n.toResolveHierarchy(e).forEach(function(e){s.indexOf(e)<0&&s.push(e)})};o(a),this.allOptions.preload&&this.allOptions.preload.forEach(function(e){return o(e)}),s.forEach(function(t){e.allOptions.ns.forEach(function(e){r.read(t,e,"read",null,null,function(n,a){n&&i.warn("loading namespace ".concat(e," for language ").concat(t," failed"),n),!n&&a&&i.log("loaded namespace ".concat(e," for language ").concat(t),a),r.loaded("".concat(t,"|").concat(e),n,a)})})})}}}]);KM.type="backend";const VM=KM;Rr.use(VM).use(kM).use(Yr).init({fallbackLng:"ru",debug:!0,supportedLngs:["ru","ua","cn","en"],interpolation:{escapeValue:!1},detection:{order:["localStorage","querystring","navigator"],caches:["localStorage"]},backend:{loadPath:"/locales/{{lng}}/translation.json"}});i.createRoot(document.getElementById("root")).render((0,Ft.jsx)(t.Suspense,{fallback:(0,Ft.jsx)("div",{className:"loading-full",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:(0,Ft.jsx)(t.StrictMode,{children:(0,Ft.jsx)(Pt,{children:(0,Ft.jsx)(Ut,{children:(0,Ft.jsx)(Wa,{children:(0,Ft.jsx)(aM,{})})})})})}))})()})();
//# sourceMappingURL=main.e892a64f.js.map